[{
  "id": "Readme_whatsnew",
  "version": "2024032512",
  "title": "tmp_whatsnew",
  "wordCount": 0,
  "subEntries": [
    {
      "id": "Readme_whatsnew_whatsnew",
      "title": "whatsnew",
      "location": "MIL Release Notes",
      "pageURL": "\\tmp_whatsnew\\whatsnew.htm",
      "text": " ------------------------------------------------------------------------------- Matrox Imaging Library (MIL) X Service Pack 7 Release Notes January 2024 (c) Copyright Matrox Electronic Systems Ltd., 1992-2024. ------------------------------------------------------------------------------- Main table of contents Section 1 : Overview of MIL X Update 144 for Service Pack 7 Section 2 : Overview of MIL X Update 145 for Service Pack 7 Section 3 : Differences between MIL X Service Pack 7 and Service Pack 6 Section 4 : Differences between MIL X 23H2 (10.60) and MIL X Version 22H1 Section 5 : Overview of MIL X Update 134 for Service Pack 6 Section 6 : Overview of MIL X Update 135 for Service Pack 6 Section 7 : Differences between MIL X Service Pack 6 and Service Pack 5 Section 8 : Differences between MIL X Version 22H1 and Version 2102 Section 9 : What's new with MIL X Update 114 for Service Pack 5 Section 10 : What's new with MIL X Update 115 for Service Pack 5 Section 11 : Differences between MIL X Update 117 and Update 113 for Service Pack 5 Section 12 : Differences between MIL X Service Pack 5 and Service Pack 4 with Update 101 Section 13 : Differences between MIL X Version 2102 and Version 1911 Section 14 : What's new with MIL X Update 101 for Service Pack 4 Section 15 : Differences between MIL X Service Pack 4 and MIL 10 Processing Pack 3 Section 16 : Differences between MIL X Version 1911 and MIL 10 R2 Section 17 : Differences between MIL 10 Processing Pack 3 and Processing Pack 2 with Update 63 Section 18 : What's new with MIL 10 Update 63 for Processing Pack 2 Section 19 : Differences between MIL 10 Processing Pack 2 and Processing Pack 1 Section 20 : Differences between MIL 10 R2 and MIL 10 Section 21 : What's new with MIL 10 Processing Pack 1 Section 22 : What's new in MIL 10 Section 23 : Differences between MIL 10 and MIL 9 with Processing Pack 2 and Update 56 Appendix A : Command Reference for MIL X Update 114 and Update 115 ------------------------------------------------------------------------------- Release notes are available for several MIL-related topics, such as MIL CoPilot. All release notes are accessible under the MIL Release Notes section of the Contents tab in the MIL Help. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 1 : Overview of MIL X Update 144 for Service Pack 7 Table of Contents for Section 1 1. Overview ------------------------------------------------------------------------------- 1. Overview - Update 144 is an update to the Classification module in MIL X Service Pack 7. Update 144 adds support for inference using Intel OpenVINO. It enables inference offload to an Intel integrated GPU (IGPU) as well as potential acceleration using an Intel CPU and IGPU. It supports FP32 and FP16 processing where applicable. It is equivalent to MIL X Update 134, but specific to MIL X Service Pack 7. - The recommended graphics driver for Intel Integrated Graphics when using Update 144 is 27.20.100.9079. - On some computer, installing a discrete GPU will disable the onboard graphics (iGPU). A setting in the BIOS may be present to allow the use of the onboard graphic and the discrete GPU at the same time. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 2 : Overview of MIL X Update 145 for Service Pack 7 Table of Contents for Section 2 1. Overview ------------------------------------------------------------------------------- 1. Overview - Update 145 is an update to the Classification module in MIL X Service Pack 7. Update 145 adds support for inference using NVIDIA CUDA. It enables offload to, and potential acceleration using, NVIDIA GPUs. It is equivalent to MIL X Update 135, but specific to MIL X Service Pack 7. - The NVIDIA GPU driver must at least be version 452.39. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 3 : Differences between MIL X Service Pack 7 and Service Pack 6 Table of Contents for Section 3 1. Overview 2. New functionalities and improvements 2.01 MIL processing-specific examples 2.02 Classification module 2.03 Advanced Geometric Matcher (AGM) 2.04 Deep Learning OCR module 2.05 Calibration module 2.06 SureDotOCR速 module 2.07 Code Reader module 2.08 Measurement module 2.09 Primitives 2.10 3D metrology module 2.11 3D primitives 2.12 3D blob module 2.13 3D model finder module 2.14 3D map module 2.15 3D graphics 2.16 3D display 2.17 3D geometry module 2.18 3D measurement module 2.19 General 3. Deprecated functionalities 3.01 Classification module 3.02 Display 3.03 3D metrology module 3.04 General 4. Fixed bugs 4.01 Classification module 4.02 Advanced Geometric Matcher (AGM) 4.03 Calibration module 4.04 SureDotOCR速 module 4.05 Registration module 4.06 Model Finder module 4.07 Metrology module 4.08 Code Reader module 4.09 Measurement module 4.10 Color module 4.11 Primitives 4.12 Graphics 4.13 Blob module 4.14 Edge Finder module 4.15 String Reader module 4.16 3D metrology module 4.17 3D primitives 4.18 3D model finder module 4.19 3D map module 4.20 3D display 4.21 General 5. Known limitations 5.01 Classification module 5.02 String Reader module 5.03 3D display 5.04 Model Finder module 5.05 3D blob module 5.06 3D primitives 5.07 General ------------------------------------------------------------------------------- 1. Overview - MIL X Service Pack 7 includes all the features of MIL X Service Pack 6. In addition, MIL X Service Pack 7 includes new processing functionalities, performance optimizations, and general improvements, such as: . New: A Deep Learning OCR module to read strings of characters in images. . New: A 3D measurement module to find transitions along 3D profiles and to fit a line geometry on the transition's positions coming from multiple profiles. . New: The MIL Classification module now supports deep learning anomaly detection. . New: The MIL Classification module now supports the statistical analysis of datasets to help analyze classifier performance. . New: The MIL Advanced Geometric Matcher module now supports finding occurrences at any angle, and defining models from a DXF file. Model training has also been simplified. . New: Code Reader reads more Truncated PDF417 and PDF417 codes not respecting the specification recommendation for the cell size dimension (i.e. a height on width ratio of 3). . New: Support of Zhang method for camera calibration. . New: The 3D model finder module now supports using color information, removing floor and reusing results for surface matching. . New: Support of a truncated pyramid-type alignment object to determine 3D profile sensor alignment correction. . New: Additional processing features such as more efficient edge preserving image filtering, morphological operation on depth maps, etc. . New: Additional 3D processing such as the stitching of depth maps or organized point clouds, new options for profile extraction (thickness and sampling distance), computation of 3D voxel grid or a 2D projection grid, many new statistics, new 3D data representation for depth maps, etc. . New: Additional 3D graphics and 3D display features such as the possibility of showing multiple graphics lists in the same display or the same graphics list in multiple displays, controlling the level of detail, performing orthographic/parallel projection, graphic picking, more flexible control over interactivity, etc. . New examples and many more additions and improvements to discover! - MIL X Version 2102 is the minimum requirement for this Service Pack. - Minimum requirement for MIL X Service Pack 7 for Windows is Windows 10 Version 1607 or more recent with some exceptions. - Microsoft Visual Studio 2022 (17.4) is the minimum requirement to compile the &quot;Microsoft Visual 2022&quot; examples. - MIL X Service Pack 7 removes the support of the Morphis QxT, Matrox Radient eV-CLHS, Matrox RadientPro CL and Matrox Orion HD systems. - MIL X Service Pack 7 also removes the support for DirectShow. - Windows' automatic 8.3 file name creation needs to be enabled in order for the MIL installer to access the temp folder when the username contains a space. This option allows Windows to create short file/folder name aliases for ones with long names for programs, such as the MIL installer, that don't support spaces in the file/folder names. Alternatively, the MIL installer needs to run from a user account that belongs to the administrators' group and has no spaces in it. Note that the same applies for uninstalling MIL. - Some anti-virus or security applications may interfere with MIL installation. To perform the installation without any interruption, it is recommended that you temporarily disable your anti-virus or security application. - Shortcuts to the ModelFinder interactive utilities have been deprecated as the functionality is available in the latest MIL CoPilot interactive environment. - Ply files are associated to Microsoft's 3D Viewer by default on Windows. To open a ply file with 3D Viewer, the point cloud must contain a mesh; otherwise, you will get the error: &quot;Couldn't load 3D model&quot;. - MIL X Service Pack 7 does not support Python 2.x. MIL CoPilot version 10.40 (i.e., MIL X Update 94) will no longer support it after a Service Pack 7 installation. - MIL X Service Pack 7 for Python has been validated using the following package versions: Python 3.7.9, Python 3.9.13, Python 3.11.6, Numpy 1.21.0 and Matplotlib 3.5.0. - If Python is installed after the installation of MIL X Service Pack 7, the following command must be executed: pip install mil --no-index --find-links=&quot;%MIL_PATH64%\\..\\Scripting\\pythonwrapper\\dist&quot; This command is not necessary if Python is installed prior to the MIL X Service Pack 7 installation. - To train a Deep Learning classifier using an Nvidia GPU you must download and install MIL X Update 143. - MIL X Service Pack 7 only supports 64-bit. - MIL X Service Pack 7 no longer supports the original and previously deprecated Mblob, Mpat and Mcode APIs. - MIL X Service Pack 7 will be the last version to support the original and previously deprecated M3dmap APIs (see Service Pack 4 section for additional details). 2. New functionalities and improvements 2.01 MIL processing-specific examples - New MIL X Service Pack 7 examples are available from Matrox Example Launcher. - Visit our GitHub repository (https://github.com/Matrox-Imaging) for third-party 3D camera interface examples and more. 2.02 Classification module - New: The MIL Classification module now supports deep learning anomaly detection (training and prediction) through new deep neural network models. - New: The MIL Classification module now supports the statistical analysis of datasets through the new API MclassStatCalculate(). This can be used to analyze classifier performance by computing metrics on predicted datasets. - New: MclassInquire() with M_TRAINED_PARAMS_DATE allows you to retrieve the trained parameters' date of the context. - New: MclassInquire() with M_UUID allows you to retrieve the classifier UUID. - New: MclassControl() with M_RESIZE_SCALE_FACTOR now supports M_FILL_DESTINATION_BILINEAR when performing data preparation. - New: MclassGetHookInfo(..., M_STATUS, ...) on a M_PREPARE_ENTRY_POST event identifier can now return M_IMAGE_FILE_INVALID for files that exist but are not restorable. - New: MclassGetResult(..., M_STATUS, ...) on a predict result can now return M_INVALID_REGION_BUFFER in cases where the target image had an invalid region buffer. 2.03 Advanced Geometric Matcher (AGM) - New: The MIL AGM module now supports finding occurrences at any angle when using an M_SINGLE model in an M_GLOBAL_EDGE_BASED_FIND context. - New: The MIL AGM module now supports finding occurrences and training models without relying on target edges extracted at a specified threshold mode, but uses the magnitude of the gradient instead for greater robustness. This can be achieved by setting M_USE_EDGELS_MAGNITUDE_TARGET to M_ENABLE. - New: The MIL AGM module (AGM) now supports defining models from a DXF file for an M_SINGLE model in an M_GLOBAL_EDGE_BASED_FIND context. - New: The MIL AGM module (AGM) now supports defining models from an Edge result for an M_SINGLE model in an M_GLOBAL_EDGE_BASED_FIND context. - New: MagmFind() can now be used with an Edge result target. - New: MagmControl() with M_FIT_MODE allows you to control how the fit step is performed. It can be disabled or set to subpixel/pixel precision. - New: MagmTrain() now supports automatically realigning the positive labels in a train container. This decreases the required precision of the labeling of the training images and hence improves the ease of use. - New: MagmTrain() now supports automatically generating negative labels. - New: MagmGetResult() with M_TRAINING_ERROR and M_TRAINING_CONFIDENCE now allows you to retrieve training results. - New: MagmControl() with M_TRAIN_LABELS_NOISE_MODE set to M_LABELS_CONFIDENCE allows you to perform trainings that are robust to outlier and incorrect labels. 2.04 Deep Learning OCR module - New: A Deep Learning OCR module that read strings of characters in images. The module does not require any font definition and needs minimal parametrization. The module supports string model definitions and string constraints for greater robustness. 2.05 Calibration module - New: McalAlloc() with M_ZHANG_BASED allow you to calibrate a 3D camera model using multiple grids with unknown poses. - New: McalControl() with M_TOOL_ROTATION_Z allows you to rotate the tool coordinate system about its Z-axis. 2.06 SureDotOCR速 module - New: MdmrStringModel() with M_IS_OPTIONAL allows you to define as optional a position in a string model. This makes it easier to configure a string in situations when multiple string models have a common subset of constraints. 2.07 Code Reader module - Improvement: McodeRead() is now able to decode Micro QR codes (version M1 and M3) even if the last codeword does not fully respect the ISO standard. - Improvement: McodeRead() is now able to decode some Data Matrix codes even if encoding does not fully respect the ISO standard. - Improvement: McodeRead() is now more robust to decode M_PDF417 and M_TRUNCATED_PDF417 codes whose cells do not respect the ISO specification recommended height on width ratio (i.e., 3). - Improvement: McodeRead() with M_GS1_DATABAR code type now supports decoding code with variation in their module size up to 50%. - Improvement: McodeRead() and McodeWrite() now support Version 23 of the GS1 General Specifications. - Improvement: The Matrox Code Reader Interactive Utility now sets by default M_INITIALIZATION_MODE to M_IMPROVED_REGOGNITION when allocating a new context. This makes it more likely to read out of the box. 2.08 Measurement module - New: MmeasGetResult() with M_SUB_REGIONS_EDGE_VALUES allows you to retrieve edge values for each sub region. The edges' values are copied in the first result parameter (if not null) as a concatenated array. 2.09 Primitives - New: MimFilterAdaptive() now supports M_GUIDED and M_FAST_GUIDED to smooth an image while preserving its features (edge-preserving filter). - New: MimMorphic() now supports performing M_DILATE, M_ERODE, M_CLOSE, M_OPEN, M_BOTTOM_HAT and M_TOP_HAT operations on a 3D-processable depth map container. - New: MgenLutFunction() now supports the perceptually uniform colormap M_COLORMAP_WHEEL. The colormap is also supported by MdispLut(), M3dgraCopy() and M3ddispLut(). - New: MgenLutFunction() is now able to generate colormaps with an arbitrary number of cycles (cyclical LUT). - New: MimArith() now supports M_SATURATION for the M_NEG operation. - New: MimRemap() can now be used with a context. This allows you to choose the start and end values on the source and destination buffers. - New: MimMorphic() now supports M_ITER_COMBINED to combine iterations as one larger equivalent structuring element. This can be much faster when the size of the equivalent structuring element does not become too large. - New: MbufControl() with M_ITER_OVERSCAN can be used to specify how to handle overscan operations with multiple iterations. This applies to structuring elements. 2.10 3D metrology module - New: M3dmetDistanceEx() function, which offers more distance types and the option to use a result object, when compared to M3dmetDistance(). 2.11 3D primitives - New: M3dimStat() with M_BOX_SEMI_ORIENTED_ROTATION_AXIS sets the axis with which to align the semi-oriented bounding box. - New: M3dimFix() with M_UNREPLICATED_POINTS can validate and fix if there are any replicated points in a point cloud container. - New: M3dimStat() with M_NEIGHBORHOOD_ASPECT_RATIO allows you to calculate local aspect ratio statistics. This is useful to describe how skewed the point density is in one direction compared to the other. - New: M3dimStat() with M_NUMBER_OF_VALID_NEIGHBORS allows you to calculate number-of-valid-neighbors statistics. This is useful to check for degenerate neighborhoods, which negatively affect neighborhood-based functions (for example, M3dimNormals()). - Improvement: M3dimStat() with M_DISTANCE_TO_NEAREST_NEIGHBOR and M_SURFACE_VARIATION statistics now ignores the replicated points when computing statistics. M3dimGetResult() with M_STATUS_NEIGHBOR_STATS allows you to retrieve whether replicated points were found during calculation. - New: M3dimMerge() with an allocated M_STITCH_CONTEXT or M_STITCH_CONTEXT_DEFAULT can be used to stitch depth maps or organized point clouds. For point clouds, the resulting merged point cloud will be organized. - New: New container type M_3D_PROCESSABLE_DEPTH_MAP. It contains a depth map and is supported by MbufConvert3d() and many M3dim functions as well as MimMorphic(). - New: M3dimProfileEx() function, which extracts a profile from a depth map with a given thickness and a given output sampling distance. In addition, it provides various modes for handling interpolation and invalid points in a source depth map. - New: M3dimLattice(), which computes a 3D voxel grid or a 2D projection grid. It can be used to setup a grid subsampling context. - New: MbufConvert3d() now supports the conversion of projected models, represented by M_PROJECTED_Z and M_PROJECTED_Z_EXTERNAL. 2.12 3D blob module - New: M3dblobSegment() now stops when reaching M_TIMEOUT or when requested with M_STOP_SEGMENT. 2.13 3D model finder module - New: M3dmodFind() with M_FIND_SURFACE_CONTEXT and with M_USE_COLOR allows you to use the color information of the model and scene when searching for surface occurrences. - New: M3dmodFind() with M_FIND_SURFACE_CONTEXT and with M_REMOVE_FLOOR allows you to remove floor points from the target point cloud before performing the match. - New: M3dmodFind() with M_FIND_SURFACE_CONTEXT and with M_REUSE_RESULT allows you to reuse the result of the previous search at the beginning of the current search. If you expect occurrences to be found in similar locations to the occurrences found in the previous search, it speeds up the operation. - New: M3dmodModifyResult() can modify a result by deleting or transforming occurrences. This is useful when reusing a result for a new search. - New: M3dmodControl() with M_REMOVE_BACKGROUND_SEARCH_MODE, M_REMOVE_OUTLIERS_SEARCH_MODE and M_MODEL_NORMAL_SEARCH_MODE deciding the search mode (M_ORGANIZED, M_TREE or M_AUTO) for M_REMOVE_BACKGROUND, M_REMOVE_OUTLIERS and for calculating model normals. - New: M3dmodDefine() with M_SURFACE now allows you to specify the position and orientation of the model's reference axis origin. M3dmodControl() with M_SET_POSITION_X/Y/Z and M_TRANSFORM_MODEL also allows you to modify the position and orientation of the model's reference axis origin. - New: M3dmodFind() with M_FIND_BOX_CONTEXT now supports results of specific faces (M_VISIBLE, M_CENTER_X/Y/Z, M_NORMAL_X/Y/Z...). - New: M3dmodControl() for M_FIND_BOX_CONTEXT now allows you to control how to extrude the box using M_COMPLETION_TO_BACKGROUND, M_COMPLETION_TO_STAIRCASE and M_COMPLETION_TO_USER_SIZE. - New: M3dmodControl() with M_SORT is now supported for setting the sorting key for the output results of all context types instead of just surface 3D model finder contexts. New results M_VOLUME and M_AREA can now be used as additional sorting keys for geometric 3D model finder contexts. - Improvement: M3dmodFind() with M_FIND_RECTANGULAR_PLANE_CONTEXT and M_FIND_BOX_CONTEXT now has a more responsive M_TIMEOUT and M_STOP_FIND. - Improvement: M3dmodPreprocess() will no longer be invalid when calling M3dmodControl() with M_RESTING_PLANE_ANGLE_TOLERANCE, M_ACCEPTANCE_COLOR, M_SORT, M_SORT_DIRECTION, M_NUMBER, M_ACCEPTANCE, M_CERTAINTY, M_NUMBER_OF_POINTS_MIN, M_COVERAGE_MAX or M_ACCEPTANCE_TARGET, or when calling M3dmodCopy() with M_FLOOR or M_RESTING_PLANE. 2.14 3D map module - New: M3dmapControl() with M_PYRAMID allows you to specify a truncated pyramid-type object for alignment correction (M3dmapAlignScan()). 2.15 3D graphics - New: M3dgraControl() with M_VIEW_BASED_LOD sets whether to use different LODs (levels of details) based on the display view. This improves the performance when the display selects a lower LOD. - New: M3dgraControl() now allows you to enable and disable parts of a graphics editability. This can be achieved by setting M_EDITABLE to M_ENABLE and using the controls M_TRANSLATABLE_X/Y/Z, M_SCALABLE_X/Y/Z, M_ROTATABLE_X/Y/Z and M_SCALABLE_X0/X1/Y0/Y1/Z0/Z. - New: M3dgraControl() with M_UPDATE allows you to prevent a 3D display refresh during modifications of the graphics list while keeping the 3D display interactivity working (e.g. change the point of view, etc). - New: M3dgraControl() with M_HANDLE_TYPE sets whether the graphic can be clicked and dragged. M3dgraControl() with M_HANDLE_TARGET_LABEL can select which graphic to use as the target for handle movement or clicking events. - New: M3dgraRect() can add a rectangle graphic to a 3D graphics list. - New: M3dgraArcFill() can add a filled circular arc graphic to a 3D graphics list. - Improvement: The rotation and translation handles of an editable box will now be shown 2 layers above the box (if possible). This makes them easier to be seen and clicked on, regardless of other objects in the scene. - New: M3dGra...() functions automatically fix some components when displaying a point cloud (such as NaN). This does not modify the source point cloud. 2.16 3D display - New: It is now possible to show multiple graphics lists in the same display, or the same graphics list in multiple displays. This is managed using M3ddispSelect() and M3ddispSelectWindow(). - New: M3ddispControl() with M_PROJECTION_MODE and with M_PARALLEL or M_PARALLEL_PRECISE allows you to perform orthographic/parallel projection. - New: M3ddispPick() allows you to identify which 3D graphic (if any) is at a specific position in the 3D display and writes the results in the specified result buffer. - New: M3dgraControl() with M_RENDER_LAYER allows you to set the default layer on which the 3D graphic is rendered when shown in a display. The graphics on higher layers are always drawn completely in front of graphics on lower layers even if those on higher layers are farther away. - New: M3ddispControl() with M_MOUSE_ROTATION, M_MOUSE_TRANSLATION, M_MOUSE_TRANSLATION_X/Y, M_MOUSE_ROLL, and M_MOUSE_ZOOM allows you to enable/disable interactively translating/rotating/rolling/zooming the view for the 3D display using the mouse. - New: New controllable keyboard shortcuts. M3ddispControl() with M_FUNCTION_KEY_POINTSIZE_DECREMENT / INCREMENT can change the point size of a displayed point cloud ('z', 'x'). M3ddispControl() with M_FUNCTION_KEY_CYCLE_APPEARANCES can cycle through the appearances of a point cloud having a mesh component ('Ctrl + m'). - New: M3ddispControl() with M_SYNCHRONIZE allows you to synchronize with the 3D display's internal thread. This is normally not needed, but may be useful in rare situations. In particular, if you call M3ddispSetView() and require that any M_VIEW_CHANGE callbacks have been completed before continuing, you should use M_SYNCHRONIZE to guarantee this. - New: M3ddispHookFunction() with M_ENTER_SAFE_MODE is called when an unrecoverable error is encountered, allowing you to save buffers and provide a message to the user. - New: M3ddispHookFunction() supports many new event types including M_VIEW_CHANGE, M_FOV_CHANGE and many more. - New: M3ddispSetHookInfo() with M_CONSUMED allows you to notify the 3D display that mouse or keyboard events have been processed by the user hook function. - New: M3ddispInquire() with M_FRAMETIME_AVERAGE returns the 3D display rendering time and M3ddispHookFunction() with M_FRAMETIME_HIGH allows you to detect slow renderings and be able to react to them. See also other M_FRAMETIME_ inquire and control types for more options. - New: M3ddispCopy() with M_RENDER allows you to copy the resulting image of the current render to the destination buffer or container. 2.17 3D geometry module - New: M3dgeoinquire() with M_ROTATED allows you to check whether the M_BOX geometry has been rotated. 2.18 3D measurement module - New: 3D measurement module to find transitions in a profile extracted from a 3D depth map using M3dmeasFindMarker() and to fit a line geometry on the transitions' positions from multiple profiles using M3dmeasFit(). 2.19 General - New: MfuncAllocScript(M_INTERPRETER_C_PYTHON311) allocates a script-based user-defined function for Python 3.11. - New: MbufExport() and MbufStream() with M_PNG_COMPRESSION_LEVELn allows you to specify a compression level. - New: MosUuidCreate(), MosUuidFromString() and MosUuidToString() creates and manipulates Universally Unique Identifiers (UUID). 3. Deprecated functionalities 3.01 Classification module - The following MclassGetResult() result types have been renamed: .M_NUMBER_OF_CLASS_SCORES renamed to M_NUMBER_OF_PREDICTIONS .M_CLASS_SCORES renamed to M_PREDICTION_SCORES .M_CLASS_SCORES_SIZE_X renamed to M_PREDICTION_SIZE_X .M_CLASS_SCORES_SIZE_Y renamed to M_PREDICTION_SIZE_Y. - For MclassGetResultEntry(), MclassDrawEntry() and MclassGetHookInfo(), the M_DETECTION task type has been renamed to M_OBJECT_DETECTION. - For MclassControl(), M_FILL_DESTINATION has been renamed to M_FILL_DESTINATION_NEAREST_NEIGHBOR. 3.02 Display - MdispControl() with M_WINDOW_RESIZE will no longer support M_FULL_SIZE and M_NORMAL_SIZE. The only effect of M_FULL_SIZE is to disable window resize, which is equivalent to calling MdispControl(M_WINDOW_RESIZE, M_DISABLE). There is nothing to do to replace M_NORMAL_SIZE since this is the default behavior. 3.03 3D metrology module - The following M3dmetGetResult() result types have been renamed: .M_STATUS renamed to M_STATUS_FIT .M_VOLUME_STATUS renamed to M_STATUS_VOLUME .M_EXTRUSION_STATUS renamed to M_STATUS_EXTRUSION. 3.04 General - The following MbufControl() and MbufControlContainer() control types have been renamed: .M_3D_DISPARITY_FOCAL_LENGTH renamed to M_3D_FOCAL_LENGTH. .M_3D_DISPARITY_PRINCIPAL_POINT_X renamed to M_3D_PRINCIPAL_POINT_X. .M_3D_DISPARITY_PRINCIPAL_POINT_Y renamed to M_3D_PRINCIPAL_POINT_Y. 4. Fixed bugs 4.01 Classification module - Fixed bug: MclassGetHookInfo() is now able to correctly deduce the return type for object detection M_PREDICT_ENTRY events when using the Python wrapper. - Fixed bug: MclassInquire() with M_CLASS_DRAW_COLOR + M_DEFAULT is no longer a valid combination. Prior to the fix, it would always return 0. - Fixed bug: MclassPrepareData() with a context of type M_PREPARE_IMAGES_DET will now augment images containing no user added instances. - Fixed bug: MclassDrawEntry() no longer crashes when there exists M_DESCRIPTOR_BASED regions without the necessary ground truth type. - Fixed bug: MclassPreprocess() with M_RESET will now properly free the memory held by the preprocessed context. - Fixed bug: MclassPrepareData() will no longer call M_PREPARE_ENTRY_PRE and M_PREPARE_ENTRY_POST hooks for entries that are not prepared. - Fixed bug: MclassControl() with M_RESULT_OUTPUT_UNITS will no longer fail for object detection results. - Fixed bug: MclassGetResult() on M_PREDICT_ONNX_RESULT results will now correctly identify the data types when using the Python wrapper. - Fixed bug: MclassEntryAddRegion() will now only accept adding axis align boxes to the dataset. - Fixed bug: When MclassTrain() popped a MIL error during training, it will now properly report the train status. Prior to the fix it was reporting M_CURRENTLY_TRAINING. - Fixed bug: MclassPredict() will no longer hang after a timeout (which could have occurred in rare cases). - Fixed bug: MclassPredict() will no longer throw an error when given a buffer with a region, the buffer has more than a single band and his type is not 8-bit unsigned. - Fixed bug: MclassDraw() will now properly handle the graphic context settings M_DRAW_OFFSET_X/Y and M_DRAW_ZOOM_X/Y as well as M_INPUT_UNITS set to M_WORLD for object detection. Prior to the fix an error was popped. - Fixed bug: MclassPredict() will now properly handle 1 band buffer with region for object detection. Prior to the fix an error was popped. - Fixed bug: MclassGetResult() of a train will now correctly return M_NOT_ENOUGH_GPU_MEMORY as an M_STATUS result. Prior to the fix it was wrongly returning M_INTERNAL_ERROR in some cases. - Fixed bug: MclassPredict() will no longer ignore calibration when applied on calibrated 1-band buffers for object detection. - Fixed bug: MclassTrain() for M_ODNET classifiers will no longer fail with an M_STATUS of M_INTERNAL_ERROR for certain very large image sizes. - Fixed bug: The calibration module will now support M_PREDICT_SEG_RESULT and M_PREDICT_DET_RESULT result buffer. - Fixed bug: MclassTrain() will no longer crash when receiving mismatching types of train context and result; it will throw a MIL error instead. - Fixed bug: MclassPrepareData() with contexts of type M_PREPARE_IMAGES_SEG and M_PREPARE_IMAGES_DET will now ensure that all prepared entries have unique names. Previously, prepared entries with the same name would overwrite one another. - Fixed bug: MclassExport() will now ensure that created CSV files follow RFC 4180 for the double quoted characters. Previously it would add double quoted characters as is, leading to MIL Errors during MclassImport(). - Fixed bug: MclassInquire() will no longer lead to a MIL error when using the inquire type M_PREDICT_ENGINE_DESCRIPTION with the label M_CONTEXT. - Fixed bug: MclassExport() will no longer crash when bounding boxes with very large numerical values are present in the dataset. - Fixed bug: MclassPrepareData() will no longer incorrectly offset bounding box labels when cropping images in a dataset with multiple size images. - Fixed bug: MclassAlloc() will no longer return an unhandled exception when having older than recommended graphics drivers. It now allocates properly. - Fixed bug: MclassFree() will no longer return an unhandled exception when using the OpenVINO predict engine and an error occurred. It now frees properly. - Fixed bug: MclassImport() will report an error when importing a descriptor CSV file (mask, polygon, and box) that has a data record with an empty ClassIdxGroundTruth field. Prior to the fix, it was ignored during the training. - Fixed bug: MclassExport() will now export the object detection results when the first entry does not have results and the others do. Prior to the fix the results were not exported. - Fixed bug: MclassExport() will no longer crash for image datasets containing object detection results in the first entry but with missing results for one of the others. - Fixed bug: MclassTrain() will no longer throw a MIL error when called with both a TrainDatasetContextClassId and a DevDatasetContextClassId that have M_ROOT_PATHs starting with ///DATASET///. - Fixed bug: Datasets copied from a train result using MclassCopyResult() with M_PREPARED_TRAIN_DATASET or M_PREPARED_DEV_DATASET will now have a valid value for M_ROOT_PATH. Previously, this bug would occur when calling MclassTrain() with a TrainDatasetContextClassId or DevDatasetContextClassId that had an M_ROOT_PATH starting with ///DATASET///. 4.02 Advanced Geometric Matcher (AGM) - Fixed bug: MagmFind() will no longer pop an error when M_STEP_X is set to a value larger than the target image width. - Fixed bug: Successive calls to MagmFind() with two target images having slightly different width and/or heights could, in rare cases, lead to a crash. This is no longer the case. - Fixed bug: MagmTrain() will now ignore regions associated with train images when M_REGION_USE is set to M_IGNORE as it should. - Fixed bug: When using MagmDraw() with M_DRAW_POSITION for an AGM model there will no longer be an offset of 0.5 pixel in some cases. - Fixed bug: MagmFind() will now be more precise while computing the overlap between occurrences. This result in a better usability of the M_MAX_ACCEPTED_OVERLAP control. 4.03 Calibration module - Fixed bug: McalGrid() will now always report errors properly when running on a DMIL system. Prior to the fix, under some circumstances, the errors were not reported. - Fixed bug: McalInquire() with M_TRANSFORM_CLIP_SIZE_X_PRESERVE_PIXEL_SIZE and M_TRANSFORM_CLIP_SIZE_Y_PRESERVE_PIXEL_SIZE will now return the optimal size in the case of a Calibration with non-constant pixel size. Prior to the fix, the size was not always optimal. 4.04 SureDotOCR速 module - Fixed bug: MdmrRead() will no longer crash when reading images containing very complex scenes. The crash was more likely to occur in an application allocating and freeing contexts many times. This was happening in extremely rare cases. 4.05 Registration module - Fixed bug: MregCalculate() for depth-from-focus registration will no longer be inaccurate along horizontal edges. 4.06 Model Finder module - Fixed bug: MmodPreprocess() will no longer crash when using a model defined from a CAD DXF file includes nested entities blocks. This was happening on some occasions. 4.07 Metrology module - Fixed bug: MmetCalculate() will no longer have an issue with a very small ring search region. Prior to the fix, no result was found in some rare cases. - Fixed bug: MmetAddFeature() will no longer fail in rare cases when adding an M_CONSTRUCTED point with an M_MAX_OF_MIN_DISTANCE_POINT build operation using two M_ARC base features. - Fixed bug: MmetCalculate() will no longer cause an infinite loop when calculating M_AREA_BETWEEN_CURVES, M_AREA_UNDER_CURVE_MAX or M_AREA_UNDER_CURVE_MIN. This was happening in extremely rare cases. - Fixed bug: MmetCalculate() computes the roundness with more precision. Prior to the fix, the computed roundness was sometime larger than expected. - Fixed bug: MmetRestore() will no longer have issues loading a context containing a search region whose M_REGION_POSITION_TYPE is set to M_FEATURE_LABEL_VALUE. Prior to the fix, the context behavior was undefined. - Fixed bug : MmetCalculate() will no longer fail constructing an M_CIRCLE feature from edgels or points, when the points are very close with high variance relative to the constructed circle. This may happen when using a calibration with very small average scale, or using constructed points that are very close. 4.08 Code Reader module - Fixed bug: McodeRead() will now properly return M_STATUS_TIMEOUT_END as a status when the timeout duration is hit before the reading operation is completed and the code type is M_DOTCODE. Prior to the fix, it was returning M_STATUS_NOT_FOUND. - Fixed bug: McodeRead() with M_SPEED set to M_VERY_LOW had its decoding time negatively impacted by setting M_CODE_SEARCH_MODE to M_FAST or M_DEFAULT. This was true for linear barcode. It is not the case anymore. - Fixed bug: McodeInquire() will now properly return M_DEFAULT when inquiring M_CODE_SEARCH_MODE+M_DEFAULT for code types that don't support M_CODE_SEARCH_MODE. Prior to the fix it was returning M_FAST. - Fixed bug: McodeRead() with M_SCANLINE_HEIGHT set to a large value is now more robust for decoding M_COMPOSITECODE code type. - Fixed bug: McodeRead() with M_SCANLINE_HEIGHT set to a large value is now more robust for decoding an M_GS1_DATABAR stacked code type. It is also more robust and returns more accurate bounding box results when M_FOREGROUND is set to M_ANY. - Fixed bug: McodeRead() with M_DOTCODE will now properly read when called after an McodeTrain(). Prior to the fix it was not reading properly when the dotcode had a greater than 5 degree rotation. - Fixed bug: McodeRead() will now properly take into account the M_ENCODING value while decoding an M_AZTEC code type. - Fixed bug: McodeRead() will now properly take into account the M_CELL_SIZE_MIN/MAX values while decoding an M_PHARMACODE code type. 4.09 Measurement module - Fixed bug: MmeasFindMarker() will no longer return the wrong edges when using M_SPACING_SCORE. This was happening in some cases. 4.10 Color module - Fixed bug: The Matrox Color Analysis Interactive Utility will no longer incorrectly use an Area Image that has been closed. 4.11 Primitives - Fixed bug: MimConvolve() result with an IIR filter when using multi-core will no longer depend on the destination buffer memory alignment. Prior to the fix, the result differed slightly depending on the destination buffer memory alignment. - Fixed bug: MimWarp() with M_WARP_LUT, with a source buffer being a child buffer and containing more than 2147483648 pixels will no longer return a destination buffer containing wrong values. - Fixed bug: MimWarp() with M_WARP_LUT and a source buffer containing more than 2147483648 pixels will no longer give wrong results for coordinates on the source border. - Fixed bug: MimBinarize() with M_DOMINANT mode will no longer return an incorrect threshold value in some rare cases with non bimodal histograms. - Fixed bug: MimRemap() with a float destination will no longer cause a floating point exception when mapping near the maximum float value in some cases. For the problem to happen, the floating point exception needed to have been manually activated. 4.12 Graphics - Fixed bug: MgraArc()/MgraArcFill() with very small radius and angle range will no longer give an incorrect result. 4.13 Blob module - Fixed bug: MblobCalculate() will no longer crash with two successive calls. This was happening when after the first call, some blobs were excluded from the result buffer and a Feret feature was enabled. - Fixed bug: MblobCalculate() will no longer pop an error when a depth map feature is used as a sorting key (M_SORTn). - Fixed bug: MblobGetResult() will now properly detect wrong data type usage when using M_FERET_GENERAL, M_FERET_MAX_DIAMETER, M_FERET_MIN_DIAMETER, M_FERET_PERPENDICULAR_TO_MAX_DIAMETER, M_FERET_X, or M_FERET_Y results. 4.14 Edge Finder module - Fixed bug: MedgeCalculate() will no longer crash when floating input buffer contains NaN values. NaN values should be avoided since the behavior is undefined in the presence of such values. 4.15 String Reader module - Fixed bug: MstrEditFont() with M_CHAR_ADD of an M_SYSTEM_FONT and with a font name longer than 32 characters will now define the right font properly. 4.16 3D metrology module - Fixed bug: M3dmetVolumeEx() will now properly set the status of the volume elements when computing the volume between a mesh with gaps and a reference plane. - Fixed bug: M3dmetStat() with M_STAT_RMS or M_STAT_MEAN_ABS will now properly reset these results when a second call is made with these statistics disabled. Prior to the fix the old results were still available. 4.17 3D primitives - Fixed bug: M3dimCopy() with M_EXTENT_BOX will no longer give an incorrect box if the depth map is a child. - Fixed bug: M3dimStat() with M_STAT_CONTEXT_BOUNDING_BOX will no longer give an incorrect box if the depth map is a child. - Fixed bug: M3dimMesh() with M_MESH_LOCAL_PLANE will now consistently generate mesh with triangles vertices' ordered counter-clockwise around the first vertex's normal. - Fixed bug: M3dimStat() with M_STAT_CONTEXT_BOUNDING_BOX will now properly reset the bounding box result when called on depth maps containing only invalid points. Prior to the fix, if the previous call was made on a depth map with pixel rotation and with at least one valid point the old result was kept. - Fixed bug: M3dimMesh() with mode M_MESH_LOCAL_PLANE and M_MESH_SMOOTHED will now ignore points with invalid normals. For M_MESH_SMOOTHED the points with a zero confidence will now be ignored as well (they were already ignored with M_MESH_LOCAL_PLANE). - Fixed bug: M3dimFillGaps() with M_FILL_MODE set to M_REPLICATE will no longer fill gaps appearing on the top or left borders and one pixel larger than the corresponding M_FILL_THRESHOLD_X/Y. - Fixed bug: M3dimFillGaps() with a 3-band intensity map will now fill the green and blue bands. - Fixed bug: M3dimRestore() will now properly restore a saved M_3DIM_REMAP_CONTEXT. Prior to the fix, the restored context had the wrong object type. - Fixed bug: MbufConvert3d() to a depth map will no longer incorrectly invalidate valid pixels with value equal to the destination depth map's maximum value. The problem was happening when there was no confidence in the source container and the invalid data flag was set to false. - Fixed bug: M3dimProfile() with M_PROFILE_DEPTH_MAP will now properly clip line profile. Prior to the fix, when start or end points of the line were beyond the depth map buffer limits, it was clipped in a manner that could change the line profile slope. - Fixed bug: M3dimProject/Arith() with geometry lines no longer has missing points. Prior to the fix, only points exactly on the line were projected; now a pixel touching the line is projected. - Fixed bug: M3dimStats() of an M_BOX geometry could give an incorrect bounding box result if the box geometry was rotated but axis still aligned. - Fixed bug: M3dimProject() with M_MESH_BASED will no longer falsely discard mesh triangles near the border of the destination image depth map when projecting. - Fixed bug: M3dimOutliers() with M_OUTLIERS_CONTEXT_STD_DEVIATION will now truly remove outliers (using a context with M_STD_DEVIATION was working properly). - Fixed bug: M3dimMerge() will now always update the modification counts. Prior to the fix, if the destination container already had components of the right size, their modification counts were not updated. - Fixed bug: M3dimGetList() will no longer pop a MIL error when used on a 1-bit component. It now works properly. - Fixed bug: M3dimControl() with a statistics context now properly validates that the M_NEIGHBORHOOD_ORGANIZED_SIZE value is odd and greater than one. Prior to the fix, even value would behave as if the next odd value was specified, it will now report an error. 4.18 3D model finder module - Fixed bug: M3dmodCopyResult() will now properly copy the M_BACKGROUND_MASK. Prior to the fix, it was returning an error message. - Fixed bug: M3dmodPreprocess() will no longer pop an unexpected error in some situations, often caused by a degenerated point cloud. The function now handles those problematic cases properly. - Fixed bug: M3dmodControl() on a box context now properly validates that the M_NORMAL_ANGLE_TOLERANCE value respects 0 &lt; x &lt;= 90. - Fixed bug: M3dmodControl() now properly validates that the M_BOX_FACE_PARALLELISM_THRESHOLD value respects 0 &lt; x &lt;= 45. - Fixed bug: M3dmodFind() with an M_FIND_BOX_CONTEXT and with M_COMPLETION_SIZE_X/Y/Z set to M_SAME_AS_NOMINAL will now behave properly to establish the missing dimensions. Prior to the fix it was not using the nominal value but was performing a wrong computation instead. - Fixed bug: M3dmodFind() with M_FIND_SURFACE_CONTEXT and with M_FIT_DISTANCE_MODE set to M_AUTO will no longer give an incorrect result for M_SCORE_FIT. The fix can also slightly change the returned score. - Fixed bug: M3dmodFind() with M_FIND_SURFACE_CONTEXT and with M_SCENE_PROJECTION set to M_ENABLE will no longer lead to a crash. This was happening in some rare cases. - Fixed bug: M3dmodDefine() will now properly invalidate the preprocess. - Fixed bug: M3dmodCopy() of a model to a container will now properly trigger a modified hook on the destination container. - Fixed bug: M3dmodFind() with an M_FIND_RECTANGULAR_PLANE_CONTEXT or M_FIND_BOX_CONTEXT will no longer use points with an invalid normal. Prior to the fix, they would sometimes get incorrectly selected as inliers. - Fixed bug: M3dmodControl() with M_FIND_BOX_CONTEXT now allows you to set M_PLANE_ACCEPTANCE and M_PLANE_CERTAINTY to 100. - Fixed bug: M3dmodControl() with M_STOP_FIND or when timeout was reached during an M3dmodFind() will now properly report the status M_STOPPED_BY_REQUEST or M_TIMEOUT_REACHED. Prior to the fix, when M_FIND_RECTANGULAR_PLANE_CONTEXT or M_FIND_BOX_CONTEXT was used, an unexpected M_COMPLETE status could have been reported. 4.19 3D map module - Fixed bug: M3dmapGetResult() and M3dmapCopyResult() with M_ALIGN_RESULT will now only be available when the status is M_COMPLETE or M_RESULTS_Z_NEED_BACKGROUND for the disk alignment mode. Prior to the fix, it was always available. 4.20 3D display - Fixed bug: M3dgraLines() is now using the 3D graphics list default value for M_APPEARANCE. - Fixed bug: Dots graphic (created with M3dgraDots()) will now properly update the bounding box when the transformation matrix is modified. - Fixed bug: When using 3D display with Windows Forms, if the window was closed manually by the user, an error would generate when either trying to deselect or free the 3D display. This has been resolved. - Fixed bug: Line, arc, and axes graphics were not shown correctly with M_APPEARANCE set to M_POINTS. This has been resolved. 4.21 General - Fixed bug: Using the arrow keys in WPF display control will no longer move the focus outside of the display control. This was preventing the display keyboard shortcuts from working. - Fixed bug: MIL overlay or annotations layer will no longer disappear when M_OVERLAY_OPACITY or M_GRAPHIC_LIST_OPACITY is enabled. The problem only occurred in MIL Lite. - Fixed bug: MdispControl() with M_INTERPOLATION_MODE set to a value other than M_DEFAULT or M_NEAREST_NEIGHBOR will no longer prevent the interpolation mode from being applied correctly. The problem only occurred in MIL Lite. 5. Known limitations 5.01 Classification module - When running on Linux, MclassPredict() using Intel OpenVINO predict engine on CPU, the maximum number of cores set with M_CORE_MAX is not taken into account. It always uses all the available cores. - The anomaly detection versions of MclassTrain(), MclassSplitDataset() and MclassStatCalculate() do not correctly account for the M_NO_REGION_PIXEL_CLASS value in the provided datasets. Pixels that do not have an assigned value for M_CLASS_INDEX_GROUND_TRUTH will be treated as non-anomalous. 5.02 String Reader module - MstrGetResult() with M_STRING or with M_STRING + M_TYPE_TEXT_CHAR might not work properly when using a different OS in a DMIL configuration. This can lead to a MIL error message &quot;Invalid Data Type&quot; or to a truncated string returned. Contact your technical support channel if you are facing the issue. 5.03 3D display - M_EXCLUSIVE InitFlag in M3ddispAlloc() does not work properly (as is the case in SP5 and SP6). It will be fixed in a future release. - Depending on your local version of Windows and the remote version of Windows, the 3D display may not work properly. - On some older GPUs the rendered thickness of points/lines of graphics may not follow the M3dgraControl() with M_THICKNESS parameter. This is true, for example, on the first generations of Intel HD graphics. - While exiting an application that makes use of multiple MIL 3D displays rendered using an Intel GPU, an 'access violation' exception may occur when the graphics driver unloads. Contact your technical support channel if you are facing the issue. 5.04 Model Finder module - MmodFind() may fail finding a valid occurrence in extremely rare cases when M_SEARCH_POSITION_RANGE is set to M_DISABLE and M_SEARCH_ANGLE_RANGE is set to M_ENABLE. A solution to that may be either enabling search position, or defining a smaller angle range. 5.05 3D blob module - MblobSegment() and M3dblobCalculate() will pop an error message if the source container is a M_3D_PROCESSABLE child container whose parent contains more than one confidence or range component (and hence is not M_3D_PROCESSABLE). This will only happen when using DMIL. 5.06 3D primitives - In rare cases, using a point cloud resulting from a mesh sampling to generate a new mesh with M3dimMesh(M_LOCAL_PLANE) can lead to a mesh with overlapping triangles. This can lead to erroneous results from, for instance, M3dmetVolume(). 5.07 General - MIL Visual Studio add-on for Visual Studio 2019/2022 in C# and VB is slower than previous releases due to the new implementation of code completion in the Visual Studio SDK. MIL Visual add-on can be deactivated in the [Benchmarks and Utilities] -&gt; [MIL addon to Visual Studio] page in MilConfig. - Installing MIL X Service Pack 7 on a MIL installation with MIL CoPilot 10.40 (MIL X Update 94 or MIL X V2102) will result in MIL Help no longer being available from within MIL CoPilot. - Installing MIL CoPilot 10.50 (MIL X Update 116 or MIL X V22H1) after the installation of MIL X Service Pack 7 will result in MIL Help no longer being available from within MIL CoPilot. Reinstalling MIL X Service Pack 7 will remedy the situation. - Installing MIL X Service Pack 7 on a MIL X 22H1 installation and then modifying the install to install a board will result in the newly installed board not being visible in the &quot;Customize MIL Help&quot; section of the MIL Help. Reinstalling MIL X Service Pack 7 will remedy the situation. - The &quot;ServicePack&quot; folder feature in the MIL setup is incompatible with SP6 and SP7. - With MIL X V22H1, the &quot;ServicePack&quot; folder feature does not support updates that do not come as a single installation file. - With MIL X V 23H2,the PostInstall folder needs to be renamed to PreInstall. - .NET Core is not supported by MfuncAllocScript() with InterpreterLanguage sets to M_INTERPRETER_CSHARP. - MIL Multi-processing is not always using all permitted cores when running on a processor with more than 64 threads (more than 32 cores/64 threads or 64 cores without hyperthreading). The source code provided below to be called before MappAlloc() will ensure using 32 cores/64 threads. ====&gt; HANDLE CurrProcess = GetCurrentProcess(); // Obtain the size of Information array. ULONG BufferLength; GetSystemCpuSetInformation(NULL, 0, &amp;BufferLength, CurrProcess, 0); BOOL Success = (BufferLength &gt; 0); // Allocate the array of structure that will contain processor information. ULONG ReturnedLength = 0; std::vector&lt; char &gt; InformationVector(BufferLength); PSYSTEM_CPU_SET_INFORMATION Information = (PSYSTEM_CPU_SET_INFORMATION)InformationVector.data(); if(Success) { // Get processor information. Success = GetSystemCpuSetInformation(Information, BufferLength, &amp;ReturnedLength, CurrProcess, 0); } // Loop through the array to extract IDs of cores on processor group 0. std::vector&lt; ULONG &gt; CpuSetIds; for(ULONG i = 0; i &lt; (ReturnedLength / sizeof(SYSTEM_CPU_SET_INFORMATION)) &amp;&amp; Information[i].Size &gt; 0 &amp;&amp; Information[i].Type == CpuSetInformation; i++) { if(Information[i].CpuSet.Group == 0) CpuSetIds.push_back(Information[i].CpuSet.Id); } // Set process CpuSet with processor group 0 cores. Success = SetProcessDefaultCpuSets(CurrProcess, CpuSetIds.data(), (ULONG)CpuSetIds.size()); &lt;==== ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 4 : Differences between MIL X 23H2 (10.60) and MIL X Version 22H1 Table of Contents for Section 4 1. Overview. 2. What's included. 3. Known limitations and issues. 4. Supported versions of Microsoft Visual Studio. 5. Operating system support. 6. CPython supported versions 7. Additional information. 1. Overview. MIL X 23H2 (10.60) is a re-release of the original MIL 10 with the following enhancements and additions: - GenICam 3.4 support for all relevant MIL systems. - Matrox CaptureWorks has been improved. - Updates and engineering fixes since MIL X Version 2102 including MIL X Service Pack 6. 2. What's included. MIL X 23H2 (10.60) includes all the updates in MIL X Version 22H1 and the following updates and service pack. - MIL X Update 132 (Iris GTX) - MIL X Update 136 (Industrial Communications) - MIL X Update 138 (MIL CoPilot) - MIL X Update 139 (Matrox 4sight auxiliary I/Os) - MIL X Service Pack 6 (*** See Section 7 for details ***). MIL X 23H2 (10.60) includes engineering fixes for the following: - Zebra Radient eV-CL: - Fix 759: Adds support for RGB Gain and Offset. Specific customer tests were 10-bit grab with 8-bit host buffer, and also RGB 12-bit gain offset. - Fix 774: Fixes an issue that the Radient eV-CL would not detect a missing frame when enabled. - Fix 785: Fixes a potential blue screen when using COM ports - SureDotOCR速: - Fix 768: Fixes a crash that would occasionally occur when a string was difficult to read or was missing. - USB3 Vision: - Fix 770: Fixes an issue that causes the project to simply hang when the camera has a pending ACK. - Fix 773: Fixes potential blue screen when unplugging a camera. Others fixes are included in MIL X 22H1. Contact Matrox for details. 3. Known limitations and issues. With Windows 10, when uninstalling MIL from the Settings - Apps &amp; features, the name of the program shown in the uninstall program window will be a random string. The first time you run Matrox Feature Browser, a Windows Security Alert dialog might be displayed. You should allow Matrox Feature Browser to open. When using the Recording Mode in Matrox Intellicam (with the Matrox GigE Vision driver, the Matrox USB3 Vision driver, or a Matrox CXP board), you must modify a feature value in Matrox Feature Browser for the value to be recorded. 4. Supported versions of Microsoft Visual Studio. MIL supports the following versions of Microsoft Visual Studio: - Microsoft Visual Studio 2017. - Microsoft Visual Studio 2019. - Microsoft Visual Studio 2022. Most MIL examples are provided for the following versions: - Microsoft Visual Studio 2017. - Microsoft Visual Studio 2022. For Microsoft Visual Studio 2019, use the 2017 version of the MIL example. 5. Operating system support. - Windows 10 64-bit Version 1809, 21H2 and 22H2. - Windows 11 64-bit Version 21H2 and 22H2. 6. CPython supported versions MIL for Python can be called from most Python 3.x versions. MIL has been qualified using versions 3.7 and 3.9 under Windows and with the respective 3.x versions of the supported Linux distributions. Using MIL MfuncCallScript() to execute Python scripts from a program requires invoking one of the MilInterpPython3X DLLs. -MIL MfuncCallScript() for Windows comes with the necessary DLLs to support Python versions 3.7 and 3.9. -MIL MfuncCallScript() for Linux comes with the necessary DLL to support the default Python 3.x for each supported Linux distribution. 7. Additional information. - DirectX-based displays are no longer supported. - Matrox Radient eV-CLHS and Matrox RadientPro systems are not available for the installation. - Matrox Radient eV-CXP has been marked as a legacy component and is not recommended for new designs. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 5 : Overview of MIL X Update 134 for Service Pack 6 Table of Contents for Section 5 1. Overview ------------------------------------------------------------------------------- 1. Overview - Update 134 is an update to the Classification module in MIL X Service Pack 6. Update 134 adds support for inference using Intel OpenVINO. It enables inference offload to an Intel integrated GPU (IGPU) as well as potential acceleration using an Intel CPU and IGPU. It supports FP32 and FP16 processing where applicable. It is equivalent to MIL X Update 114, but specific to MIL X Service Pack 6. - The recommended graphics driver for Intel Integrated Graphics when using Intel OpenVINO provider for predicting is 27.20.100.9079. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 6 : Overview of MIL X Update 135 for Service Pack 6 Table of Contents for Section 6 1. Overview ------------------------------------------------------------------------------- 1. Overview - Update 135 is an update to the Classification module in MIL X Service Pack 6. Update 135 adds support for inference using NVIDIA CUDA. It enables offload to, and potential acceleration using, NVIDIA GPUs. It is equivalent to MIL X Update 115, but specific to MIL X Service Pack 6. - The NVIDIA GPU driver must at least be version 452.39. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 7 : Differences between MIL X Service Pack 6 and Service Pack 5 Table of Contents for Section 7 1. Overview 2. New functionalities and improvements 2.01 MIL processing-specific examples 2.02 Classification module 2.03 Advanced Geometric Matcher(AGM) 2.04 Calibration module 2.05 Registration module 2.06 Metrology module 2.07 Code Reader module 2.08 Primitives 2.09 Display 2.10 3D metrology module 2.11 3D registration module 2.12 3D primitives 2.13 3D blob module 2.14 3D model finder module 2.15 3D map module 2.16 3D graphics 2.17 3D display 2.18 General 3. Deprecated functionalities 3.01 3D metrology module 3.02 3D primitives 3.03 3D geometry module 3.04 3D display 3.05 General 4. Fixed bugs 4.01 Classification module 4.02 SureDotOCR速 module 4.03 Calibration module 4.04 Registration module 4.05 Pattern Matching module 4.06 Model Finder module 4.07 Metrology module 4.08 Code Reader module 4.09 Measurement module 4.10 Color module 4.11 Primitives 4.12 Graphics 4.13 3D registration module 4.14 3D primitives 4.15 3D model finder module 4.16 3D graphics 4.17 3D display 4.18 General 5. Known limitations 5.01 Classification module 5.02 String Reader module 5.03 3D display 5.04 Model Finder module 5.05 3D blob module 5.06 General ------------------------------------------------------------------------------- 1. Overview - MIL X Service Pack 6 includes all the features of MIL X Service Pack 5. In addition, MIL X Service Pack 6 includes new processing functionalities, performance optimizations, and general improvements, such as: . New: The MIL Classification module now supports deep learning object detection. . New: 3D model finder module now supports finding general models in 3D scenes. . New: 3D model finder module now supports finding boxes and planes in 3D scenes. . New: Advanced Geometric Matcher module (AGM) allows you to find 2D models in images, based on edges. . New: MIL multi-core processing now enables control of the type of cores, found in a heterogenous processor architectures (ex. 12th Gen Intel Core with P- and E-cores), to be used by a MIL application according to their performance level. . New: The Code Reader module now supports the DotCode. . New: Code Reader reads more Truncated PDF417 and PDF417 codes (out of spec or with very large cell size). It also now reads MicroPDF417 codes at any angle. . New: Improved ease of use of M3dmetFit() and M3dblobCalculate() via the support of auto-computed parameters. . New: 3D primitives such as outlier points removal, meshes that preserve points, surface variation statistics, etc. . New: More options to troubleshoot and improve the 3D registration process. . New: 3D blobs can now be segmented into planar or close to planar clusters. . New: Additional processing primitives such as filtering using the value that occurs most often in the neighborhood, a binarization method which isolates the dominant peak, etc. - MIL X Version 2102 is the minimum requirement for this Service Pack. - Minimum requirement for MIL X Service Pack 6 for Windows is Windows 10 Version 1607 or more recent with some exceptions. - MIL X Service Pack 6 removes the support of the Morphis QxT, Matrox Radient eV-CLHS, Matrox RadientPro CL and Matrox Orion HD systems. - MIL X Service Pack 6 also removes the support for DirectShow. - Windows' automatic 8.3 file name creation needs to be enabled in order for the MIL installer to access the temp folder when the username contains a space. This option allows Windows to create short file/folder name aliases for ones with long names for programs, such as the MIL installer, that don't support spaces in the file/folder names. Alternatively, the MIL installer needs to run from a user account that belongs to the administrators' group and has no spaces in it. Note that the same applies for uninstalling MIL. - Some anti-virus or security applications may interfere with MIL installation. In order to perform the installation without any interruption, it is recommended that you temporarily disable your anti-virus or security application. - Shortcuts to the ModelFinder interactive utilities have been deprecated as the functionality is available in the latest MIL CoPilot interactive environment. - Ply files are associated to Microsoft's 3D Viewer by default on Windows. To open a ply file with 3D Viewer, the point cloud must contain a mesh; otherwise, you will get the error: &quot;Couldn't load 3D model&quot;. - MIL X Service Pack 6 does not support Python 2.x. MIL CoPilot version 10.40 (i.e., MIL X Update 94) will no longer support it after a Service Pack 6 installation. - MIL X Service Pack 6 for Python has been validated using the following package versions: Python 3.7.9, Python 3.9.10, Numpy 1.21.0 and Matplotlib 3.5.0. - If Python is installed after the installation of MIL X Service Pack 6, the following command must be executed: pip install mil --no-index --find-links=&quot;%MIL_PATH64%\\..\\Scripting\\pythonwrapper\\dist&quot; This is not necessary if Python is installed prior to the MIL X Service Pack 6 installation. - To train a Deep Learning classifier using a GPU you must download and install MIL X Update 133. - MIL X Service Pack 6 no longer installs CPU training for runtime. To install it for runtime use: M10SP6B406EAx64.exe /z&quot;docopycpuclasstraining&quot; - MIL X Service Pack 6 only supports 64-bit. - MIL X Service Pack 6 no longer supports the original and previously deprecated Mblob, Mpat and Mcode APIs. - MIL X Service Pack 6 introduces a new MIL HTML-based Help which replaces the CHM-based Help. 2. New functionalities and improvements 2.01 MIL processing-specific examples - New MIL X Service Pack 6 examples available from Matrox Example Launcher. - Visit our GitHub repository (https://github.com/Matrox-Imaging) for third-party 3D camera interface examples and more. 2.02 Classification module - New: The MIL Classification module now supports deep learning object detection (training and prediction) through new deep neural network models. - Improvement: The MIL Classification module support of the Open Neural Network Exchange (ONNX) standard (importing and prediction) is now more flexible. It supports more classifier models, dimension variables at import time, multiple outputs, etc. The new M_CLASSIFIER_ONNX context should now be used. - New: MclassControl() with M_LOSS_FUNCTION_TYPE now supports M_DICE_LOSS when performing segmentation training. - New: M_GPU_TRAIN_ENGINE_LOAD_STATUS can now return the value M_INVALID_GPU_DRIVER_VERSION using MclassInquire(). This status means that the GPU driver version is insufficient. Note that GPU training is only available when Update 133 is installed over SP6. - Improvement: The best GPU is now selected according to the amount of memory and the compute capability. - Improvement: MclassPreprocess() is faster for ICNets and CSNets. - Improvement: Examples Mclass, ClassPrintedChar and ClassSeafoodInspect are now using ICNet classifiers, providing access to the most recent prediction engines. Prediction scores have changed as such. 2.03 Advanced Geometric Matcher - New: The Advanced Geometric Matcher module (AGM) allows you to find a model based on edges. The module supports finding multiple occurrences and the definition of composite models for complex cases. AGM can prove particularly useful when you have some deformations in your model and/or you need to search for model occurrences in a cluttered background. 2.04 Calibration module - New: McalInquire() with M_TRANSFORM_CLIP_SIZE_... and M_TRANSFORM_FIT_SIZE_... to establish the buffer size that the destination image should have to preserve the average pixel size of the source image, when calling McalTransformImage() with M_CLIP or M_FIT. 2.05 Registration module - New : MregCalculate() and MregTransformImage() now support a container as input. 2.06 Metrology module - New: MmetDraw() now supports M_ALL_PASS_FEATURES and M_ALL_WARNING_FEATURES to draw all feature results that have the status M_PASS or M_WARNING. - New: MmetGetResult() with M_NUMBER_OF_FEATURES_WARNING to retrieve the number of features that are calculated with a warning. 2.07 Code Reader module - New: M_DOTCODE 2D code type to write, read and grade DotCode. This code is also supported by McodeTrain(). - New: McodeRead() allows you to read some out of spec PDF417 and TruncatedPDF417 code types (with missing quiet zone as an example) or codes with degraded finder patterns. This can be achieved by setting M_DECODE_ALGORITHM to M_SCANLINE_AT_ANGLE and enabling M_SEARCH_ANGLE_STEP. The M_DECODE_ALGORITHM and M_SEARCH_ANGLE_STEP controls are now also trained for these codes. - Improvement: McodeRead() with M_INITIALIZATION_MODE set to M_IMPROVED_RECOGNITION now allows you to read more MicroPDF417 codes. By default it now reads at any angle an uses the threshold mode M_GLOBAL_SEGMENTATION. To go back to the old behavior one can use: McodeControl(..., M_SEARCH_ANGLE_DELTA_POS , 5) McodeControl(..., M_SEARCH_ANGLE_DELTA_NEG , 5) McodeControl(..., THRESHOLD_MODE, M_ADAPTIVE) - Improvement: PDF417 and TruncatedPDF417 robustness and speed have been improved when M_USE_PRESEARCH is set to M_DISABLE. This is particularly true for codes with a cell size larger than 30 pixels. Training the cell size may optimize the improvement. - Improvement: The corner positions returned when M_POSITION_ACCURACY is set to M_HIGH has been improved for TruncatedPDF417 and MicroPDF417 codes. - Improvement: McodeRead() now allows to decode MicroPDF417 code at any angle. - Improvement: McodeGrade() speed has been improved for Data Matrix code. Also, some codes that were wrongly getting an M_DECODE_GRADE of F are now graded properly. - Improvement: McodeRead() now allows you to read Code 128 codes with an out-of-spec stop pattern (i.e., with last bar width smaller or wider than 2 modules). 2.08 Primitives - New: MappControlMp() with M_MP_USE_PERFORMANCE_LEVEL allows you to set which cores a MIL application can use on a heterogeneous processor architecture, according to their performance level. - New: MimBinarize() with M_DOMINANT allows you to binarize an image by isolating the dominant peak. - New: MimFilterMajoriy() to filter images by replacing the value of each pixel with the value that occurs most often in its neighborhood. - New: MimStatCalculate() now supports predefined contexts to easily calculate single statistics. - New: MimDetectEvent() allows you to detect if at least one of the pixels in the source image satisfies the specified condition. - New: MimControl() with M_FILTER_STEP_RESPONSE_MAPPING allows you to control how to remap a derivative result for an IIR context with M_FILTER_RESPONSE_TYPE sets to M_STEP. - New: MimControl() with M_PEAK_INTENSITY_INVALID_VALUE allows you to set the intensity value to use for missing peaks when using M_PEAK_INTENSITY. - Improvement: MimBinarize(), MimClip(), MimBoundingBox(), MimFlip() and many cases with constant of MimArith() have been speed-optimized when using a source image with a height of 1. These optimizations are especially pertinent in the context of 3D buffer manipulations. - Improvement: MimAugment() now allows you to apply lighter shearing. The accepted range for M_AUG_SHEAR_X_OP_MAX, M_AUG_SHEAR_X_OP_MIN, M_AUG_SHEAR_Y_OP_MAX, and M_AUG_SHEAR_Y_OP_MIN are now [0:1] instead of [0.5:1]. 2.09 Display - New: MdispControl() with M_WINDOW_SIZE_AUTO_RESET allows you to set whether the window should be resized when using MdispSelect(). By default, MdispSelect() automatically resizes the MIL display window to be the same size of the selected buffer. 2.10 3D metrology module - New: M3dmetFeature() and M3dmetFeatureEx() with M_EXTRUSION_CENTER or M_EXTRUSION_BORDER allows you to lengthen/shorten boxes so that they touch a specified plane. - New: M3dmetFit() OutlierDistance parameter now accepts M_AUTO_VALUE. This calculates an automatic threshold for the outliers. The calculated value can be retrieved from the result using M3dmetGetResult() with M_OUTLIER_DISTANCE. - New: M3dmetVolumeEx() allows you to compute the volume of a point cloud's mesh or of a depth map, delimited optionally by a specified reference object, and stores the result in a result buffer. This API allows to get more volume statistics than M3dmetVolume() and to optionally save additional information that can be used to retrieve status images, masks and reference data as well as drawing the elements that contributed to the volume. 2.11 3D registration module - New: M3dregDraw3d() allows you to draw the result of a pairwise 3D registration operation into a 3D graphics list. This is useful to diagnose the registration process. - New: M3dregControl() allows you to control how to pair points during the registration process using M_PAIRS_CREATION_FROM_TARGET, M_PAIRS_CREATION_PER_REFERENCE_POINT_MODE, M_PAIRS_LIMIT_PER_TARGET_POINT_MODE, and M_PAIRS_CREATION_MAX_POINT_DISTANCE. - New: M3dregControl() allows you to control the subsampling performed on the reference and target containers of each registration element separately using M_SUBSAMPLE_REFERENCE and M_SUBSAMPLE_TARGET. - New: M3dimControl() with M_SUBSAMPLE_GEOMETRIC allows you to specify to perform a geometrically stable subsampling, which selects points that help 3D registration converge faster and avoid local minima. 2.12 3D primitives - New: M3dimOutliers() allows you to invalidate outlier points in a point cloud or a depth map. - New: M3dimControl() with M_SURFACE_VARIATION allows you to compute surface variation statistics (min, max, average, median, standard deviation and robust standard deviation). The median, standard deviation and robust standard deviation have also been added to M_DISTANCE_TO_NEAREST_NEIGHBOR. - New: M3dimControl() with M_NEIGHBOR_SEARCH_MODE, M_MAX_DISTANCE, M_MAXIMUM_NUMBER_NEIGHBORS, M_NEIGHBORHOOD_ORGANIZED_SIZE, and M_NUMBER_OF_SAMPLES allow you to control the neighborhood search to compute the statistics for M_SURFACE_VARIATION and M_DISTANCE_TO_NEAREST_NEIGHBOR. - New: M3dimControl() with M_MESH_LOCAL_PLANE allows you to create meshes that preserve the exact positions of the points in the point cloud. 2.13 3D blob module - New: M3dblobControl() with M_MAX_DISTANCE_MODE or M_NORMAL_DISTANCE_MAX_MODE and M_AUTO allows you to have automatic thresholds for point-to-point distance and normal. - New: M3dblobControl() with M_GLOBAL_NORMAL_DISTANCE_MAX or M_GLOBAL_PLANE_DISTANCE_MAX allows you to control the segmentation into planar regions. 2.14 3D model finder module - New: M_FIND_SURFACE_CONTEXT to support general model finding which accepts a model of type 3D processable container and finds all similar occurrences in a 3D scene. The surface 3D model finder supports: .single point cloud model .single or multiple occurrences .mesh model, full 3D/2.5D model and/or scene .mesh through point cloud compensation .3D model to 2.5D scene through occurrence projection self-occlusion .pose refinement option .perseverance and matching process controls .scene complexity control .pre-matching background removal .to return results sorted based on various criteria .optional constraint on the orientation of the occurrences. - New: M_FIND_BOX_CONTEXT to support finding all box occurrences in a 3D scene. The box 3D model finder supports: .2.5D (Organized) or 3D data .constrained or unconstrained box dimension and orientation .single or multiple occurrences .boxes with 1-6 planes visible .automatic or parametrical floor plane .automatic extrusion to background or floor. - New: M_FIND_PLANE_CONTEXT to support finding all plane occurrences in a 3D scene. The plane 3D model finder supports: .2.5D (Organized) or 3D data .constrained or unconstrained rectangle dimension and orientation .single or multiple occurrences. 2.15 3D map module - Improvement: M3dmapAlignScan() precision and robustness has been slightly improved with 3D profilers that have significant roll versus the reference plane. 2.16 3D graphics - New: New M3dgraLines() allows you to draw multiple lines as a single graphic to a specified 3D graphics list. - New: M3dgraAdd() with M_NO_LINK allows you to generate an unlinked point cloud graphic from the specified point cloud container or depth map image buffer. - New: M3dgraControl() with M_TRANSLATABLE, M_ROTATABLE, and M_SCALABLE allows you to disable some handles for interactive 3D graphics. 2.17 3D display - New: M3ddispLut() allows you to set a LUT to use for point cloud graphics in a 3D display. - Improvement: Changed behavior when resizing an editable graphic, so that one side cannot push the other. Now, only the side of the box associated with the handle being moved will change. If one handle crosses over the other, the effect is like if the graphic were negatively scaled along the handle's axis. However, the dimensions of the box will always remain positive and the orientation of the box will not flip. - Improvement: M3ddispControl() with M_TRANSPARENCY_SORT_MODE and M_DEPTH_PEELING allows to resolve most transparency sorting errors, at the cost of increased GPU usage when there are multiple semi-opaque 3D graphics in the 3D graphics list of the 3D Display. This mode does not affect performance if all graphics in the graphics list are fully opaque. This is the new default mode. To go back to the previous behavior use M3ddispControl(M_TRANSPARENCY_SORT_MODE, M_FAST). 2.18 General - New: MbufExport() with M_PNG + M_PNG_COMPRESSION_LEVELn allows you to specify the compression level of a PNG with n, where n is a value from 0 to 9. The default compression level is now 0, it was 6 in previous MIL releases. - Improvement: MIL .NET is now compiled using .NET Framework 4.8. It requires the user to modify his .NET project to target Framework 4.8. 3. Deprecated functionalities 3.01 3D metrology module - M3dmetCalculate() has been renamed to M3dmetFeatureEx(). When replacing M3dmetCalculate() with M3dmetFeatureEx(), M_DEFAULT must be added as the first parameter. For C++ users, an overload exists to avoid having to put the M_DEFAULT after replacing. - M3dmetCalculateScalar() has been renamed to M3dmetFeature(). 3.02 3D primitives - The following M3dimGetResult() result types have been renamed: .M_MIN_DISTANCE_TO_NEAREST_NEIGHBOR renamed to M_DISTANCE_TO_NEAREST_NEIGHBOR_MIN .M_MAX_DISTANCE_TO_NEAREST_NEIGHBOR renamed to M_DISTANCE_TO_NEAREST_NEIGHBOR_MAX .M_AVG_DISTANCE_TO_NEAREST_NEIGHBOR renamed to M_DISTANCE_TO_NEAREST_NEIGHBOR_AVERAGE. 3.03 3D geometry module - The following M3dgeoMatrixSetWithAxes() combination values have been renamed: .M_BACKWARD_TRANSFORMATION renamed to M_COORDINATE_SYSTEM_TRANSFORMATION .M_FORWARD_TRANSFORMATION renamed to M_POSITION_TRANSFORMATION. 3.04 3D display - MILweb no longer supports Internet Explorer 11. 3.05 General - Visual Basic .NET is no longer officially supported. The corresponding examples are no longer provided and are uninstalled by the SP6 setup. MfuncAllocScript(M_INTERPRETER_VB_DOT_NET) is also no longer supported. - .NET 5 is no longer supported. The Microsoft Visual 2019 C# .NET 5 examples are no longer provided and are uninstalled by the SP6 setup. Users are to work with Microsoft Visual Studio C++/C# 2022 for development using .NET 6. 4. Fixed bugs 4.01 Classification module - Fixed bug: MclassTrain() will no longer crash when M_SIZE_MODE is set to M_USER_DEFINED and had either set M_SIZE_X or M_SIZE_Y (but not both) for the internal data preparation context. Now an error will occur when calling MclassPreprocess() instead. - Fixed bug: MclassPrepareData() will now properly translate segmentation data described with M_DESCRIPTOR_TYPE_POLYGON when M_CENTER_MODE is set to M_USER_DEFINED. Prior to the fix, under some circumstances, the polygons were not translated at the appropriate location. - Fixed bug: MclassGetHookInfo() with M_PREDICT_ENTRY will now show an error in the case of segmentation for the InfoType M_PREDICT_SCORE_MIN, M_PREDICT_SCORE_MAX, and M_PREDICT_SCORE_AVERAGE as it should. - Fixed bug: MclassInquire() with M_TRAINABLE_COMPLETE, M_TRAINABLE_TRANSFER_LEARNING, and M_TRAINABLE_FINE_TUNING will now properly return M_FALSE when M_CLASSIFIER_PREDEFINED_TYPE is set to M_USER_ONNX. - Fixed bug: MclassPredict() will now properly reset the results between consecutive calls. Prior to the fix it was possible to retrieve result of the previous prediction after a predict with an error. - Fixed bug: MclassPrepareData() will now enforce that the type of the classifier must match the type of prepare data context as it should. - Fixed bug: MclassInquireEntry() with M_REGION_TYPE will no longer return the wrong value when preparing segmentation data using MclassPrepareData(). M_DESCRIPTOR_BASED will now be return instead of the wrong M_WHOLE_IMAGE value. - Fixed bug: MclassPrepareData() and MclassSplitDataset() will now take into account unlabelled pixels when M_NO_REGION_PIXEL_CLASS is set to a class. Prior to the the fix, they were not considered by the split balancing algorithm of MclassSplitDataset() or the class balancing algorithm of MclassPrepareData(). During training they were used as intended. - Fixed bug: MclassPredict() will now properly set the M_STATUS result when an error occurs. Prior to the fix, the M_STATUS result value was M_CURRENTLY_PREDICTING and now it will be M_PREDICT_NOT_PERFORMED. - Fixed bug: MclassPredict() will no longer ignore M_BAND_ORDER when using ICNets or CSNets. Prior to the fix the band order was ignored and the prediction score was not as expected. - Fixed bug: MclassImport() will now properly handle FileNameOrFolderPath containing &quot;///INSTALLDIR///&quot; (or M_INSTALL_DIR). Prior to the fix, it was resulting in an import error. - Fixed bug: MclassPrepareData() with a segmentation prepare data context will no longer add images to the destination dataset if the status of the augmentation is not valid. Prior to the fix, this was resulting in an augmented entry without a valid mask associated to it. - Fixed bug: MclassTrain() for image classification will now correctly normalize the mini batch loss between 0 and 1. The problem was not affecting the training itself just the M_MINI_BATCH_LOSS value. - Fixed bug: MclassControl() with M_MAKE_FILE_PATHS_RELATIVE is now case insensitive in Windows. - Fixed bug: MclassTrain() will now properly select the GPU with the highest amount of memory when there are multiple GPUs present. Prior to the fix it was not always the case when at least one GPU with a compute capability not supported by MIL was present. - Fixed bug: MclassTrain() with an image classification training context will no longer lead to non-finite values when using a mini batch size of 1. - Fixed bug: MclassTrain() will no longer lead to non-finite values with non square source images when using the data preloading setting in MILConfig. - Fixed bug: MclassPreprocess() will no longer miss checking for internal data preparation context setup errors. - Fixed bug: MclassGetHookInfo() will now correctly return the value for M_SRC_ENTRY_INDEX in the M_PREPARE_ENTRY_PRE and M_PREPARE_ENTRY_POST hooks during a call to MclassPrepareData() with a context of type M_PREPARE_IMAGES_SEG instead of always returning -1. 4.02 SureDotOCR速 module - Fixed bug: MdmrRead() will no longer crash when reading images containing bad dot string quality or when no dot strings are present. The crash was more likely to occur when and ROI was associated to the image. This was happening in extremely rare cases. 4.03 Calibration module - Fixed bug: McalGrid() will no longer crash in extremely rare cases with M_CIRCLE_GRID. 4.04 Registration module - Fixed bug: MregCalculate() with M_HIGH_DYNAMIC_RANGE context will no longer pop an error when the ControlFlag is set to M_DEFAULT. - Fixed bug: MregCalculate(), MregTransformImage() and MregTransformCoordinateList() will no longer crash when called with empty std::vector&lt;MIL_ID&gt;. 4.05 Pattern Matching module - Fixed bug: MpatFind() will no longer retrieve occurrences outside the search region. It was happening in rare cases. - Fixed bug: MpatContol() will now properly handle the control value -9998 for following control types: M_REFERENCE_X, M_REFERENCE_Y, M_SEARCH_OFFSET_X, M_SEARCH_OFFSET_Y, M_SEARCH_SIZE_X, and M_SEARCH_SIZE_Y. Prior to the fix, the MpatControl() was having no effect when called with these control type and this control value. - Fixed bug: MpatFind() will no longer crash when M_SEARCH_ANGLE_MODE is enable and the target image buffer has an associated region of interest. It was happening in extremely rare cases. 4.06 Model Finder module - Fixed bug: MmodFind() with an M_GEOMETRIC context will no longer fail when the model is calibrated and the M_LAST_LEVEL is different than 0. It was happening in rare cases. - Fixed bug: MmodPreprocess() with an M_GEOMETRIC_CONTROLLED context will no longer fail when the model is associated with an M_WEIGHT_REGIONS mask containing mostly negative values. It was happening in rare cases. 4.07 Metrology module - Fixed bug: Constructed Line with M_BISECTOR and M_SECTOR_RELATIVE now returns M_FAIL when Point1=Point3. Prior to the fix, it was wrongly returning M_PASS. - Fixed bug: The M_NUMBER_OF_FEATURES_PASS result will now only return the number of features with status M_PASS. Prior to the fix, the number of features with status M_PASS and M_WARNING was returned. - Fixed bug: The controls M_FIT_DISTANCE_MAX, M_FIT_ITERATIONS_MAX and M_FIT_VARIATION_MAX now have an influence on the construction of a Constructed Circle with M_OUTER_FIT as it should. - Fixed bug: MmetCalculate() will no longer crash when calculating an M_INNER_FIT in some extreme cases (example: calibration with a really small scale). 4.08 Code Reader module - Fixed bug: McodeRead() will no longer return an invalid string while decoding a composite code type with a GS1 DataBar Expanded Stacked as the linear. It was happening in rare cases. - Fixed bug: The corner positions results M_TOP... and M_BOTTOM... of an McodeWrite() operation will now follow the sub-pixel MIL convention. - Fixed bug: The corner positions results M_TOP... and M_BOTTOM... of an McodeWrite() operation are now accurate even when M_DOT_SIZE and M_CELL_SIZE_VALUE are set to a different value. The McodeDraw() with M_DRAW_BOX is now also more accurate in this situation. - Fixed bug: McodeRead() will now take all the control settings into account while decoding an Aztec Rune with M_DECODE_ALGORITHM set to M_CODE_DEFORMED. Prior to the fix the controls M_STRING_SIZE_... and M_CELL_NUMBER_... were not considered. - Fixed bug: McodeInquire() with M_DOT_SHAPE + M_DEFAULT will now return M_SQUARE for M_DATAMATRIX, M_QRCODE, M_MICROQRCODE and M_AZTEC code types as it should. - Fixed bug: McodeGetResult() will no longer return M_CODE_GRADE_NOT_AVAILABLE value for some result type after grading 2D cross-row and composite code types. It was happening in rare cases. - Fixed bug: The M_SCORE result for linear barcode with M_NUMBER and M_TOTAL_NUMBER control values set to M_ALL will now always reflect the confidence score of the decoding. Prior to the fix, the score was too low in some situation. - Fixed bug: McodeRead() will now report more accurate position and corners coordinates for noisy images or when an ROI is used while reading linear barcode. It also has the effect of improving the robustness of the read in such situation. 4.09 Measurement module - Fixed bug: MmeasGetResult() will no longer erroneously return the same point for both M_LINE_END_POINT_FIRST and M_LINE_END_POINT_SECOND. It was happening in rare cases. 4.10 Color module - Fixed bug: McolDraw() with M_DRAW_DISTANCE will no longer draw a wrong value at few pixel positions. It was happening in extremely rare cases and when using an invalid SampleIndex. 4.11 Primitives - Fixed bug: MimBinarize() will no longer write outside the child of a binary destination buffer. It was happening only with Intel processors supporting the AVX-512 instruction set. - Fixed bug: MimConvolve() with an IIR context will no longer overflow. It was happening in some situations for derivatives with M_FILTER_RESPONSE_TYPE set to M_STEP. It was also happening in some situations with M_FILTER_OPERATION set to M_SMOOTH. - Fixed bug: MimMatch() will no longer access data outside of the source buffer (1 pixel). It was happening only with Intel processors supporting the AVX-512 instruction set in some rare cases. It was possibly causing a crash. - Fixed bug: MimMatch() with M_SCORE_TYPE set to M_SQR_NORM will now preserve the sign, as it should. 4.12 Graphics - Fixed bug: MgraControlList() with M_LINE_THICKNESS is now working properly on collection graphics (i.e., graphics drawn by MxxxDraw() functions). 4.13 3D registration module - Fixed bug: M3dregCalculate() is now less likely to return non optimal registration with M_ERROR_MINIMIZATION_METRIC set to M_POINT_TO_PLANE. It was happening in rare cases. The 3D registration should also converge faster (in less iterations). 4.14 3D primitives - Fixed bug: MbufConvert3d() will no longer crash when using a container with only a disparity component and a wrong 3D representation. It was happening with the ControlFlag set to M_COMPENSATE in rare cases. - Fixed bug: M3dimProject() with the ProjectionMode set to M_MESH_BASED and Options to M_ACCUMULATE will now work properly. Prior to the fix, the accumulation was not done properly for none the overlap modes. - Fixed bug: M3dimProject() with the OverlapMode set to M_AVERAGE and with the Options to M_ACCUMULATE will no longer add more weight to the last projected image. - Fixed bug: MbufImport() is now less strict with spaces in the header so that it can read more ply files. - Fixed bug: M3dimMesh() will now properly create a triangle when the following confidence occurs: 0 1 1 1. Prior to the fix, it did not create a triangle with this configuration and when using the mode M_MESH_ORGANIZED. - Fixed bug: M3dimMesh() will no longer create triangle with side longer than M_MAX_DISTANCE. It was happening with the mode M_MESH_ORGANIZED. - Fixed bug: M3dimMesh() with M_MESH_ORGANIZED will no longer update the display (or any hooks) if the container already had a mesh. 4.15 3D model finder module - Fixed bug: M3dmodControlDraw() is now properly supporting the values 0 and M_GRAPHIC_LIST_DEFAULT for the operation M_OPACITY. Prior to the fix, it was popping an error. 4.16 3D graphics - Fixed bug: User-edited 3D graphics list settings are no longer applied to interactive graphic handles. A good example of this is M_VISIBLE. If the graphic lists defaults were set to (M_VISIBLE, M_DISABLE) then the handles would always be invisible, even if the user set that specific graphic to visible. 4.17 3D display - Fixed bug: M3ddisp function calls are now asynchronous relatively to the display's update. Use M3ddispControl() with M_UPDATE and M_NOW, M_DISABLE, or M_ENABLE for synchronization needs. - Fixed bug: M3ddispControl() with M_UPDATE and M_NOW will now guarantee that the 3D Display will produce a fully up-to-date render when the function returns. 4.18 General - MbufExport() with M_PNG saved 16-bit images with a wrong byte endianness (little endian). It is now fixed. MIL will automatically and correctly reload previously saved PNGs with incorrect little endianness. 5. Known limitations 5.01 Classification module - Using MclassStream() to save predefined classifiers M_CLASSIFIER_CNN_PREDEFINED or M_CLASSIFIER_SEG_PREDEFINED to an SP5 version or older will result in an internal error if the allocation was made with the ControlFlag set to M_DEFAULT. 5.02 String Reader module - MstrGetResult() with M_STRING + M_TYPE_TEXT_CHAR might not work when using different OS in a DMIL configuration. It leads to a MIL error message &quot;Invalid Data Type&quot;. 5.03 3D display - The M3ddispWPF example was calling the undocumented M3ddispInquire() with M_SELECTED. The inquire was returning a wrong MIL_ID, which was not intended to be use. The internal inquire now always returns M_NULL. - M_EXCLUSIVE InitFlag in M3ddispAlloc() was not working properly using SP5 and is not working properly in SP6 neither. It will be fixed in a future version. - Depending on your local version of Windows and the remote version of Windows, the 3D Displays may not work properly. - On some older GPUs the rendered thickness of points/lines of graphics may not follow the M3dgraControl() with M_THICKNESS parameter. This is true, for example, on the first generations of Intel HD graphics. - While exiting an application that makes use of multiple MIL 3D displays rendered using an Intel GPU, an 'access violation' exception may occur when the graphics driver unloads. Contact your technical support channel if you are facing the issue. 5.04 Model Finder module - MmodFind() may fail finding a valid occurrence in extremely rare cases when M_SEARCH_POSITION_RANGE is set to M_DISABLE and M_SEARCH_ANGLE_RANGE is set to M_ENABLE. A solution to that may be either enabling search position, or defining a smaller angle range. 5.05 3D blob module - MblobSegment() and M3dblobCalculate() will pop an error message if the source container is a M_3D_PROCESSABLE child container whose parent contains more than one confidence or range component (and hence is not M_3D_PROCESSABLE). This will only happen when using DMIL. 5.06 General - The MbufAlloc2d/Color() will no longer accept the value M_DEFAULT for SizeX, SizeY (and SizeBand for the Color version). This was an undocumented feature which was allocating a 1-band buffer of size 640x480. This change affects MappAllocDefault() when no digitizer is requested and the program has been compiled with a version of MIL 10 before SP3. In this situation the application needs to be recompiled. - MIL Visual Studio add-on for Visual- Studio 2019/2022 in C# and VB is slower than it was. This is caused by the new implementation of code completion of the Visual Studio SDK. MIL Visual add-on can be disactivated in the [Benchmarks and Utilities] -&gt; [MIL addon to Visual Studio] page in MilConfig. - Installing MIL X Service Pack 6 on a MIL installation with MIL CoPilot 10.40 (MIL X Update 94 or MIL X V2102) will result in MIL Help no longer being available from within MIL CoPilot. - Installing MIL CoPilot 10.50 (MIL X Update 116 or MIL X V22H1) after the installation of MIL X Service Pack 6 will result in MIL Help no longer being available from within MIL CoPilot. Reinstalling MIL X Service Pack 6 will remedy the situation. - Installing MIL X Service Pack 6 on a MIL X 22H1 installation and then modifying the install to install a board will result in the newly installed board not being visible in the &quot;Customize MIL Help&quot; section of the MIL help. Reinstalling MIL X Service Pack 6 will remedy the situation. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 8 : Differences between MIL X Version 22H1 and Version 2102 1. Overview. 2. What's included. 3. Known limitations and issues. 4. Supported versions of Microsoft Visual Studio. 5. Operating system support. 6. CPython supported versions 7. Additional information. 1. Overview. MIL X Version 22H1 is a re-release of the original MIL 10 with the following enhancements and additions: - GenICam 3.3.0 support for all relevant MIL systems. - Matrox CaptureWorks has been improved. - Updates and engineering fixes since MIL X Version 2102 including MIL X Service Pack 5. 2. What's included. MIL X Version 22H1 includes all the updates in MIL X Version 2102 and the following updates and service pack. - MIL X Update 89 Matrox Radient ev-CXP - MIL X Update 90 GenTL - MIL X Update 96 Matrox Rapixo CL Pro - MIL X Update 100 Matrox Rapixo CXP - MIL X Update 101 3D profiling alignment compensation - MIL X Update 107 Matrox Radient eV-CL - MIL X Update 108 USB3 Vision - MIL X Update 111 .NET 5 Support - MIL X Update 112 Classification Training optimization - MIL X Update 116 MIL CoPilot - MIL X Update 118 Matrox Rapixo CXP - MIL X Update 120 Supersight - MIL X Service Pack 5 (*** See Section 12 for details ***). MIL X Version 22H1 includes engineering fixes for the following: - Matrox Radient eV-CL: - Fix 724: There is a thread contention with the UART pending call when two distinct threads allocate two Radient eV-CL systems. This fix corrects the thread contention and allows the MsysFree to complete. - Matrox Clarity UHD: - Fix 726: When using synchronous mode, grab an image and wait for few ms and grab again, it will get Grab timeout error. - Matrox Rapixo CXP : - Fix 728: Using GenTL with multi-threading, MIL will crash. - Fix 746: When using MsysControl(MilSystem, M_MODIFIED_BUFFER_HOOK_MODE, M_MULTI_THREAD); The PC will freeze. - Matrox Rapixo Pro : - Fix 741: The EF will fix: 1. the Gain &amp; Offset function; 2. the false missed frame issue. - GigeVision - Fix 745: Fixes a blue-screen that occurs when a malformed GigE Vision Stream Protocol packet is received. - 4Sight EV6 - Fix 727: Added firmwares for the EV6 Others fixes are included in MIL X 22H1. Contact Matrox for details. 3. Known limitations and issues. With Windows 10, when uninstalling MIL from the Settings - Apps &amp; features, the name of the program shown in the uninstall program window will be a random string. The first time you run Matrox Feature Browser, a Windows Security Alert dialog might be displayed. You should allow Matrox Feature Browser to open. When using the Recording Mode in Matrox Intellicam (with the Matrox GigE Vision driver, the Matrox USB3 Vision driver, or a Matrox CXP board), you must modify a feature value in Matrox Feature Browser for the value to be recorded. 4. Supported versions of Microsoft Visual Studio. MIL supports the following versions of Microsoft Visual Studio: - Microsoft Visual Studio 2017. - Microsoft Visual Studio 2019. - Microsoft Visual Studio 2022. Most MIL examples are provided for the following versions: - Microsoft Visual Studio 2017. - Microsoft Visual Studio 2019 for C# and .NET 5. - Microsoft Visual Studio 2022. For Microsoft Visual Studio 2019, use the 2017 version of the MIL example for C# with .NET framework and other languages. 5. Operating system support. - Windows 10 64-bit Version 1607, 1809 and 21H2. - Windows 11 64-bit Version 21H2. 6. CPython supported versions MIL for Python can be called from most Python 3.x versions. MIL has been qualified using versions 3.7 and 3.9 under Windows and with the respective 3.x versions of the supported Linux distributions. Also note that Python 2.x is no longer supported. Using MIL MfuncCallScript() to execute Python scripts from a program requires invoking one of the MilInterpPython3X DLLs. -MIL MfuncCallScript() for Windows comes with the necessary DLLs to support Python versions 3.7 and 3.9. -MIL MfuncCallScript() for Linux comes with the necessary DLL to support the default Python 3.x for each supported Linux distribution. 7. Additional information. - DirectShow is no longer supported. - Matrox Radient eV-CLHS and Matrox RadientPro systems are not available for the installation. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 9 : What's new with MIL X Update 114 for Service Pack 5 Table of Contents for Section 9 1. Overview 2. New functionalities and improvements 3. Fixed bugs ------------------------------------------------------------------------------- 1. Overview - Update 114 is an update to the Classification module in MIL X Service Pack 5. Update 114 adds support for inference using Intel OpenVINO. It enables inference offload to an Intel integrated GPU (IGPU) as well as potential acceleration using an Intel CPU and IGPU. It supports FP32 and FP16 processing where applicable. 2. New functionalities and improvements - New: MclassPredict() now supports inference using the Intel OpenVINO. When using an Intel IGPU, it is strongly recommended to ensure its drivers are up to date. This update is especially optimized for the following processors: . 6th to 12th generation Intel速 Core processors and Intel速 Xeon速 processors . 3rd generation Intel速 Xeon速 Scalable processor (formerly code named Cooper Lake) . Intel速 Xeon速 Scalable processor (formerly Skylake and Cascade Lake) . Intel Atom速 processor with support for Intel速 Streaming SIMD Extensions 4.1 (Intel速 SSE4.1) . Intel Pentium速 processor N4200/5, N3350/5, or N3450/5 with Intel速 HD Graphics . Intel速 Iris速 Xe MAX Graphics - New: PredictEngineSelection example that illustrates how to select a predict engine. It also helps to determine the fastest predict engine depending on, among other factors, the hardware, the network size, the input size, and the number of classes. - New: MclassControl() and MclassInquire() now support changing the predict engine. See Appendix A for the command reference of the new parameter values. 3. Fixed bugs - Fixed bug: MclassPreprocess() will no longer miss checking for internal data preparation context setup errors. - Fixed bug: MclassControl() with M_MAKE_FILE_PATHS_RELATIVE is now case insensitive under Windows OS. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 10 : What's new with MIL X Update 115 for Service Pack 5 Table of Contents for Section 10 1. Overview 2. New functionalities and improvements 3. Fixed bugs ------------------------------------------------------------------------------- 1. Overview - Update 115 is an update to the Classification module in MIL X Service Pack 5. Update 115 adds support for inference using NVIDIA CUDA. It enables offload to, and potential acceleration using, NVIDIA GPUs. - The NVIDIA GPU driver must at least be version 452.39. 2. New functionalities and improvements - New: MclassPredict() now supports inference using NVIDIA GPUs with compute capabilities ranging from 3.5 to 8.6. Visit the CUDA GPUs | NVIDIA Developer page (https://developer.nvidia.com/cuda-gpus) for more information on compute capability. - New: PredictEngineSelection example illustrates how to select a predict engine. It also helps to determine the fastest predict engine depending on, among other factors, the hardware, the network size, the input size, and the number of classes. - New: MclassControl() and MclassInquire() now support changing the predict engine. See Appendix A for the command reference of the new parameter values. 3. Fixed bugs - Fixed bug: MclassPreprocess() will no longer miss checking for internal data preparation context setup errors. - Fixed bug: MclassControl() with M_MAKE_FILE_PATHS_RELATIVE is now case insensitive in Windows. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 11 : Differences between MIL X Update 117 and Update 113 for Service Pack 5 Table of Contents for Section 11 1. Overview 2. New functionalities and improvements 3. Fixed bugs 4. Known limitations ------------------------------------------------------------------------------- 1. Overview - Update 117 for MIL X Service Pack 5 includes all the features of Update 113 for MIL X Service Pack 5. In addition, Update 117 adds support for deep learning training using NVIDIA Ampere-class GPUs (ex. GeForce RTX 30 Series and RTX Ax000 cards). - Update 117 is an update for the Classification module. - The NVIDIA GPU driver version must be at least 452.39. - It is recommended to avoid mixing workstation and Data Center GPUs with desktop GPUs. Driver conflicts are expected with such configurations. 2. New functionalities and improvements - New: MclassTrain now supports NVIDIA GPUs with compute capabilities ranging from 3.5 to 8.6. Visit the CUDA GPUs | NVIDIA Developer page (https://developer.nvidia.com/cuda-gpus) for more information on compute capability. - New: M_GPU_TRAIN_ENGINE_LOAD_STATUS can now return the value M_INVALID_GPU_DRIVER_VERSION using MclassInquire(). This status means that the GPU driver version is insufficient. See the Overview section for more details. - Improvement: The best GPU is now selected according to the amount of memory and the compute capability. 3. Fixed bugs - Fixed bug: MclassTrain() will no longer lead to non finite values with non square source images when using the data preloading setting in MILConfig. - Fixed bug: MclassTrain() with an image classification training context will no longer lead to non finite values when using a mini batch size of 1. - Fixed bug: MclassTrain() will now correctly select the GPU with the highest amount of memory when there are multiple GPUs present and some of them are not compatible. - Fixed bug: MclassPreprocess() will no longer miss checking for internal data preparation context setup errors. - Fixed bug: MclassControl() with M_MAKE_FILE_PATHS_RELATIVE is now case insensitive in Windows. 4. Known limitations - The ClassSegmentationCompleteTrain example requires at least 4 GB of GPU memory. To accommodate GPUs with less memory, decrease the mini-batch size. - MclassTrain() now requires more memory to execute. Some trainings that were previously working may experience memory issues. A possible workaround to this is to use a smaller value for M_MINI_BATCH_SIZE. - The percentage of RAM reserved for data preloading is now set to 0 by default. This is to avoid memory issues during training since MclassTrain() now requires more memory to execute, especially for the new segmentation network architectures introduced with Service Pack 5. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 12 : Differences between MIL X Service Pack 5 and Service Pack 4 with Update 101 Table of Contents for Section 12 1. Overview 2. New functionalities and improvements 2.01 MIL processing-specific examples 2.02 Classification module 2.03 Blob module 2.04 Calibration module 2.05 SureDotOCR速 module 2.06 Registration module 2.07 Pattern Matching module 2.08 Model Finder module 2.09 Metrology module 2.10 Bead module 2.11 Code Reader module 2.12 Primitives 2.13 Graphics 2.14 Display 2.15 3D metrology module 2.16 3D registration module 2.17 3D primitives 2.18 3D geometry module 2.19 3D blob module 2.20 3D shape finder module 2.21 3D graphics 2.22 3D display 2.23 General 3. Deprecated functionalities 3.01 Classification module 3.02 Registration module 3.03 Blob module 3.04 SureDotOCR速 module 3.05 3D primitives 3.06 3D graphics 3.07 General 4. Fixed bugs 4.01 Classification module 4.02 Blob module 4.03 SureDotOCR速 module 4.04 Edge Finder module 4.05 Registration module 4.06 Pattern Matching module 4.07 Model Finder module 4.08 Metrology module 4.09 Bead module 4.10 Code Reader module 4.11 Measurement module 4.12 String Reader module 4.13 Primitives 4.14 Graphics 4.15 3D registration module 4.16 3D primitives 4.17 3D geometry module 4.18 General 5. Known limitations 5.01 Classification module 5.02 String Reader module 5.03 3D display 5.04 Model Finder module ------------------------------------------------------------------------------- 1. Overview - MIL X Service Pack 5 includes all the features of MIL X Service Pack 4 with Update 101. In addition, MIL X Service Pack 5 includes new processing functionalities, performance optimizations, and general improvements, such as: . New: Deep learning based classification training has been greatly simplified, including automatic dataset splitting and augmentation and automatic selection of a predefined classifier. . New: Predefined segmentation classifiers. . New: 3D modules for 3D blob segmentation and for finding cylinders and spheres. . New: 3D primitives such as point cloud smoothing, find rigid transformation between point clouds, interactive 3D box, and more... . New: Calibration module supports hand-eye calibration, useful for VGR applications. . New: SureDotOCR速 is more flexible with increased support for dot diameter variation, strings with variable length and results for partially read strings. . New: Code Reader support for ISO/IEC 29158:2020 grading and improved reading robustness and speed in particular for Datamatrix, QR code and Code 128. . New: Support for application development using .NET 5. . New examples, improved Python interface and many more additions and improvements to discover! - MIL X Version 1911 is the minimum requirement for this Service Pack. - MIL X Service Pack 5 for Windows minimum requirement is Windows 10 Version 1607 or more recent. - MIL X Service Pack 5 requires a CPU with the SSE4.2 instruction set extension. It will not install otherwise. - Note that the new modules (3D blob and 3D shape finders) are supported are 64-bit only. - Note that MIL X Service Pack 5 removes the support of the Matrox CronosPlus, Matrox Radient eV-CLHS, Matrox Vio, IEEE 1394 IIDC, Matrox RadientPro and Morphis QxT systems. - Windows' automatic 8.3 file name creation needs to be enabled in order for the MIL installer to access the temp folder when the user name contains a space. This option allows Windows to create short file/folder name aliases for ones with long names for programs, such as the MIL installer, that don't support spaces in the file/folder names. Alternatively, the MIL installer needs to run from a user account that belongs to the administrators group and has no spaces in it. Note that the same applies for uninstalling MIL. - Some anti-virus or security applications may interfere with your MIL installation. In order to perform the installation without any interruption, it is recommended that you temporarily disable your anti-virus or security application. - The required Visual C++ 2017 Redistributable also needs the presence of KB2919442 and KB2919355. These will need to be obtained and applied to install this Service Pack. - Building the MIL examples using Visual Studio 2015 or 2017 requires the presence of Windows SDK version 8.1, which is installed from the Visual Studio setup. - Shortcuts to the ModelFinder and EdgeFinder interactive utilities have been deprecated as the functionality is available in the MIL CoPilot interactive environment included in the latest MIL release or in an update to MIL. - Ply files are associated to Microsoft's 3D Viewer by default on Windows 10. To open a ply file with 3D Viewer, the point cloud must contain a mesh; otherwise, you will get the error: &quot;Couldn't load 3D model&quot;\u009D. - MIL X Service Pack 5 does not support Python 2.x. MIL CoPilot version 10.40 (i.e., MIL X Update 94) will no longer support it after a Service Pack 5 installation. - MIL X Service Pack 5 for Python has been validated using the following package versions: Python 3.7.9, Python 3.9.10, Numpy 1.21.0 and Matplotlib 3.5.0. - If Python is installed after the installation of MIL X Service Pack 5, the following command must be executed: . For 32-bit pip install mil --no-index --find-links=&quot;\u009D%MIL_PATH32%\\..\\Scripting\\pythonwrapper\\dist&quot;\u009D . For 64-bit pip install mil --no-index --find-links=&quot;\u009D%MIL_PATH64%\\..\\Scripting\\pythonwrapper\\dist&quot;\u009D This is not necessary if Python is installed prior to the MIL X Service Pack 5 installation. - The Python environment variable must be added with the Python installation for proper functioning of the MIL wrapper for Python. - The container buffer support for the GenTL Consumer provided in MIL 10 Update 34 and MIL X Version 1911 is incompatible with the container buffer support in MIL X Service Pack 5. Calling MbufAllocDefault() for a M_SYSTEM_GENTL system with the M_CONTAINER attribute will generate an error. Moreover, the MultiComponentGrab example, which uses containers, will also generate an error. The Update 90 for the GenTL Consumer resolve this issue. - To perform Deep learning based classification training on a GPU you must download and install the MIL X Update 113 or a more recent one. - MIL X Service Pack 5 will be the last version with any 32-bit support. - MIL X Service Pack 5 will be the last version to support the original and previously deprecated Mblob, Mpat and Mcode APIs 2. New functionalities and improvements 2.01 MIL processing-specific examples - New MIL X Service Pack 5 examples available from Matrox Example Launcher. - Visit our GitHub repository (https://github.com/Matrox-Imaging) for third-party 3D camera interface examples and more. 2.02 Classification module - New: MclassTrain() allows to train from a single dataset for either classification or segmentation. In that mode, the dataset splitting and the augmentation are performed automatically. - New: MclassAlloc(..., M_CLASSIFIER_SEG_PREDEFINED, ...) allows to use the new predefined Matrox segmentation network architectures. These can be trained using the new segmentation training. - New: MclassAlloc(..., M_CLASSIFIER_CNN_PREDEFINED, ...) allows to use the new predefined Matrox classification network architectures (M_ICNET_...). - New: MclassPrepareData() allows you to prepare images in a dataset, or individual images, for training or prediction. - New: MclassControl(..., M_LOSS_FUNCTION_TYPE, ...) allows you to select the type of loss function used during the training. - New: MclassEntryAddRegion() allows you to add regions to an entry in an image dataset context. This allows pixel-level labeling. - New: MclassDrawEntry() allows you to draw region descriptors from an entry in an image dataset context. - New: MclassSplitDataset(M_SPLIT_SEG_CONTEXT_DEFAULT/FIXED_SEED, ...) allows you to use predefined split context to split a segmentation dataset. - New: MclassCopyResult(..., M_PREPARED_TRAIN_DATASET, ...) allows you to copy the train dataset from a train result to a destination dataset. - New: MclassCopyResult(..., M_PREPARED_DEV_DATASET, ...) allows you to copy the development dataset from a train result to a destination dataset. - New: MclassTrain() now allows you to reuse an already prepared train and/or development dataset from a training result, by setting the dataset parameters to M_NULL. - New: MclassTrain() now allows you to reuse the classifier from a train result by setting the parameter ClassifierContextClassId to M_NULL. - New: MclassTrain() now can automatically select one of the predefined CNNs based on the train dataset context by setting the parameter ClassifierContextClassId to M_NULL. - New: MclassImport(..., M_ONNX_FILE, ...) allows, under some constraints, to import already trained networks saved in the ONNX file format. The VGG16, ResNet-18 and ResNet-50 models are known to be supported by MclassImport(..., M_ONNX_FILE, ...). Other models may also be supported. - New: MclassInquire(..., M_CURRENT_USER_AUTHOR_INDEX, ...) allows you to inquire the author index of the current user. - New: MclassImport(..., M_IMAGE_DATASET_FOLDER, ...) allows you to quickly import a dataset from a structured source folder containing the data. - New: MclassExport(..., M_IMAGE_DATASET_FOLDER, ...) allows you to export a dataset to a destination folder. If M_IMAGE_DATASET_FOLDER_ALLOW_RENAME is used, the export will complete even if two classes or more have the same name. - New: MclassSetHookInfo() allows you to set information about a classification object event. - New: MclassControl(..., M_CLASS_WEIGHT_MODE, ...) is now supported for segmentation training. - New: MclassGetResultEntry() allows you to get results directly from the entries of a dataset. - New: MclassHookFunction(..., M_DATASETS_PREPARED,...) allows you to be notified when the training and development dataset are available in the train result. - New: MclassHookFunction(..., M_WRITE_NEW_FILE, ...) allows you to get information about the files that are written to disk during certain API calls. - New: MclassExport(..., M_TRAIN_TREE, ...) allows to export trained trees to a DOT file for a tree ensemble classifier. - New: MclassDraw(..., M_DRAW_CLASS_COLOR_LUT, ...) allows you to draw the color (LUT) associated to the class for a tree ensemble classifier. - New: MclassDraw(..., M_DRAW_CLASS_ICON, ...) allows you to draw the icon image associated to the class for a tree ensemble classifier. 2.03 Blob module - New: MblobCalculate() allows you to calculate 3D features (volume, elevations, SizeZ) when using a depth map image. - New: MblobCalculate() allows you to calculate the 7 Hu moments that are invariant to translation, scale, and rotation image transformations, as well as reflection for 6 of them. These new features can also be useful when used in conjunction with the tree ensemble classifier. - New: MblobCalculate() allows you to calculate predefined third order moments using the M_MOMENT_THIRD_ORDER control type. These new features can also be useful when used in conjunction with the tree ensemble classifier. - New: MblobCalculate() allows you to use 32-bit unsigned images when using the M_LABELED_TOUCHING mode. 2.04 Calibration module - New: McalCalculateHandEye() allows you to calculate the transformations between elements of a robotics setup that uses a precalibrated camera/3D sensor (required for hand-eye calibration). - New: McalDraw(..., +M_DRAW_CALIBRATION_ERROR, ...) allows you to draw the vector field error between image and world points. - Improvement: McalFixture(..., M_RESULT_PAT, ...) speed has been improved on Linux. 2.05 SureDotOCR速 module - New: MdmrControl(..., M_STRING_SIZE_MIN/MAX, ...) allows you to read strings of variable length using a single string model. - New: MdmrControl(..., M_STRING_PARTIAL_MODE, ...) set to enable allows you to read partial strings. This can also be very useful to finetune context settings. - New: MdmrControl(..., M_DOT_DIAMETER_SPREAD_MODE, ...) allows you to read using different dot diameters when spread mode is set to enable. This is useful for application exhibiting dot diameter variation or touching dots. 2.06 Registration module - New: MregControl(..., M_STITCHING_LAST_LEVEL, ...) allows you to set the resolution level for the final stage (highest resolution) of the stitching. - New: MregControl(..., M_GAIN_MODE/M_IMAGE_GAIN, ...) allows you to set the image gain to use. It applies to M_HIGH_DYNAMIC_RANGE context. - New: MregGetResult(..., M_IMAGE_GAIN, ...) allows you to retrieve the gain used by MregCalculate(). It applies to M_HIGH_DYNAMIC_RANGE_RESULT. - New: MregControl(..., M_IMPROVED_LOCAL_SHAPE, ...) allows to compute an improved version of the local shape image when there are 4 input images, and the azimuth angles of their light sources are 0, 90, 180, and 270, respectively. 2.07 Pattern Matching module - New: MpatControl(..., M_SEARCH_ANGLE_ACCURACY_MODE, ...) allows you to scan all angle refinement steps within angular range for better angular accuracy. 2.08 Model Finder module - New: MmodControl(..., M_EDGE_ACCURACY, ...) allows you to control the edge accuracy to use. - New: MmodControl(..., M_ELLIPSE_TOLERANCE_TO_CIRCLE, ...) allows you to control the tolerance for approximating an ellipse as a circle. This is available with an M_SHAPE_ELLIPSE context. - New: MmodGetResult(..., M_E/F_FORWARD/REVERSE, ...) allows you to retrieve extra transformation coefficients. - New: MmodControl(..., M_RESOLUTION_COARSENESS_LEVEL, ...) allows you to adjust the resolution of edge approximation for the shapes contexts. - Improvement: MmodFind() has been speed-optimized when the target image contains many occurrences with an M_GEOMETRIC or M_GEOMETRIC_CONTROLLED context. - Improvement: MmodFind() has been speed-optimized when the target image contains a search region with a shape context. 2.09 Metrology module - New: MmetDraw(..., M_DRAW_TOLERANCE_AREA_POSITIVE/NEGATIVE, ...) allows you to draw the positive or negative areas separately for tolerances involving areas. - Improvement: MmetAddFeature/Tolerance() will now generate a label with the smallest value available when the label is set to M_DEFAULT. 2.10 Bead module - New: MbeadGetResult(..., M_START/END_POS_X/Y, ...) allows you to retrieve the start and end positions for a stripe bead. 2.11 Code Reader module - New: McodeGrade() allows you to grade according to ISO/IEC 29158:2020. - New: IATA 2 of 5 code type is now supported (i.e., detect, read, write, train and grade). - New: McodeGetResult() allows you to retrieve the M_GRADING_STANDARD_EDITION_USED after a McodeGrade() operation. - New: McodeGetResult() allows you to retrieve M_ERROR_CORRECTION results after a McodeWrite() operation. - New: McodeGetResult() allows you to retrieve most results for the 2D component of composite codes (position results, encoding, ...) after a McodeWrite() operation. - New: McodeModel(..., M_ADD_IF_NOT_THERE, ...) allows you to add a code model to a context if its type is not already present in said context. - New: McodeModel(..., M_DELETE_ALL, ...) allows you to delete all code models from a context. - New: McodeGetResult() allows you to retrieve M_CELL_SIZE_MIN and M_CELL_SIZE_MAX after an McodeRead() or McodeGrade() operation. - Improvement: McodeRead() now allows you to read code 128 codes with an out-of-spec start pattern. - Improvement: McodeRead() robustness and speed have been improved when the QR code or Datamatrix occupy an important part of the image. - Improvement: McodeRead() now allows you to read QR code with more distorted finder patterns. - Improvement: McodeRead() speed has been improved for QR codes containing alignment patterns. - Improvement: McodeRead() and McodeWrite() now support Version 21 of the GS1 General Specifications. - Improvement: McodeWrite() has been speed-optimized when writing a barcode in the child of a very large image. - Improvement: McodeGrade() now allows to retrieve some grading results for 2D matrix code even if the decode grade is 0. - Improvement: McodeRead() robustness has been improved for 4-state codes. 2.12 Primitives - New: MgenWarpParameter() allows you to generate 32-bit float luts. - New: MimWarp(M_WARP_LUT) allows you to use 32-bit float luts. - New: MgenLutFunction() allows you to generate a colormaps in reverse sequence of colors using M_FLIP option. - New: MimProjection() allows you to use M_RANK and M_RANK_PERCENTILE operations. - New: MimArith() allows you to round images. There are several supported rounding modes. - New: MimDraw(..., M_FROM_LINE_THICKNESS, ...) allows you to draw thick lines for M_DRAW_PEAKS when using a graphics list destination. - Improvement: MimWarp(M_WARP_LUT) has been speed-optimized. - Improvement: MimArith(..., M_ABS_SUB/M_AVG/M_MAX_ABS/M_MIN_ABS/M_SQRT) has been speed-optimized. - Improvement: MimConvert(..., M_RGB_TO_H) has been speed-optimized for a conversion from 8+M_UNSIGNED to 16+M_UNSIGNED, 16+M_UNSIGNED to 8+M_UNSIGNED and 16+M_UNSIGNED to 16+M_UNSIGNED. - Improvement: MimLocateEvent(), MimWarp(M_WARP_LUT), MimFindExtreme(), MimProjection(M_90_DEGREES) and MimStat() have been speed-optimized when using source image with a height of 1. These optimizations are especially pertinent in the context of 3D buffer manipulations. 2.13 Graphics - New: Line thickness is now supported for MgraArc(), MgraDot(), MgraLine() and MgraRect() via MgraControl/List(..., M_LINE_THICKNESS, ...). It is also supported for the MxxxDraw() operation in most modules. - New: MbufSetRegion() allows you to force line thickness to 1 when the operation is M_RASTERIZE. This can be done using the + M_USE_LINE_THICKNESS_1 combination value. 2.14 Display - New: MdispControl(..., M_OVERLAY_OPACITY, ...) allows you to set the opacity of the display's overlay buffer. - New: MdispControl(..., M_GRAPHIC_LIST_OPACITY, ...) allows you to set the opacity level of annotations generated from the 2D graphics list associated with the display. - New: MdispControl(..., M_TITLE, M_NULL) allows you to reset the display window title to its default value. - New: MdispControl(..., M_INTERPOLATION_MODE, ...) allows you to set the type of interpolation used to display a zoomed image. - Improvement: Optimized display update performance when the MIL overlay layer contains no annotations. 2.15 3D metrology module - New: M3dmetCalculate() allows you to calculate geometric and scalar measurements from 3D geometries. - New: M3dmetCalculateScalar() allows you to calculate scalar measurements from 3D geometries. - New: M3dmetStat(..., M_STAT_MEAN_ABS, ...) allows you to calculate the average absolute distance between the point cloud or depth map, and the specified reference object. - New: M3dmetGetResult(..., M_RESULT_IMAGE_SIZE_X/Y, ...) allows you to retrieve the size in X/Y of the range component of the source point cloud or depth map, in pixels. Can use to allocate an image buffer of an appropriate size for M3dmetCopyResult(). - New: M3dmetCopyResult(..., M_FITTED_GEOMETRY_INFINITE, ...) allows you to copy the fitted 3D geometry object; if you specify this copy type, copied 3D cylinder geometry objects and 3D line geometry objects will be infinite. - New: M3dmetFit() allows you to output to 3D geometries instead of having to call M3dmetCopyResult() to retrieve it. 2.16 3D registration module - New: M3dregControl(..., M_MERGE_LOCATION, ...) allows you to specify which registration element coordinate system to use in M3dregMerge(). 2.17 3D primitives - New: M3dimFilter() allows you to apply a smoothing filter to a point cloud. - New: M3dimFix() allows you to determine if a container satisfies certain conditions and optionally fixes them if they are not met. This ensures a container is optimal for use with a 3D processing operation. - New: M3dimStat() allows you to output to a 3D geometry instead of having to call M3dmetCopyResult() to retrieve it. It applies for bounding box and centroid. - New: M3dimProject(..., M_PROFILE_GEOMETRY, ...) allows you to retrieve the profile of a 3D geometry. 3D points are extracted at the intersection of the specified slicing plane and the geometry. - New: M3dimGetList() allows you to copy a list of points from a container. - New: M3dimControl(..., M_CALCULATE_MODE, ...) allows you to set whether the source point cloud container is organized. M3dimCalculateMapSize() calculations can be performed much faster with organized point clouds. - New: M3dimRemapDepthMap() allows you to remap a depth map to fit within a specified data range, or convert the depth map to a different bit depth. - New: M3dimFindTransformation() allows you to find the rigid transformation between 2 sets of points. - New: M3dimStat() allows you to computes PCA and moments (M_PCA and M_MOMENTS). - New: M3dImControl(..., M_COMPONENT_OF_INTEREST, ...) allows you to sets the component (normals or range) for which to calculate statistics. - New: M3dImControl(..., M_MESH_TRIMMING_LEVEL, ...) allows you to discard outlier points when M3dimMesh() is used with M_MESH_SMOOTHED mode. - New: M3dImControl(..., M_BOX_ORIENTATION, ...) allows you to compute an axis-aligned or semi-oriented bounding box. - New: M3dImCopyResult(..., M_STANDARDIZATION_MATRIX, ...) allows you to copy, into the transformation matrix, bounding box statistics results that can transform the bounding box into a unit box. This is possible with an M_STATISTICS_RESULT. - New: M3dImCopyResult(..., M_NORMALIZATION_MATRIX, ...) allows you to copy, into the transformation matrix, PCA statistics results that can scale the point cloud to dimensions at or near 1 unit. This is possible with an M_STATISTICS_RESULT. - New: M3dimSample() now allows you to also creates a point cloud from a 3D geometry. - New: M3dimCrop() now allows you to apply a transformation matrix before applying the cropping criteria. - New: M3dimCrop() now allows you to use an &quot;uncalibrated mask buffer&quot; to crop points. - New: M3dimProject(..., M_MAX_INTENSITY, ...) allows you to use the gray level of the 3D point with the highest intensity as the overlap mode. - New: M3dimCopyResult(..., M_BOX_CENTER, ...) allows you to copy a box center result into a point geometry when using an M_STATISTICS_RESULT. - New: M3dimCopyResult(..., M_CENTROID, ...) allows you to copy a centroid result into a point geometry when using an M_STATISTICS_RESULT. - New: M_APPLY_TO_ALL_COMPONENTS allows you to apply M3dimCrop(), M3dimSample(), M3dimRemovePoints(), M3dimMerge() and M3dregMerge() to all components with the same dimensions as component M_COMPONENT_RANGE. - New: M3dimProfile(..., M_PROFILE_MESH, ...) allows you to take the profile of a mesh. - New: M3dimGet() allows you to get valid points or other component values from a container's point cloud, or get values from a depth map. - Improvement: M3dimMesh() has been speed-optimized for the M_MESH_SMOOTHED mode. - New: M3dimRemovePoints(..., M_NOT_MESH_POINTS, ...) allows you to remove points from a point cloud whose confidence is equal to zero, as well as points whose normal vector values are zero. - New: M3dimStat() now allows you to compute the bounding box and centroid of any 3D geometry. - New: MbufExport(..., M_WITH_ORGANIZATION, ...) allows you to save organization information when exporting a point cloud. - New: M3dimArith(..., M_FLIP_Z, ...) allows you to invert a depth map's Z values; bright values become dark, and dark values become bright. - New: M3dimDraw3d() allows you to draw a profile into a 3D graphics list and display it. - Improvement: M3dimMerge() has been speed-optimized. - Improvement: MbufConvert3d() now truncates floating-point values for the invalid data for integer range components. 2.18 3D geometry module - New: M3dgeoConstruct() allows you to construct a 3D geometry from other geometries. - New: M3dgeoEvalCurve() allows you to evaluate a curve and a list of partial coordinates in order to find the missing coordinates for points that lie on the curve. - New: M3dgeoEvalSurface() allows you to evaluate a surface and a list of partial coordinates in order to find the missing coordinates for points that lie on the surface. For example to retrieve the Z values on the surface corresponding to provided (X,Y) values. - New: M3dgeoCylinder(..., +M_WITH/OUT_BASES) allows you to specify that the resulting cylinder has a circular base at each end or not. - New: M3dgeoPoint() allows you to define an arbitrary 3D point geometry object. Point geometries are supported by most fucntions which support geometry objects. 2.19 3D blob module - New: 3D blob module to perform 3D segmentation using M3dblobSegment(), to calculate blob features using M3dblobCalculate(), and to select blobs based on feature values using M3dblobSelect(), M3dblobSort(), and/or M3dblobCombine(). 2.20 3D shape finder module - New: 3D shape finder module to find cylinders and spheres. The module supports finding multiple occurrences, occurrences at varying scale, cylinders at varying angles, occurrences with partial coverage, ... 2.21 3D graphics - New: M3dgraControl(..., M_EDITABLE, ...) allows you to interactively edit a 3D box geometry. - New: M3dgraCopy(..., M_BOUNDING_BOX, ...) allows you to specify the label of the 3D graphic whose bounding box is inquired. 2.22 3D displays - New: M3ddispSetView(..., m_AUTO, ...) allows you to specify the label of the 3D graphic around which the view is centered. - New: M3ddispControl(..., M_VIEW_BOX_NODE, ...) allows you to specify which 3D graphic the view will be focused on when you use M3ddispSetView() with M_AUTO. - New: M3ddispAlloc(..., M_WEB, ...) allows you to present a 3D display in one or more instances of a MILweb client application. - New: M3ddispControl/Inquire() now supports M_WINDOW_TITLE_BAR, M_WINDOW_MAXBUTTON, M_WINDOW_MINBUTTON, M_WINDOW_MOVE, M_WINDOW_OVERLAP, M_WINDOW_SHOW, M_WINDOW_SYSBUTTON and M_WINDOW_RESIZE. 2.23 General - New: MbufStream(..., M_PNG, ...) allows you to use the PNG file format. - New: MdigProcess(..., M_SEQUENCE+M_COUNT(M_ALL), ...) allows you to grab the entire source (avi, directory, list of files) once. This is available on the host system only. - New: MbufSetRegion(..., M_RASTERIZE_DEPTH_MAP_VALID_PIXELS, ...) allows you to set a region on a depth map buffer. The region corresponds to the valid pixels and optionally another mask. - New: MfuncAllocScript(M_INTERPRETER_C_PYTHON39) allocates a script-based user-defined function for Python 3.9. - New: MfuncAllocScript(M_INTERPRETER_C_PYTHON3X) allocates a script-based user-defined function for the most recent 3.X version of CPython among the supported versions. - New: MbufSave()/MbufImport()/MbufRestore()/MbufExport() allow you to load and save images from/to an sftp server (secure ftp). - New: MdigProcess() allows you to automatically allocate appropriate image buffers or containers to store grabbed frames by simply setting the DestContainerOrImageBufArrayPtr parameter to M_NULL. - New: MappFileOperation() allows you to search for folders using M_FOLDER_NAME_FIND and M_FOLDER_NAME_FIND_COUNT operations. - New: MappGetError()/MappGetHookInfo() allow you to retrieve the full error message using M_MESSAGE_EXTENDED. Error message that are too long are truncated when M_MESSAGE is used. - New: A MIL application can now be created using .NET 5. Refer to &quot;Using MIL with .NET 5&quot; in the MIL Release Note section of MIL Help for specifics (as well as &quot;Chapter 51 : Using MIL with .NET&quot; in the MIL User Guide section of MIL Help). - Improvement: MappFree() can now be called from any thread, not just the one from where the application has been allocated. - Improvement: MbufImport/MbufStream(..., M_RESTORE,...) and MbufRestore() will now allocate an M_IMAGE buffer with M_PROC, M_DISP and M_GRAB(when possible) attributes. Before the improvement, it was not the case for M_MIL_NATIVE files representing an M_IMAGE. They were allocated with M_PROC and M_DISP only. - Improvement: The Python wrapper has been greatly improved .Support for native Python types, such as floats, strings, and lists. No longer a need for ctypes in most cases. .Support for numpy: MIL can now uses numpy arrays as input and returns arrays using numpy when available. .Ability to handle MIL errors as Python exceptions using MappControl(..., M_ERROR, M_THROW_EXCEPTION) and to handle an asynchronous error .Added safe-type checking .Ability to pass Python objects directly to UserData parameters in hook functions .Ability to install MIL Python wrapper using Python package manager pip, for use in virtual environments .New Python examples. 3. Deprecated functionalities 3.01 Classification module - For MclassControlEntry() and MclassInquireEntry(), M_FILE_PATH has been renamed to M_ENTRY_IMAGE_PATH and M_FILE_PATH_ABS has been renamed to M_ENTRY_IMAGE_PATH_ABS. - The following MclassControl() control types have been renamed: .M_UPDATE_TRAINED_CNN_PARAMS renamed to M_UPDATE_TRAINED_PARAMS .M_CNN_TRAIN_ENGINE renamed to M_TRAIN_ENGINE .M_MOVE_ENTRIES renamed to M_CONSOLIDATE_ENTRIES_INTO_FOLDER. - The following MclassInquire() inquire types have been renamed: .M_CNN_TRAIN_ENGINE_IS_INSTALLED renamed to M_TRAIN_ENGINE_IS_INSTALLED .M_CNN_TRAIN_ENGINE_USED renamed to M_TRAIN_ENGINE_USED .M_CNN_TRAIN_ENGINE_USED_DESCRIPTION renamed to M_TRAIN_ENGINE_USED_DESCRIPTION .M_CLASSIFIER_CNN_PREDEFINED_TYPE renamed to M_CLASSIFIER_PREDEFINED_TYPE. - The following MclassGetResult() result types have been renamed: .M_CLASSIFICATION_MAP_SIZE_X/Y renamed to M_CLASS_SCORES_SIZE_X/Y .M_CLASSIFICATION_MAP_OFFSET_X/Y renamed to M_RECEPTIVE_FIELD_OFFSET_X/Y .M_CLASSIFICATION_MAP_SCALE_X/Y renamed to M_RECEPTIVE_FIELD_STRIDE_X/Y .M_CLASS_MAP_INDEX_IMAGE_TYPE renamed to M_BEST_INDEX_IMAGE_TYPE. - The following MclassCopyResult() copy types have been renamed: .M_TRAINED_CLASSIFIER_CNN to M_TRAINED_CLASSIFIER .M_TRAINED_TREE_ENSEMBLE to M_TRAINED_CLASSIFIER. - MclassGetHookInfo(), info type M_TRAINED_CNN_PARAMETERS_UPDATED has been renamed to M_TRAINED_PARAMETERS_UPDATED. - For MclassDraw(), M_CLASSIFICATION_MAP_SIZE combination value has been renamed to M_NETWORK_OUTPUT_SIZE. - M_CLASS_INDEX_PREDICTED and M_PREDICTED_CLASS_SCORES have been deprecated: **Migration guide for M_CLASS_INDEX_PREDICTED** MIL_INT PredIndex = 0; MclassInquireEntry(PredictedDataset, Index, M_DEFAULT_KEY, M_REGION_INDEX(0), M_CLASS_INDEX_PREDICTED + M_TYPE_MIL_INT, &amp;PredIndex); is replaced by: MIL_INT PredIndex = 0; MclassGetResultEntry(PredictedDataset, Index, M_DEFAULT_KEY, M_CLASSIFICATION, M_DEFAULT, M_BEST_CLASS_INDEX + M_TYPE_MIL_INT, &amp;PredIndex); **Migration guide for M_PREDICTED_CLASS_SCORES** std::vector&lt;MIL_DOUBLE&gt; PredScores; MclassInquireEntry(PredictedDataset, Index, M_DEFAULT_KEY, M_REGION_INDEX(0), M_PREDICTED_CLASS_SCORES, PredScores); is replaced by: std::vector&lt;MIL_DOUBLE&gt; PredScores; MclassGetResultEntry(PredictedDataset, Index, M_DEFAULT_KEY, M_CLASSIFICATION, M_DEFAULT, M_CLASS_SCORES, PredScores); 3.02 Registration module - The result M_HDR_INSUFFICIENT_COLOR_DEPTH has been renamed to M_HDR_INSUFFICIENT_CONTRAST. 3.03 Blob module - The MblobTransform() operation M_CONTIGUOUS_LABELS has been renamed to M_RELABEL_CONSECUTIVE. 3.04 SureDotOCR速 module - The following controls have been renamed: M_STRING_BOX_WIDTH to M_TEXT_BLOCK_WIDTH, M_STRING_BOX_HEIGHT to M_TEXT_BLOCK_HEIGHT and M_STRING_BOX_SIZE_MODE to M_TEXT_BLOCK_SIZE_MODE. 3.05 3D primitives - The M3dimControl() control type M_SMOOTH has been renamed to M_ENFORCE_CONTINUITY. 3.06 3D graphics - The M3dgraControl() control type M_CYLINDER_BASES has been renamed to M_DISPLAY_BASES. 3.07 General - MfuncAllocScript(M_INTERPRETER_C_PYTHON27) has been deprecated. Use M_INTERPRETER_C_PYTHON36, M_INTERPRETER_C_PYTHON37, ... instead. - MfuncAllocScript(M_INTERPRETER_CUSTOM) has been deprecated. - The Visual Studio Python solutions have been removed for the Python examples. The Python source code files (.py) are still provided for these examples. 4. Fixed bugs 4.01 Classification module - Fixed bug: MclassRestore() will no longer pop an error when restoring a dataset containing an M_ACTIVE_AUTHOR_INDEX set to a value different from M_DEFAULT or M_CURRENT_USER. - Fixed bug: MclassGetResult() will no longer return the status M_INTERNAL_ERROR if a memory allocation error occurred during a training on CPU. It will instead return the status M_NOT_ENOUGH_MEMORY. - Fixed bug: MclassImport(..., M_CSV, ...) will now properly handle importing data from a CSV file even when no author header is present. It will automatically add the current user as the author. - Fixed bug: MclassSplitDataset() will no longer ignore some augmented images when splitting. An augmented image entry was ignored when listed before its source (parent) image entry in the source dataset. - Fixed bug: MclassSplitDataset() will no longer exhibit a bias. Prior to the fix, the second destination dataset was receiving an extra image in some cases. - Fixed bug: MclassSplitDataset() will no longer split an augmented entry and its source entry into different datasets. This was likely to happen when the ground truth of the augmented entry was different than the ground truth of the source entry. 4.02 Blob module - Fixed bug: MblobMerge() will no longer crash when performing multiple successive calls and when reusing the same results in different order. It was happening in some rare cases when M_CONVEX_HULL feature was enabled and some blobs were first excluded using MblobSelect(). 4.03 SureDotOCR速 module - Fixed bug: MdmrRead() will report fewer erroneous characters, especially fewer incorrect &quot;1&quot; digits. 4.04 Edge Finder module - Fixed bug: MedgeDraw() will no longer fail drawing M_DRAW_INDEX and M_DRAW_LABEL when the IndexOrLabel is equal to M_ALL_EDGES and the destination image is calibrated. - Fixed bug: MedgeCalculate() will no longer ignore M_THRESHOLD_TYPE when M_THRESHOLD_MODE is set to M_USER_DEFINED. - Fixed bug: MedgeGetResult() will no longer wrongly return unavailable for results M_CHAIN_ANGLE or M_CHAIN_MAGNITUDE in some situation when EdgeIndexOrLabelValue is set to M_ALL. - Fixed bug: MedgeDraw() will no longer incorrectly draw results when the destination buffer as a different depth or sign than the internal edge results. This was happening in some rare occasions for M_DRAW_ANGLE, M_DRAW_CROSS_DERIVATIVE, M_DRAW_FIRST_DERIVATIVE_X, M_DRAW_FIRST_DERIVATIVE_Y, M_DRAW_IMAGE, M_DRAW_MAGNITUDE, M_DRAW_MASK, M_DRAW_SECOND_DERIVATIVE_X and M_DRAW_SECOND_DERIVATIVE_Y. 4.05 Registration module - Fixed bug: MregCalculate() will no longer pop an error when successive calls are made using the same M_HIGH_DYNAMIC_RANGE_RESULT result buffer and different input image sizes. - Fixed bug: MregGetResult() will no longer return an error when M_HDR_IMAGE_STATUS result type is used with a combination value. - Fixed bug: MregTransformImage() will no longer return incorrect values for some pixels of destination image, when destination image type is 32 + M_FLOAT and mosaic composition is M_FUSION_IMAGE. This problem was happening in rare cases. - Fixed bug: MregCalculate() will no longer return a calibrated HDR image when only some input images are calibrated. 4.06 Pattern Matching module - Fixed bug: MpatFind() will no longer crash with buffer having a pitch equal to size X (was happening in rare cases). - Fixed bug: MpatRestore() and MpatStream() will no longer have problem restoring context saved using MIL 1 or MIL 2. Also, a corrupted context will no longer be restored as if it is a valid MIL 1 or MIL 2 context. These problems were happening in rare cases. - Fixed bug: MpatFind() will no longer return an imprecise position when an occurrence is near search region limits. 4.07 Model Finder module - Fixed bug: MmodFind() will no longer ignore some edges when used with M_GEOMETRIC_CONTROLLED and an M_WEIGHT_REGIONS mask is applied. This was causing some occurrences to be ignored is some rare cases. - Fixed bug: MmodFind() will no longer poitentially cause an infinite loop when used with an M_GEOMETRIC, M_GEOMETRIC_CONTROLLED or M_SHAPE_RECTANGLE context. This was happening in extremely rare cases. - Fixed bug: MmodFind() will no longer return invalid M_POSITION_X and M_POSITION_Y. This was happening when using M_SHAPE_ELLIPSE and M_SHAPE_RECTANGLE context and when the aspect ratio of the occurrence was different than 1 and the reference axis of the model did not lie on the major axis. - Fixed bug: MmodFind() will no longer return wrong values for the M_A/B_FORWARD/REVERSE results when M_RESULT_OUTPUT_UNITS are set to M_PIXEL and the associate calibration is a uniform calibration. - Fixed bug: MmodFind() will no longer ignore some valid occurrences when multiple models are defined and each model is associated with a different camera calibration. - Fixed bug: MmodFind() will no longer ignore M_SEARCH_POSITION_RANGE disable in some occasions with M_GEOMETRIC or M_GEOMETRIC_CONTROLLED context. - Fixed bug: MmodDraw() will no longer ignore offsets and scale when drawing models or masks in some occasions with M_GEOMETRIC_CONTROLLED or M_GEOMETRIC context. - Fixed bug: MmodFind() will no longer miss occurrences when used with M_GEOMETRIC_CONTROLLED context, aspect ratio different from 1.0 and search angle disabled. - Fixed bug: MmodFind() will no longer ignore some occurrences when the search region is semi-infinite and the target image is calibrated. This was happening when using a shape context. - Fixed bug: MmodFind() will no longer miss an occurrence when used with a calibrated target and M_SHAPE_ELLIPSE, M_SHAPE_RECTANGLE or M_SHAPE_SEGMENT context (was happening in rare cases). - Fixed bug: MmodFind() will no longer miss occurrences when a small search region is used with an M_SHAPE_ELLIPSE, M_SHAPE_RECTANGLE or M_SHAPE_SEGMENT context (was happening in rare cases). - Fixed bug: MmodFind() will no longer ignore some edges when using search region. This was happening in extremely rare cases. - Fixed bug: MmodCalculate() will no longer crash when used with M_SHAPE_ELLIPSE context and a timeout is detected, which was happening in rare cases. - Fixed bug: MmodDefineFromFile() will no longer generate a MIL error when the DXF file contains a string group code that is empty. 4.08 Metrology module - Fixed bug: MmetCalculate() will no longer determine an incorrect value when M_FIT_DISTANCE_OUTLIERS is set to M_AUTO (was happening in rare cases). - Fixed bug: MmetCalculate() will no longer determine a too small value when M_FIT_ITERATIONS_MAX is set to M_AUTO. This was happening when M_FIT_INTERNAL_NUMBER_OF_POINTS was set to a small value or let to default. - Fixed bug: MmetCalculate() will no longer use a different value for M_FIT_INTERNAL_NUMBER_OF_POINTS when let to default or when sets to default using MmetControl(M_FIT_INTERNAL_NUMBER_OF_POINTS, M_DEFAULT or M_AUTO). - Fixed bug: MmetAddTolerance() will now generate a MIL error when adding a Label &gt; M_MET_TOLERANCE_ID_MAX. Prior the fix the behavior was undefined. - Fixed bug: MmetAddFeature() will now generate a MIL error when adding a Label &gt; M_MET_FEATURE_ID_MAX. Prior the fix the behavior was undefined. - Fixed bug: MmetPut(Context, Label, 0, M_NULL, M_NULL, M_NULL, M_NULL, M_NULL, M_RESET) call will no longer lead to a compiling error under C++. - Fixed bug: MmetCalculate() will no longer give a different result if the edgels are the same but in a different order when the fit type is set to M_ROBUST_FIT. - Fixed bug: MmetInquire() will now return the total number of external points set with MmetPut() for M_EDGEL_POSITION_X/Y, M_EDGEL_ANGLE and M_NUMBER. Prior the fix the result was returned only considering the last call to MmetPut(). - Fixed bug: MmetCalculate() will no longer compute an area of 0 when there is no intersection between the curves and when enabling M_AREA_BETWEEN_CURVES_ONE_SIDE_ONLY. - Fixed bug: MmetCalculate() will no longer lead to invalid result when opposing area are inside each other. This was happening for M_AREA_BETWEEN_CURVES when M_CURVE_INFO was set to M_AUTO_CURVE_OPENED. - Fixed bug: MmetCalculate() will no longer lead to invalid area when M_CURVE_INFO is set to M_AUTO_CURVE_CLOSED. This was happening when the two curves were not intersecting (and not in inclusion state) or in complex intersection scenarios. - Fixed bug: MmetCalculate() will no longer consider M_FIT_DISTANCE_MAX when the fit type is set to M_ROBUST_FIT. - Fixed bug: MmetInquire(..., M_TEMPLATE_REFERENCE_ID, ...) will no longer return M_TRUE/M_FALSE. It will return the internal identifier of the template reference image as it should. - Fixed bug: MmetAddFeature() will no longer fail adding a constructed point feature with M_MAX_OF_MIN_DISTANCE_POINT build operation and using two M_ARC base features. This was happening in rare cases. - Fixed bug: MmetAddTolerance() will no longer crash when trying to add a tolerance with ToleranceType set to M_POSITION_X and FeatureArrayLabel set to M_GLOBAL_FRAME. 4.09 Bead module - Fixed bug: MbeadDraw() with M_DRAW_INDEX / M_DRAW_LABEL will no longer create a gap between the index/label text and the connected line when drawing in world units or in a graphics list. This was more visible when zooming in a graphics list associated to a MIL display. - Fixed bug: MbeadGetResult() will no longer return invalid results for some result types when no bead is found. 4.10 Code Reader module - Fixed bug: McodeGrade() will no longer return an inaccurate grade for Aztec, QR and Micro QR code when the cell size is smaller than 4 pixels. - Fix bug: McodeRead() will no longer fail to decode Composite code or MicroPDF417 code type in some rare situations: the larger the cell size the more likely the problem. - Fixed bug: McodeRead() will now always have the results M_CELL_NUMBER_X and M_ELEMENT_NUMBER_X consistent with the bounding box results for all linear code types. - Fixed bug: McodeRead() will no longer decode the wrong string for 1D code when M_SEARCH_ANGLE_STEP is set to a value (was happening in rare cases). - Fixed bug: McodeRead() will no longer report M_ENC_UPCA result instead of M_ENC_EAN13 for encoding. This was happening for composite code type. - Fixed bug: McodeWrite() will no longer return a wrong size after writing an M_CODE93 code. - Fixed bug: McodeWrite() will no longer return a too large SizeY when writing a Maxicode. - Fixed bug: McodeInquire(..., M_SUPPORTED_CODE_TYPES/TYPES_1D/..., ...) will no longer return incorrect values with the combination flag +M_SUPPORTED. - Fixed bug: McodeRead() and McodeGrade() will no longer return a wrong string while decoding a DataMatrix code type (was happening in extremely rare cases). - Fixed bug: McodeRead() will no longer miss some small barcodes in large images when reading multiple barcode or when the speed is set to M_VERY_LOW. This was happening when reading linear codes in rare cases. - Fixed bug: McodeWrite() will no longer potentially crash when writing a composite code using encoding M_ENC_GS1_DATABAR_LIMITED (was happening in rare cases). - Fixed bug: McodeGetResult() will no longer return a different result value for M_SEARCH_ANGLE_DELTA_POS and M_SEARCH_ANGLE_DELTA_NEG than those given by M_TRAIN_ENABLED_CONTROL_TYPES_TRAINED_VALUE to corresponding results. The returned value is the same as the one used to update the context by using McodeControl() with control type M_RESET_FROM_TRAINED_RESULTS. - Fixed bug: Result values M_SEARCH_ANGLE_DELTA_POS/NEG of an McodeTrain() operation are now consistent with the corresponding one obtained using M_TRAIN_ENABLED_CONTROL_TYPES_TRAINED_VALUE and the one set using McodeControl(M_RESET_FROM_TRAINED_RESULTS). - Fixed bug : McodeGrade() will now generate a MIL error if M_GRADING_STANDARD is set to M_SEMI_T10_GRADING and control values for control types M_APERTURE_MODE, M_MINIMUM_CALIBRATED_REFLECTANCE or M_MAXIMUM_CALIBRATED_REFLECTANCE are set to a value different than their default values. - Fixed bug: All barcodes that were detected in an image will now be readable with a context updated using McodeModel(..., M_RESET_FROM_DETECTED_RESULT, ...). - Fixed bug: McodeRead() will no longer mix M_CELL_SIZE_MIN and M_CELL_SIZE_MAX results between occurrences when reading multiple barcodes. - Fixed bug: All result types related to extended area corners will now return (0, 0) when they are not available. Prior other values were returned when a region of interest (ROI) was used. - Fixed bug: McodeRead() will no longer allocate a big internal buffer while decoding a QR code type. This was happening in some rare cases and was consuming a high amount of memory and may have lead to a crash. - Fixed bug: McodeRead() is now less likely to read a false linear barcode in noise. This was happening in rare cases. 4.11 Measurement module - Fixed bug: MmeasFindMarker() will no longer fail to find markers when using a search region with angle (was happening in very rare cases). - Fixed bug: MmeasFindMarker() will no longer miss resetting M_BOX_EDGEVALUES and M_BOX_EDGEVALUES_NUMBER results when a search region is set outside the image. Before the fix, previous results were returned in this situation. 4.12 String Reader module - Fixed bug: MstrEditFont(..., M_CHAR_ADD, M_SYSTEM_FONT, ...) will no longer crash when using a font name longer than 32 characters. The crash was also happening using the Matrox String Reader interactive application in a rare situation. - Fixed bug: MstrEditFont(..., M_CHAR_ADD, M_SYSTEM_FONT, ...) will no longer pop an &quot;Invalid font name&quot; error message when defining a font containing the word 'Regular' in the name. The problem was happening in a rare situation. The problem was also happening using the Matrox String Reader interactive application in a rare situation. - Fixed bug: MstrEditFont(..., M_CHAR_ADD, M_SYSTEM_FONT, ...) will now support demi bold font properly. Before it was not applying the &quot;correct amount of bold&quot; in a rare situation. - Fixed bug: MstrEditFont() will no longer be influenced by the OS size of text scale setting when adding a system font to the context. - Fixed bug: MstrInquire() will now present an error message when M_STRING_SIZE is added to an InquireType that does not support it. M_STRING_SIZE was previously just ignored. 4.13 Primitives - Fixed bug: MimAugment() will no longer exhibit wrong black area for the M_AUG_CROP_OP operation. This was happening when combined with an affine operation. - Fixed bug: MimAugment() will no longer produce wrong result for the M_AUG_LIGHTING_DIRECTIONAL_OP operation. This was happening when the angle was 90 degrees. - Fixed bug: MimInquire(..., M_AUG_ROTATION_OP_ANGLE_MIN, ...) will no longer returns an incorrect value. - Fixed bug: MimHistogramEqualizeAdaptive() will no longer crash when using the same context for two successive call but with source image of different size. - Fixed bug: MbufCopyColor2d() will no longer produce incorrect results when the source and destination buffers partially overlap. - Fixed bug: MimResize(..., M_MAX/M_MIN) will no longer crash when using a source image with a very small SizeX. - Fixed bug: MimConvolve() with a mix of float and integer buffers will now have similar precision with AVX512 than with AVX2 only. Prior to this, the AVX512 was a little less accurate. - Fixed bug: MimResize() will no longer crash when a scale factor greater than 2,147,483,647 is used. - Fixed bug: MimProjection() will now support 32-bit destination image for an M_MEAN operation. - Fixed bug: MimWarp(..., M_WARP_POLYNOMIAL, ...) will no longer crash when an 'unusual' transformation matrix is used. This was not happening with a realistic transformation matrix. - Fixed bug: MimWarp(..., M_WARP_LUT, ...) will no longer crash when an implied buffer ends on a memory page boundary. This was happening in some rare cases. - Fixed bug: MbufBayer(..., M_ADAPTIVE_FAST, ...) will no longer crash in some rare cases. 4.14 Graphics - Fixed bug: MgraLines(..., M_POLYGON+M_FILLED) will no longer cause a memory overflow when using very large coordinates. - Fixed bug: MgraArc/MgraArcFill() will no longer cause a memory overflow when using a very large radius. - Fixed bug: When using interactivity, the closet graphic to the hit point will now be selected even if two graphics are very close to each other. Prior to this, the last one in the list was selected. 4.15 3D registration module - Fixed bug: M3dregCalculate() will now properly release the reserved cores used when a timeout limit is reached or the calculate is explicitly stopped. This problem was preventing subsequent calls to M3dregCalculate() to use multi-core processing optimization. 4.16 3D primitives - Fixed bug: M3dimProject() will no longer miss to render triangles when one vertex was outside the depth map and the projection mode is M_MESH_BASED. - Fixed bug: M3dimMesh() will no longer incorrectly eliminate triangles when object bounding box touches the X=0, Y=0 or Z=0 planes. - Fixed bug: M3dimFillGaps() will no longer swap values of M_FILL_THRESHOLD_X and M_FILL_THRESHOLD_Y when M_FILL_MODE is set to M_Y_THEN_X. - Fixed bug: M3dimControl() will now accept 0 as a valid value for M_FILL_SHARP_ELEVATION_DEPTH, M_FILL_THRESHOLD_X, M_FILL_THRESHOLD_Y when using a M_FILL_GAPS_CONTEXT context as the documentation said. - Fixed bug: M3dimCalculateMapSize() will now longer return size 0 (instead of 1) for an invalid point cloud. - Fixed bug: MbufConvert3d() will no longer result in a crash when M_REMOVE_NON_FINITE is used with in-place processing. - Fixed bug: M3dimMatrixTransform() will no longer fail for cylinder geometries when used with extreme dimensions. - Fixed bug: M3dimMesh() will no longer create duplicate triangular faces. This was happening when M_MESH_MODE was set to M_MESH_ORGANIZED and multi-core processing was used. - Fixed bug: M3dimMesh() results will no longer yield slightly different meshes depending on the number of cores. This was happening when M_MESH_MODE was set to M_MESH_ORGANIZED. - Fixed bug: M3dimMesh() will no longer miss some triangular faces. This was happening when M_MESH_MODE was set to M_MESH_ORGANIZED and M_MAX_DISTANCE was set too close to some triangle 'size'. - Fixed bug: M3dimMerge() will no longer not properly copy the colors for 3-band intensity or reflectance components. This was happening when one of the sources was in a YUV format. 4.17 3D geometry module - Fixed bug: M3dgeoBox() will no longer pop a MIL error when the creation mode is set to M_CENTER_AND_DIMENSION + M_ORIENTATION_UNCHANGED. The creation now works properly. - Fixed bug: M3dgeoPlane(), M3dgeoLine(), M3dgeoLine() and M3dgeoCylinder() will no longer support an undocumented default creation mode. - Fixed bug: M3dgeoInquire(..., M_SIMILARITY, ...) will no longer return M_FALSE when the matrix represents a similarity but with a 180 degrees rotation. - Fixed bug: 3D box geometry will no longer lose its rotation when saved and restored or when the 3D box is allocated on a system different than the other MIL_IDs involved in a processing function (example M3dimCrop()). - Fixed bug: M3dgeoMatrixSetTransform(..., M_COMPOSE_WITH_CURRENT) will no longer use the equation AB = C for the composition of M_INVERSE, M_FIXTURE_TO_GEOMETRY and M_COMPOSE_TWO_MATRICES transformations. It will now use BA = C like for other type of transformations. 4.18 General - Fixed bug: MappFileOperation(..., M_FILE_NAME_FIND + M_STRING_SIZE, ...) will no longer return an invalid size value in an ASCII environment. - Fixed bug: MappFileOperation(..., M_FILE_NAME_FIND, ...) will no longer crash in some situations when using MIL_STRING as an output parameter. - Fixed bug: User-defined functions will no longer omit to report errors when run in DMIL. Prior the fix, an error was only returned when the error came from the last MIL function called and omitted in other cases. 5. Known limitations 5.01 Classification module - MclassPredict(): Images with a type different than 8+M_UNSIGNED do not properly support regions (MbufSetRegion). - Applications using MclassTrain() cannot be called in different threads at the same time if they are in the same process. - The first call to MclassTrain() can take a long time to start. - MclassImport() does not support importing ONNX models predicting single class. 5.02 String Reader module - MstrGetResult(..., M_STRING + M_TYPE_TEXT_CHAR, ...) might not work when using different OS in a DMIL configuration. It leads to a MIL error message &quot;Invalid Data Type&quot;. 5.03 3D display - Depending on your local version of Windows and the remote version of Windows, the 3D Displays may not work properly. - When the 3D display's background is in M_BACKGROUND_GRADIENT mode, only part of the gradient is actually displayed due to a known bug. It can happen that the top will be a dark gray and the bottom will be a lighter gray (only a subset of the full gradient). This depends on the display's size. - On some older GPUs the rendered thickness of points/lines of graphics may not follow the M3dgraControl(..., M_THICKNESS, ...) parameter. This is true, for example, on the first generations of Intel HD graphics. 5.04 Model Finder module - MmodFind() may fail finding a valid occurrence in extremely rare cases when M_SEARCH_POSITION_RANGE is set to M_DISABLE and M_SEARCH_ANGLE_RANGE is set to M_ENABLE. A solution to that may be either enabling search position, or defining a smaller angle range. 5.05 3D blob module - MblobSegment() and M3dblobCalculate() will pop an error message if the source container is a M_3D_PROCESSABLE child container whose parent contains more than one confidence or range component (and hence is not M_3D_PROCESSABLE). This will only happen when using DMIL. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 13 : Differences between MIL X Version 2102 and Version 1911 1. Overview. 2. What's included. 3. Known limitations and issues. 4. Supported versions of Microsoft Visual Studio. 5. Operating system support. 6. Additional information. 1. Overview. MIL X Version 2102 is a re-release of the original MIL 10 with the following enhancements and additions: - A redesigned version of the Matrox Feature Browser. - GenICam 3.2 support for all relevant MIL systems. - Updates and engineering fixes since MIL X Version 1911 including MIL X Service Pack 4. - A change setup option is available to add a MIL system to an installation. You can also add other optional components, such as Distributed MIL. 2. What's included. MIL X Version 2102 includes all the updates in MIL X Version 1911 and the following updates and service pack. - MIL X Update 81 (Footage for 3D imaging examples). - MIL X Update 85 (GigE Vision). - MIL X Update 87 (Matrox Rapixo CXP). - MIL X Update 94 (MIL CoPilot). - MIL X Update 97 (Matrox 4Sight). - MIL X Update 104 (Industrial Communication). - MIL X Service Pack 4 (*** See Section 15 for details ***). MIL X Version 2102 includes engineering fixes for the following: - MilConfig - Fix 687. - Fix to MILConfig update download speed. - Matrox Matrox Radient eV-CXP (MIL X Update 73) - Fix 677. - Fix to correct detection of Matrox Radient eV-CXP on-board memory. - Matrox 4Sight EV6 (MIL X Updates 86 and 97) - Fix 692. - Fix to correct faulty MIL license backup on Matrox 4Sight EV6. 3. Known limitations and issues. With Windows 10, when uninstalling MIL from the Settings - Apps &amp; features, the name of the program shown in the uninstall program window will be a random string. The first time you run Matrox Feature Browser, a Windows Security Alert dialog might be displayed. You should allow Matrox Feature Browser to open. When using the Recording Mode in Matrox Intellicam (with the Matrox GigE Vision driver, the Matrox USB3 Vision driver, or a Matrox CXP board), you must modify a feature value in Matrox Feature Browser for the value to be recorded. 4. Supported versions of Microsoft Visual Studio. MIL supports the following versions of Microsoft Visual Studio: - Microsoft Visual Studio 2012. - Microsoft Visual Studio 2013. - Microsoft Visual Studio 2015. - Microsoft Visual Studio 2017. - Microsoft Visual Studio 2019. Most MIL examples are provided for the following versions: - Microsoft Visual Studio 2012. - Microsoft Visual Studio 2017. For Microsoft Visual Studio 2013 and 2015, use the 2012 version of the MIL example. For Microsoft Visual Studio 2019, use the 2017 version of the MIL example. 5. Operating system support. - Windows 7 32-bit with Service Pack 1. - Windows 7 64-bit with Service Pack 1. - Windows 10 Version 1607 and 1809 to 20H2 64-bit. - Windows 10 Version 1607 and 1809 to 20H2 64-bit. 6. Additional information. - Matrox Morphis QxT and Matrox SoliosGigE systems are not available for the installation. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 14 : What's new with MIL X Update 101 for Service Pack 4 Table of Contents for Section 14 1. Overview 2. New functionalities and improvements 2.1 3dMap module 3. Fixed bugs 3.1 Primitives 4. Quick reference 4.1 3dMap module: how to use the M3dmapAlignScan function ------------------------------------------------------------------------------- 1. Overview - MIL X Update 101 includes a function to calculate the transformations necessary to calibrate your laser profile sensor with respect to the motion vector using an alignment disk. - MIL X Update 101 also includes an improvement and a fix to Mim functions. - MIL X Update 101 is an update to MIL X Service Pack 4 only. - IMPORTANT: the new AltiZAlignLaserScans example requires MIL X Update 85 build 61 and a Matrox Altiz with the firmware version 0.6 or more recent to run properly. 2. New functionalities and improvements 2.1 3dMap module - New: M3dmapAlignScan() to calculate the transformations necessary to calibrate your laser profile sensor with respect to the motion vector using an alignment disk. - Improvement: MimConvolve() precision has been improved for processors with the AVX512 instruction set extension. The precision problem was visible when using a mix of float and integer buffers. 3. Fixed bugs 3.1 Primitives - Fixed bug: MimHistogramEqualizeAdaptive() will no longer produce a GPF or a wrong result when using the same context for a second call using a a source image of different size. 4. Quick reference 4.1 3dMap module: how to use the M3dmapAlignScan function - AltiZAlignLaserScans is an example demonstrating how to align the scans captured by a poorly aligned Matrox AltiZ. It also shows how to perform fixturing if required. This example requires a Matrox Altiz to run. Located in the example folder, the document 3DScannerAlignmentDisk.pdf contains the disk specs to align the scans of the different Matrox AltiZ models. When using M3dmapAlignScan() with the alignment disk, the following set up constraints must be met: .The alignment disk must cover at least 50% of the scanned width (X-direction). .The alignment disk edge must be fully visible in the scan. .The alignment disk must cover at least 30% of the scanned length (Y-direction). .The alignment disk's holes must be at least 30 scan lines (Y-direction) and 30 points (X-direction). The radii of the holes must be within 5 to 10% of the disk's radius, and the depth of the holes must be at least 20% of the total disk's height. .A floor (background plane) must be present in the scan. Ensure the alignment disk surface is parallel to the motion plane. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 15 : Differences between MIL X Service Pack 4 and MIL 10 Processing Pack 3 Table of Contents for Section 15 1. Overview 2. New functionalities and improvements 2.01 MIL processing specific examples 2.02 Classification module 2.03 Blob module 2.04 Calibration module 2.05 SureDotOCR速 module 2.06 Registration module 2.07 Pattern Matching module 2.08 Model Finder module 2.09 Metrology module 2.10 3dMap module 2.11 Code Reader module 2.12 Measurement module 2.13 String Reader module 2.14 Primitives 2.15 Graphics 2.16 3D metrology module 2.17 3D registration module 2.18 3D image processing 2.19 3D geometry module 2.20 3D graphic list 2.21 General 3. Deprecated functionalities 3.01 Classification module 3.02 Calibration module 3.03 3dMap module 3.04 Code Reader module 3.05 Primitives 3.06 General 4. Fixed bugs 4.01 Classification module 4.02 Blob module 4.03 Calibration module 4.04 SureDotOCR速 module 4.05 Edge Finder module 4.06 Registration module 4.07 Pattern Matching module 4.08 Model Finder module 4.09 Metrology module 4.10 Code Reader module 4.11 String Reader module 4.12 Primitives 4.13 Graphics 5. Known limitations 5.01 Classification module 5.02 String Reader module 5.03 3D display ------------------------------------------------------------------------------- 1. Overview - MIL X Service Pack 4 includes all the features of MIL 10 Processing Pack 3. In addition, MIL X Service Pack 4 includes new processing functionalities, performance optimizations, and general improvements, such as: . New: Training of image-oriented CNN classifier using predefined architectures. . New: Detection using image-oriented CNN classifier. . New: Feature-oriented Tree Ensemble classifier (training and predicting). . New: MclassPredict speed optimization for classification and detection. . New: MimAugment to perform data augmentation for classification among other uses. . New: 3D API overhaul; some M3dmap functionality has moved to new 3D modules (M3dim, M3dgeo, M3dmet and M3dreg). . New: Additional 3D functionalities, including point cloud cropping, merging, sampling and meshing, cylinder and 3D line fitting, registration of multiple point clouds, distance computation between point clouds, depth maps and fitted surfaces. . New: 3D transformation matrix manipulation. . New: 3D display of depth maps, point clouds, and analytic or fitted 3D shapes supporting LUT coloring, opacity and line thickness. . New: Container data object useful for, among others, 3D acquisition and processing. . New: MbufConvert3d to convert most GenICam PFNC/SFNC 3D pixel formats/coordinate system output modes to processable point clouds. . New: Code Reader support for Extended Rectangular Data Matrix (DMRE). . New: Code Reader support for grading according to ISO/IEC 15416:2016. . New: Code Reader support for grading according to Semi T10-0701. . New: Additional processing primitives such as function to perform differential operator, to compute bounding box, etc. . New: Several primitives accelerated using Intel AVX-512 instruction set. . New: Numerous new and updated examples. . Many more additions and improvements to discover! - MIL 10 is the minimum requirement for all upcoming Service Packs until the next major release. - MIL X Service Pack 4 does not support Windows 8.1. It requires Windows 7 or Windows 10 1607 (or a more recent Windows 10 build). - The training of a CNN classifier requires Windows 10 1607 64-bit (or a more recent Windows 10 64-bit build). - MIL X Service Pack 4 does not support the Matrox CronosPlus, Matrox Iris GT, Matrox Radient eV-CLHS, Matrox Vio, GPU and IEEE 1394 IIDC systems. - Windows' automatic 8.3 file name creation needs to be enabled in order for the MIL installer to access the temp folder when the user name contains a space. This option allows Windows to create short file/folder name aliases for ones with long names for programs, such as the MIL installer, that don't support spaces in the file/folder names. Alternatively, the MIL installer needs to run from a user account that belongs to the administrators group and has no spaces in it. Note that the same applies for uninstalling MIL. - Some anti-virus or security applications may interfere with your MIL installation. In order to perform the installation without any interruption, it is recommended that you temporarily disable your anti-virus or security application. - The required Visual C++ 2017 Redistributable also needs the presence of KB2919442 and KB2919355. These will need to be obtained and applied to install this Service Pack. - Building the MIL examples using Visual Studio 2015 or 2017 requires the presence of Windows SDK version 8.1, which is installed from the Visual Studio setup. - Shortcuts to the ModelFinder and EdgeFinder interactive utilities have been removed from MIL because the functionality they provide has been incorporated in the MIL CoPilot interactive environment included in the latest MIL release or available as an update to MIL. - Ply files are associated to Microsoft's 3D Viewer by default on Windows 10. To open a ply file with 3D Viewer, the point cloud must contain a mesh; otherwise, you will get the error: &quot;Couldn't load 3D model&quot;\u009D. - If you have installed and prototyped using MIL X Service Pack 4 Early Access, you may need to recompile your application using MIL X Service Pack 4. - MIL CoPilot from Update 94 Early Access may not be fully compatible with MIL X Service Pack 4 Official Release. It is strongly recommended to update MIL CoPilot with Update 94 Official Release as soon as it becomes available. - MIL X Service Pack 4 will be the last version with Python 2.7 support. - The container buffer support for the GenTL Consumer provided in MIL 10 Update 34 and MIL X Version 1911 is incompatible with the container buffer support in MIL X Service Pack 4. Calling MbufAllocDefault() for a M_SYSTEM_GENTL system with the M_CONTAINER attribute will generate an error. Moreover, the MultiComponentGrab example, which uses containers, will also generate an error. The issue will be resolved in a future update to the GenTL Consumer. 2. New functionalities and improvements 2.01 MIL processing specific examples - New MIL X Service Pack 4 examples! - Note that MIL X Update 81 is needed for the images used by several examples, in particular for the 3D processing ones. - Online repository for third-party 3D camera interface examples (to come). - More examples to come in the official release of MIL X Service Pack 4. 2.02 Classification module CNN CLASSIFIER - New: MclassTrain() allows you to perform CNN training from the ground up using the CPU or supported GPU. Specifically, you can perform a complete training, as well as transfer learning and fine tuning. - New: The training can be parametrized using MclassControl on an M_TRAIN_CNN context. - New: Five predefined CNN MIL classifier contexts are provided to be trained with MclassTrain(). They are located in the MIL installation path in the &quot;Contexts&quot; folder. They address different situations. These contexts can be allocated and loaded in one call, using MclassAlloc with M_FCNET_S, M_FCNET_M, M_FCNET_XL, M_FCNET_MONO_XL or M_FCNET_COLOR_XL. - New: MclassAlloc(..., M_DATASET_IMAGES, ...) allows you to allocate MIL dataset objects that are mandatory to train a CNN classifier using MclassTrain(). These MIL dataset objects are built to handle the pairings between the images and associated classes. - New: MclassControl(..., M_ENTRY_ADD, ...) allows you to add entries to a dataset. - New: MclassControlEntry() allows you to set information to an entry of the dataset. - New: MclassSplitDataset() allows you to split a source dataset context into two destination dataset contexts. This is useful to split your data into a train and development dataset, both of which are required by MclassTrain(). - New: MclassHookFunction() allows you to attach or detach a user-defined function to a CNN training event (M_MINI_BATCH_TRAINED and/or M_EPOCH_TRAINED). - New: MclassGetHookInfo() allows you to retrieve useful information inside a user-defined hook function. - New: MclassCopyResult(..., M_TRAINED_CLASSIFIER_CNN, ...) allows you to copy a trained context from a train result to a M_CLASSIFIER_CNN_PREDEFINED context. - New: MclassImport() allows you to import information from a csv file to a MIL dataset. Information can be entries, class definitions, etc. - New: MclassExport() allows you to export information from a MIL dataset to a csv file. Information can be entries, class definitions, etc. It also allows you to export training results to a csv file. - Improvement: MclassPredict() has been further optimized. Speed optimizations range from 2x faster to almost 10x faster. - New: MclassPredict() now natively supports Coarse Segmentation (i.e. classification using a target image that is larger than the CNN's source layer and producing a classification map). - New: MclassDraw() allows you to draw specific features of prediction results. It also allows you to draw class definition sample images. - New: M_CLASS_DRAW_COLOR and M_CLASS_NAME controls/inquires are now available for the class definition sub-objects in a classification context. - New: To validate that the current system meets the requirements to perform optimal CNN training, a CNN Train Engine Test is available in the MILConfig tool under the Classification folder. TREE ENSEMBLE CLASSIFIER New classifier. - New: MclassTrain() allows you to perform tree ensemble training from the ground up or from an already trained classifier (warm start). - New: The training can be parametrized using MclassControl on a M_TRAIN_TREE_ENSEMBLE context. - New: MclassPredict() allows you to predict the category of an input feature vector (array) using a trained tree ensemble classifier. - New: MclassAlloc(..., M_DATASET_FEATURES, ...) allows you to allocate MIL dataset objects that are mandatory to train a tree ensemble classifier using MclassTrain(). The MIL dataset object is built to handle the pairings between the features and associated classes. - New: MclassControl(..., M_ENTRY_ADD, ...) allows you to add entries to a dataset. - New: MclassControlEntry() allows you to set information to an entry of the dataset. - New: MclassSplitDataset() allows you to split a source dataset context into two destination dataset contexts. This is useful to split your data into a train dataset and development dataset. - New: MclassHookFunction() allows you to attach or detach a user-defined function to a tree ensemble training event (M_TREE_TRAINED). - New: MclassGetHookInfo() allows you to retrieve useful information inside a user-defined hook function. - New: MclassCopyResult(..., M_TRAINED_TREE_ENSEMBLE, ...) allows you to copy a trained context from a train result to a M_CLASSIFIER_TREE_ENSEMBLE context. - New: MclassImport() allows you to import information from a csv file to a MIL dataset. Information can be entries, class definitions, etc. - New: MclassExport() allows you to export information from a MIL dataset to a csv file. Information can be entries, class definitions, etc. It also allows you to export training results to a csv file. - New: M_CLASS_DRAW_COLOR and M_CLASS_NAME controls/inquires are now available for the class definition sub-objects in a classification context. 2.03 Blob module - Improvement: MblobDraw drawing of M_FERET_MIN_DIAMETER and M_FERET_MAX_DIAMETER using contact points. 2.04 Calibration module - New: McalFixture now accepts M3dgeo transformation matrix as a destination object to which the calibration fixture matrix is written. - New: McalGetCoordinateSystem and McalSetCoordinateSystem now supports a M3dgeo matrix. - New: McalTransformCoordinate3dList() now supports 32-bit unsigned buffers as depth maps. This is also true for 3dim and 3dmet functions which take depth maps as input. 2.05 SureDotOCR速 module - New: M_STRING_PITCH, M_STRING_PITCH_MODE, M_ITALIC_PITCH, M_ITALIC_PITCH_MODE can now be used to control the distance between dot centers in the string or italic angle direction using MdmrControl(). - New: MdmrGetResult() has new results M_STRING_PITCH, M_STRING_CHAR_ANGLE, M_ITALIC_PITCH and M_ITALIC_CHAR_ANGLE to retrieve the string and italic pitches and angles used to read the characters. - Improvement: MdmrRead() has been improved when M_STRING_ANGLE_MODE is set to M_ANGLE or M_ORIENTATION. It will now less likely mismatch characters, which occurred in rare cases. - Improvement: MdmrRead() has been improved and will now less likely fail because of incorrect orientation or pitch estimation, which occurred in rare cases. - Improvement: MdmrRead() now makes better use of multiprocessing capabilities. 2.06 Registration module - New: MregCalculate() now supports HDR (High Dynamic Range) functionality. - New: MregControl() now supports M_DRAW_REMAP_FACTOR_MODE and M_DRAW_REMAP_FACTOR_VALUE to control the drawing remap of M_GAUSSIAN_CURVATURE_IMAGE, M_MEAN_CURVATURE and M_LOCAL_SHAPE. - New: MregGetResult() now supports M_RANGE_FACTOR_GAUSSIAN_CURVATURE, M_RANGE_FACTOR_MEAN_CURVATURE and M_RANGE_FACTOR_LOCAL_SHAPE values. - Improvement: MregCalculate() with M_PHOTOMETRIC_STEREO now has a better responsive M_TIMEOUT. - Improvement : Improved numerical results for Local Shape image result (M_DRAW_LOCAL_SHAPE_IMAGE) when light vectors' azimuth were not aligned with the image axis. 2.07 Pattern Matching module - New: MpatFind() now supports models of different size when M_SEARCH_MODE is set to M_FIND_ALL_MODELS (or M_DEFAULT). - New: MpatDefine() can now use a source image associated with a graphic list to define a model from a rotated bounding box. 2.08 Model Finder module - New: MmodDefine() can now use a source image associated with a graphic list to define a model from a rotated bounding box. - New: MmodGetResult() can now return corner positions of a rectangle result occurrence with M_SHAPE_RECTANGLE result, using the result types: M_TOP_LEFT_X, M_TOP_LEFT_Y, M_TOP_RIGHT_X, M_TOP_RIGHT_Y, M_BOTTOM_LEFT_X, M_BOTTOM_LEFT_Y, M_BOTTOM_RIGHT_X, and M_BOTTOM_RIGHT_Y. - New: MmodFind() now supports search regions at an angle for M_SHAPE_CIRCLE, M_SHAPE_ELLIPSE, M_SHAPE_RECTANGLE and M_SHAPE_SEGMENT. Regions at an angle can be set using MmodControl(..M_ANGLE_REGION..), using MmodControl(..M_SEARCH_POSITION_FROM_GRAPHIC_LIST..), or using a target image containing a rectangular region of interest set with MbufSetRegion(). 2.09 Metrology module - New: MmetPut() now supports MIL_FLOAT arrays for positions and angles. - Improvement: MmetSetRegion(), MmetAddTolerance() and MmetControl() have been accelerated when numerous features are present in the metrology context. - New: MmetDraw() now supports M_DRAW_TOLERANCE_AREA as an operation to draw the area used to compute M_AREA_BETWEEN_CURVES, M_AREA_CONVEX_HULL, M_AREA_SIMPLE, M_AREA_UNDER_CURVE_MAX and M_AREA_UNDER_CURVE_MIN. - Improvement: MmetDraw() with Operation set to M_DRAW_TOLERANCE has been improved for area and perimeter tolerances. 2.10 3dMap module - New: M3dmapCopyResult() to copy a group of results from a 3D reconstruction result buffer into a container or an image buffer. - New: M3dmapDraw3d() to draw 3D annotations based on a laser line profiling 3D reconstruction context. 2.11 Code Reader module - Improvement: McodeRead(), McodeGrade() and McodeTrain() have been accelerated for Qr code type. - Improvement: Robustness of M_IMPROVED_RECOGNITION initialization mode has been improved. The M_ENCODING is now set to M_ANY for all code types that support M_ANY as a valid value. M_POSITION_ACCURACY is set to M_HIGH. - New: M_DOT_SPACING_INPUT_UNITS, M_DOT_SPACING_MIN and M_DOT_SPACING_MAX are now available for M_MICROQRCODE and M_MAXICODE code types. - Improvement: McodeTrain() has been improved to train 2D code types with small cell size. - Improvement: McodeRead() now supports erasures when using M_MICROPDF417 code type. This results in a more robust read operation in some situations. - Improvement: The localization used for linear bar codes in M_VERY_LOW speed and in multi occurrence use cases has been improved. It is more robust (reads more codes) and faster in most images. - New: Extended Rectangular Data Matrix (DMRE) is now supported by McodeRead(), McodeWrite(), McodeTrain() and McodeGrade(). It has been integrated to the M_DATAMATRIX code type. - Improvement: McodeRead()'s ability to decode 1D bar codes in blurry and noisy images has been improved. - Improvement: McodeRead()'s ability to decode EAN/UPC bar codes in low quality images (noise, bad modulation, eroded/blurred bars) has been improved. - Improvement: McodeRead()'s ability to decode 1D bar codes with small cell size (&lt;= 2 pixels) and at angles that are multiple of 90 degrees has been improved. The grading results are also now more accurate in this situation. - Improvement: McodeRead()'s speed has been improved when reading a linear code with M_SPEED set to M_VERY_LOW and when another linear code is horizontally aligned with the one to read. - New: It is now possible to retrieve the score of each decoded scan for the linear bar code and composite code after an McodeRead() or McodeGrade() operation. It is also possible to draw those decoded scans using McodeDraw(). - New: M_ELEMENT_NUMBER_X and M_ELEMENT_NUMBER_Y results are now available after an McodeWrite(), McodeRead() and McodeGrade() operation. M_ELEMENT_NUMBER_X is useful to retrieve the number of elements (bars + spaces) for linear bar codes. - Improvement: McodeRead() robustness has been improved for EAN/UPC codes. Avoidable fail or wrongly decoded string due to mixing the pairs 1,7 or 2,8 are now very rarely. - Improvement: McodeTrain() will now return more accurate recommended M_DOT_SPACING_MIN and M_DOT_SPACING_MAX values. - New: McodeStream() with operation set to M_SAVE_REPORT can now be used to save a report containing most results from a McodeTrain() operation. - Improvement: Robustness of M_IMPROVED_RECOGNITION initialization mode has been improved for all linear bar codes except M_PHARMACODE. By default, M_THRESHOLD_MODE is now set to M_GLOBAL_SEGMENTATION. To use the old behavior, the user must call McodeControl(ContextCodeId, THRESHOLD_MODE, M_ADAPTIVE). - New: It is now possible to control the cell size of a code for an McodeWrite() operation using M_CELL_SIZE_MODE (M_AUTO or M_USER_DEFINED). When the mode is set to M_USER_DEFINED, the cell size can be controlled using M_CELL_SIZE_VALUE. Note that the legacy way to specify the cell size for an McodeWrite using M_CELL_SIZE_MIN is not functional anymore. - New: More results are now available after an McodeTrain() operation (M_TRAIN_ENABLED_CONTROL_TYPES, M_TRAIN_ENABLED_CONTROL_TYPES_STATE, M_TRAIN_ENABLED_CONTROL_TYPES_ORIGINAL_VALUE, M_TRAIN_ENABLED_CONTROL_TYPES_TRAINED_VALUE, and M_TRAIN_ENABLED_NUMBER_OF_MODEL_CONTROL_TYPES). These are useful to retrieve information about the controls that were enabled to be trained (control type, training state, original value and trained value). - New: McodeTrain() now permits to retrieve the list of controls that will be changed by a call to McodeControl(..., M_RESET_FROM_TRAINED_RESULTS,...). The list can be retrieved using McodeGetResult(M_TRAINED_CONTROL_TYPES). It is possible to retrieve the list for the context or a code model depending on the ResultIndex used. - Improvement: In a DMIL configuration with a code context Id and grade result Id allocated on two different systems, the error message sent to the user will now explicitly mention that this type of configuration is not allowed. - New: McodeModel() with operation value M_ADD + M_SUPPORTED can now be used to know if a code type could be added to an existing context. - New: McodeDraw() now supports operations M_DRAW_BOX, M_DRAW_POSITION and M_DRAW_QUIET_ZONE after an McodeWrite() operation. - New: McodeWrite() can now encode a sample string when the parameter StringPtr is set to M_NULL. - New: McodeWrite() can now generate dot printed codes for Datamatrix, QR Code, Micro QR Code and Aztec code types using the new control parameter M_DOT_SHAPE and setting it to M_CIRCLE. It is also now possible to control the size of the dot itself independently of the cell size (the distance between the center of two cells) using the new control parameter M_DOT_SIZE. - New: McodeGrade() can grade according to ISO/IEC 15416:2016. This edition is used by default. To grade according to a specific standard or edition, use the new model control type M_GRADING_STANDARD_EDITION. Possible values of M_GRADING_STANDARD_EDITION are: .M_DEFAULT (same as most recent supported grade edition). .M_ISO_15416_2000 (for 1D model type). .M_ISO_15416_2016 (for 1D model type). .M_ISO_15415_2011_15416_2000 (for 2D matrix, cross row and composite code model type). .M_ISO_15415_2011_15416_2016 (for 2D matrix, cross row and composite code model type). .M_ISO_29158_2011 (for 2D matrix). - New: McodeGrade() can grade Datamatrix according to Semi T10-0701 standards. - Improvement: McodeRead() will now be faster when reading a GS1 Databar or composite code of sub-type M_GS1_DATABAR_STACKED or M_GS1_DATABAR_STACKED_OMNI and when speed is set to M_HIGH. - Improvement: McodeDraw(M_DRAW_BOX) angle precision has been improved for the 2D part of a composite code. - Improvement: McodeRead() is now less likely to miss some occurrences when reading in images containing multiple 1D codes (was happening in rare cases). - Improvement: McodeRead() is now less likely to perform a short read on 1D bar codes when speed is set to very low (was happening in rare cases). - New: McodeDraw() now supports the operations M_DRAW_CODE and M_DRAW_POSITION after an McodeGrade(). - Improvement: The trained control type settings produced by McodeTrain() will result in a better optimized context in some situations. - New: McodeModel(...M_RESET_FROM_DETECTED_RESULTS...) can now be used to reset models in a context using results from McodeDetect(). - Improvement: The accuracy of the M_ANGLE result has been improved when reading 1D bar codes in some situations. - New: The M_CODE_TYPE result can now be retrieved for each code model trained after a call to McodeTrain(). - Improvement: Result types M_R_MIN and M_R_MAX are now available for all code types that support an McodeGrade() operation. Before they were only available for 2D matrix code types. - Improvement: McodeGrade() has been accelerated for 2D Cross-row code types and composite codes. - Improvement: McodeRead() will no longer be slower when decoding a scanline on the edge of a 1D code (was happening in rare cases). 2.12 Measurement module - Improvement: MmeasFindMarker() numerical stability has improved when setting M_SEARCH_REGION_CLIPPING to M_ENABLE. The results of an MmeasFindMarker() operation will be less subject to change when updating the MIL version or running under different OS (as was happening in rare cases). 2.13 String Reader module - Improvement: A MstrPreprocess() preprocessed context will now use up to 30% less MIL Ids and will require less memory. 2.14 Primitives - New: MimAugment() performs an augmentation operation which allows you to create a plausible variation of an image. This can be used for data augmentation when training a classifier context (Mclass). - New: MgenLutFunction() now supports M_COLORMAP_TURBO, which is an improved version of M_COLORMAP_JET, with smoother color transitions. - New: MgenLutFunction() now supports M_COLORMAP_DISTINCT_256, which is designed to maximize the visual difference between consecutive colors. - New: MgenLutFunction() now supports the new mathematical function M_SIGMOID to fill the LUT. - Improvement: MimDistance(), MimMatch(), MimEdgeDetect(), MimWarp(M_WARP_LUT), MimLutMap(), MimConvolve() and MimBinarize() (integer to binary) are speed-optimized using Intel AVX-512 instruction set. - New: MimBoundingBox(), function to compute a bounding box for pixel values meeting a specified condition in an image. - New: MgenLutFunction() now supports M_TONE_MAPPING which allows you to create a pseudo-gamma tone mapping function using an M_POWER function. - New: MgenLutFonction() now supports M_FIRST_GRAY and M_LAST_GRAY options for colormap. - New: MimFilterAdaptive() with M_NOISE_PEAK_REMOVAL filter mode. This is a simple and fast filter that removes salt and pepper noise. - New: MbufChildColor(), MbufCopyColor(), MbufGetColor() and MbufPutColor() functions support the bands M_HUE, M_SATURATION and M_V for HSV image. - New: MimDifferential(), function to perform differential operator. The available operators are: M_GRADIENT, M_GRADIENT_SQR, M_LAPLACIAN and M_SHARPEN. - New: MimConvolve(), with linear filter context, now supports a Vliet IIR filter. - New: MbufClone() now supports any valid MIL system identifier for the SysId parameter. This will allocate the clone on that system. - New: MbufClone() now supports any valid attribute for the Attribute parameter. This will replace the attributes from the source buffer. - New: MgenRamp(), function to generate a ramp image using scales in x and y and an offset. - Improvement: MbufClear() speed has been improved when a region of interest is associated to the buffer to be cleared. - New: MbufSetRegion() supports new operations: M_LINK_TO_PARENT, M_COPY and M_EXTRACT. - New: MbufControl() supports M_REGION_USE that can be set to M_USE or M_IGNORE. - New: M_REGION_ACTIVE can now be inquired using MbufInquire() to know if a region is considered active by the MIL functions (active if M_REGION_TYPE is different than M_NONE and M_REGION_USE is M_USE). - Improvement: MbufAlloc1d() will no longer allocate padding pixels because this was resulting in unnecessary memory usage. - New: MbufInquire() now supports M_HOST_ADDRESS_BAND+n as an InquireType. This will avoid having to create band child buffers just to inquire the host addresses. - New: MbufInquire() now supports the InquireTypes M_EXTENDED_ATTRIBUTE_NAME and M_EXTENDED_FORMAT_NAME. 2.15 Graphics - Improvement: Dashed lines in the selection box for interactive graphics are now more responsive. - Improvement: Flickering when hovering over editable graphics has been reduced by eliminating some unnecessary display updates. 2.16 3D metrology module - New: M3dmetFit() fits a plane or sphere geometry on a point cloud, and replaces the deprecated M3dmapSetGeometry. It is now possible to use a robust fit mode, to fit cylinder and line geometry objects. The fit can be parametrized using a M_3DMET_FIT_CONTEXT. - New: M3dmetDistance() calculates the distance between a point cloud and a reference object, and replaces M3dmapDistance(). In addition, it calculates the distance to sphere surface, cylinder surface or axis, line, box, Z distance to a depth map, distance to mesh or points of another point cloud. - New: M3dmetStat() computes statistics on depth maps, and replaces the deprecated M3dmapStat(). In addition to depth maps, it now accepts point clouds as a source. The reference object can also be a box, a cylinder, or a point cloud. - New: M3dmetVolume() computes the volume of a depth map, with respect to an optional reference plane, and replaces the deprecated M3dmapStat() with M_VOLUME. In addition, computing the volume of a mesh and using depth maps as reference are now supported. 2.17 3D registration module - New: M3dreg module replaces M3dmapAlign(), with registration elements support similar to 2D registration module. - New: M3dregCalculate() performs the registration operation on the given point clouds and writes the resulting transformation matrices into the pairwise 3D registration result buffer. Previously, the deprecated M3dmapAlign() would align two point clouds only. It also offers more subsampling options. - New: M3dregMerge() merges point clouds using the relations found in a previous call to M3dregCalculate(). 2.18 3D image processing - New: M3dimTranslate() translates the 3D points in a container or 3D geometry object. - New: M3dimRotate() applies a rotation to the 3D points in a container or 3D geometry object. - New: M3dimScale() scales the 3D points in a container or 3D geometry object. - New: M3dimMatrixTransform() applies the given transformation matrix to the 3D points in a container or 3D geometry object. - New: M3dimMatrixTransformList() transforms a list of coordinates (3D points) using the specified transformation matrix. - New: M3dimCrop() crops points in a point cloud based on a given 3D geometry or calibrated mask image buffer. - New: M3dimSample() subsamples a point cloud to generate a less dense point cloud, or samples a meshed point cloud to generate a denser point cloud. - New: M3dimRemovePoints() removes points from a container based on a given condition. - New: M3dimProfile() creates a 3D profile from a depth map or point cloud. - New: M3dimMerge() merges multiple point clouds into a single point cloud. - New: M3dimNormals() computes a point cloud's unit normal vectors. - New: M3dimMesh() creates a 3D mesh structure for a point cloud. - New: M3dimCalculateMapSize() estimates a recommended depth map image buffer size from a source container's point cloud. - New: M3dimCalibrateDepthMap() calibrates a depth map image buffer based on the bounding box of a container's point cloud or an axis-aligned 3D box geometry object. - New: M3dimProject() projects the 3D points in a container or a 3D geometry object into a fully corrected depth map, and replaces the deprecated M3dmapExtract(). In addition, an M_MESH_BASED projection mode is supported. It can also project 3D geometry objects. A new M_AVERAGE_MODE overlap mode is supported. - New: M3dimFillGaps() fills gaps in a depth map and, optionally, an intensity map, according to gap filling context controls, and replaces the deprecated M3dmapExtract. In addition, a new fill border replicate mode is supported. - New: M3dimArith() performs point-to-point arithmetic operations on depth maps and 3D geometries, and replaces M3dmapArith(). In addition, there is a new M_REPLACE_MISSING_DATA operation, and support for line and cylinder geometries. - New: M3dimStat() computes a variety of statistics on depth maps, and replaces the deprecated M3dmapStat(). In addition, point clouds are supported and new statistics like centroid and distance to nearest neighbor are now supported. - New: M3dimCopy() copies a depth map calibration into a 3D geometry of type M_BOX. 2.19 3D geometry module To allocate, define and display 3D geometry objects or to allocate and define transformation matrix objects. - New: Line and cylinder geometry support. - New: M3dgeoMatrix functions to create and compose 4x4 transformation matrices. 2.20 3D graphics list To allocate and populate a 3D graphics list with graphics and point clouds. Useful to display 3D objects and point cloud or depth map on a 3D display. 2.21 General - Improvement: MdigAlloc() is now faster for large sets of images when InitFlag is set to M_EMULATED. - New: MdigAlloc() now supports &quot;M_2D_SIMULATOR&quot; and &quot;M_3D_SIMULATOR&quot; with a simulated digitizer. Note: You must use the appropriate default digitizer for your application. For example, if you specify M_3D_SIMULATOR, and you run an example that uses MdigGrab() to acquire 2D images, you might obtain 1-pixel high images with reinterpreted 3D data content. The default digitizer is set during MIL installation and can be changed and using the MILConfig utility. - New: MappFileOperation() now supports M_FILE_MOVE, M_FILE_NAME_FIND_COUNT, and M_FILE_NAME_FIND operations. - New: MappFileOperation() now supports the OperationFlag M_RECURSIVE for M_FILE_DELETE_DIR to delete the requested directory and all its subdirectories. - New: MbufExport() now supports M_USE_EXTENSION as a file format. - New: MobjInquire() now supports M_OBJECT_FILE_PATH, M_OBJECT_FILE_NAME, M_OBJECT_FILE_NAME_NO_EXTENSION, M_OBJECT_FILE_EXTENSION and M_OBJECT_FILE_FOLDER as InquireTypes. - Improvement: MIL no longer reuses freed MIL_ID values before all possible values have been used. This will help debugging some types of problems. - New: MappInquire() can now be used to retrieve common MIL paths using the InquireType M_MIL_DIRECTORY_INSTALL, M_MIL_DIRECTORY_EXAMPLES, M_MIL_DIRECTORY_IMAGES and M_MIL_DIRECTORY_CONTEXTS. - New: MIL_UNIQUE_..._ID can be used in C++ to manage the lifetime of a MIL_ID. Use M_UNIQUE_ID in Alloc functions to get a MIL_UNIQUE_..._ID, which will call the appropriate Free function automatically. - New: M_TO_STRING() converts its argument to a MIL_STRING. - New: MfuncAllocScript(M_INTERPRETER_C_PYTHON37) allocates a script-based user-defined function for Python 3.7. 3. Deprecated functionalities 3.01 Classification module - MclassControl() with M_PREDICT_MODE is deprecated, as are its two values M_SINGLE_CLASSIFICATION and M_CLASSIFICATION_MAP. The predict mode M_SINGLE_CLASSIFICATION is still functional and will be the only available mode. The predict mode M_CLASSIFICATION_MAP is replaced by the natively supported coarse segmentation - MclassControl() with M_CLASSIFICATION_MAP_INPUT_SIZE_X, M_CLASSIFICATION_MAP_INPUT_SIZE_Y, M_STRIDE_X and M_STRIDE_Y are deprecated. - M_PRETRAINED_CONVOLUTIONAL_NETWORK has been renamed to M_CLASSIFIER_CNN_PREDEFINED. - M_SAMPLE_IMAGE_ID has been renamed to M_CLASS_ICON_ID. 3.02 Calibration module - Deprecation: M_POINT_CLOUD_CONTAINER_3DMAP is deprecated and replaced by M_RESULT_POINT_CLOUD_3DMAP. 3.03 3dMap module - Deprecation: M_POINT_CLOUD_CONTAINER is deprecated and replaced by M_POINT_CLOUD_RESULT. - Deprecation: M_3DMAP_POINT_CLOUD_CONTAINER is deprecated and replaced by M_3DMAP_POINT_CLOUD_RESULT. - Deprecation: M_POINT_CLOUD_CONTAINER_3DMAP is deprecated and replaced by M_RESULT_POINT_CLOUD_3DMAP. - Deprecation: M3dmapAlign() is deprecated and alignment can now be done using the M3dregCalculate() and M3dregMerge(). - Deprecation: M3dmapImport()/M3dmapExport() are deprecated. MbufImport()/MbufExport() can now be used to import/export ply and stl files. - Deprecation: M3dmapExtract() is deprecated and replaced by M3dimProject() and two helper functions M3dimCalibrateDepthMap() and M3dimCalculateMapSize(). Gap filling can be performed using M3dimFillGaps(). Partially corrected depth maps and uncorrected depth maps can be retrieved using M3dmapCopyResult(). - Deprecation: M3dmapArith() is deprecated and replaced with M3dimArith(). In addition to M3dmapArith(), M3dimArith() supports 32-bit unsigned depth maps. - Deprecation: M3dmapPut()/M3dmapGet() are deprecated. Accessing the data from a container can be carried out by MbufPut()/MbufGet(). - Deprecation: M3dmapPtCldCalculate() is deprecated and replaced by M3dmetDistance(). - Deprecation: M3dmapCopyCond() is deprecated and replaced by M3dimCrop(). - Deprecation: M3dmapSetBox() is deprecated. To define a bounding box, call M3dimStat(M_BOUNDING_BOX) and then copy the box using M3dimCopyResult() into a an object allocated with M3dgeoAlloc(M_GEOMETRY). To define a regular box, use M3dgeoAlloc(M_GEOMETRY), then call M3dgeoBox(). - Deprecation: M3dmapSetGeometry() is deprecated. To define a geometry, use M3dgeoAlloc(M_GEOMETRY), followed by M3dgeoBox(), M3dgeoPlane(), M3dgeoCylinder(), M3dgeoSphere() or M3dgeoLine(). For fitting data to the geometry, use M3dmetFit(). - Deprecation: M3dmapStat() is deprecated and replaced by M3dimStat() which works on both depth maps and containers. To compute statistics relative to another object, use M3dmetStat(). - Deprecation: M_3DMAP_GEOMETRY object is deprecated. - Deprecation: M_3DMAP_STAT_RESULT is deprecated. 3.04 Code Reader module If required, declare the #define M_MIL_WARN_ON_DEPRECATED_MCODE directive set to 0 to discard the compilation warnings associated to the use of the deprecated Mcode... APIs. - Deprecation: M_WRITE_SIZE_X/Y and M_WRITE_CELL_NUMBER_X/Y used to inquire about McodeWrite() requirements given a code model and string are now deprecated and replaced by new ResultType. Instead of using: McodeWrite(ModelId, M_NULL, StringToWrite, M_DEFAULT) McodeInquire(ModelId, M_WRITE_SIZE_X, &amp;SizeX) use: McodeAllocResult(SystemId, M_CODE_WRITE_RESULT, &amp;WriteResultId) McodeWrite(ModelId, M_NULL, StringToWrite, M_DEFAULT, WriteResultId) McodeGetResult(WriteResultId, M_WRITE_SIZE_X, &amp;SizeX). - Deprecation: In McodeAllocResult(), the ControlFlag M_CODE_RESULT is deprecated and replaced by: M_CODE_GRADE_RESULT, M_CODE_READ_RESULT, M_CODE_WRITE_RESULT; M_DEFAULT same as M_CODE_GRADE_RESULT. - Deprecation: In McodeControl() and McodeInquire(), if the code type is M_DATAMATRIX, the control value M_ECC_n (n different than 200) and M_ECC_NONE are deprecated. - Deprecation: In McodeGetResult(): M_NUMBER_PASS replaced by M_PASSED_NUMBER_OF_IMAGES. M_NUMBER_FAIL replaced by M_FAILED_NUMBER_OF_IMAGES. M_IMAGE_ID_PASSED replaced by M_PASSED_IMAGES_ID. M_IMAGE_ID_FAILED replaced by M_FAILED_IMAGES_ID. M_IMAGE_INDEX_PASSED replaced by M_PASSED_IMAGES_INDEX. M_IMAGE_INDEX_FAILED replaced by M_FAILED_IMAGE_INDEX. - Deprecation: In McodeControl(), the control type M_AIMDPM_CALIBRATION_RESULTS is deprecated and replaced by M_DPM_CALIBRATION_RESULTS. - Deprecation: In McodeControl() and McodeInquire(), the control value M_AIMDPM_GRADING is deprecated and replaced by M_ISO_DPM_GRADING. - Deprecation: McodeGetResultSingle() has been deprecated and replaced by the newly changed McodeGetResult(ResultCodeId, ResultIndex, RowOrScanIndex, ResultType, UserVarArrayPtr) - Note that the prototype of McodeWrite() has been changed to accommodate a new Result parameter. While function overloads exist to preserve the compatibility with former versions, we strongly recommend upgrading to the new Code Reader API. - Note that the prototype of McodeDraw() has been changed to accommodate a new ScanIndex parameter. While function overloads exist to preserve the compatibility with former versions, we strongly recommend upgrading to the new Code Reader API. - Note that the prototype of McodeGetResult() has been changed to accommodate a new RowScanIndex parameter. While function overloads exist to preserve the compatibility with former versions, we strongly recommend upgrading to the new Code Reader API. - Note to C programmers: function prototypes for McodeGetResult(), McodeDraw() and McodeWrite() have changed. By default, these functions map to the old prototype to preserve backward compatibility. C users must add &quot;#define M_USE_OLD_MCODE_API_IN_C 0&quot; before including &quot;mil.h&quot; to use the new prototypes. 3.05 Primitives - MimFilterAdaptive() with the M_NOPEL adaptive filter operation is deprecated and replaced with M_NOISE_PEAK_REMOVAL, which is faster and gives better results. - MimConvolve() with M_SHEN_FILTER and M_DERCIHE_FILTER are deprecated. They are replaced by the new M_LINEAR_FILTER_IIR_CONTEXT. Instead of using: MimConvolve(MilImage, MilDestImage, M_DERICHE_FILTER(M_SMOOTH, 50)); use: MIL_ID MilLinearFilterIIRContext = MimAlloc(MilSystem, M_LINEAR_FILTER_IIR_CONTEXT, M_DEFAULT, M_NULL); MimControl(MilLinearFilterIIRContext, M_FILTER_SMOOTHNESS, 50); MimConvolve(MilImage, MilDestImage, MilLinearFilterIIRContext); MimFree(MilLinearFilterIIRContext); Instead of using: MimConvolve(ImageId, ImageId, M_SHEN_FILTER(M_SHARPEN, 50)); use: MIL_ID MilLinearFilterIIRContext = MimAlloc(MilSystemId, M_LINEAR_FILTER_IIR_CONTEXT, M_DEFAULT, M_NULL); MimControl(MilLinearFilterIIRContext, M_FILTER_TYPE, M_SHEN); MimControl(MilLinearFilterIIRContext, M_FILTER_RESPONSE_TYPE, M_STEP); MimDifferential(MilLinearFilterIIRContext, ImageId, M_NULL, M_NULL, M_NULL, ImageId, M_NULL, M_DEFAULT, M_SHARPEN, M_DEFAULT); MimFree(MilLinearFilterIIRContext); Instead of using: MimConvolve(MilTemplateLumImage, MilGradientLumMaskImage, M_SHEN_FILTER(M_EDGE_DETECT, GradientSmoothness)); use: MIL_ID MilLinearFilterIIRContext = MimAlloc(MilSystem, M_LINEAR_FILTER_IIR_CONTEXT, M_DEFAULT, M_NULL); MimControl(MilLinearFilterIIRContext, M_FILTER_TYPE, M_SHEN); MimControl(MilLinearFilterIIRContext, M_FILTER_SMOOTHNESS, GradientSmoothness); MimDifferential(MilLinearFilterIIRContext, MilTemplateLumImage, M_NULL, M_NULL, M_NULL, MilGradientLumMaskImage, M_NULL, M_DEFAULT, M_GRADIENT, M_DEFAULT); MimFree(MilLinearFilterIIRContext); 3.06 General - All Inquires to inquire a string size which end by _SIZE are deprecated. Now + M_STRING_SIZE must be used instead. Example: M_CAMERA_MODEL_SIZE ==&gt; M_CAMERA_MODEL + M_STRING_SIZE - MdispD3D utility DLL is deprecated. MIL users must use the new M3ddisp API. - The MfuncAllocScript() settings M_INTERPRETER_C_PYTHON34 and M_INTERPRETER_C_PYTHON35 are deprecated. It is recommended to use M_INTERPRETER_C_PYTHON37. 4. Fixed bugs 4.01 Classification module - Fixed bug: MclassControl() with M_TIMEOUT will no longer invalidate the preprocessing of a context. - Fixed bug: MclassControl() with M_STOP_PREDICT will no longer prevent further predicts once applied to a result. - Fixed bug: MclassPredict() no longer returns erroneous scores (was happening in rare cases) 4.02 Blob module - Fixed bug: MblobCalculate() will no longer crash for specific blob shapes, and when M_MAX_BLOBS is set and M_RETURN_PARTIAL_RESULTS is enabled. - Fixed bug: MblobGetResult(...+M_AVAILABLE...) can now be used for all result types even if MblobCalculate() has not been called yet. - Fixed bug: MblobControl() with M_FERET_AT_PRINCIPAL_AXIS_ANGLE set to M_ENABLE will no longer calculate all the M_FERETS features. - Fixed bug: MblobGetResult() will no longer return incorrect values for world box features when M_WORLD_BOX was not enabled and M_BOX was enabled. It will report an error instead. - Fixed bug: MblobGetResult() for calibrated results will no longer take a very long time (was happening in rare cases). - Fixed bug: MblobGetResult() will no longer return an incorrect result for M_MAX_BLOBS_END. This was happening when multi-processing was used and the blob count reached M_MAX_BLOBS (only for the bottom part of the image). 4.03 Calibration module - Fixed bug: McalTransformCoordinate() family of functions will no longer result in a crash when transforming a point on top of the camera pinhole. This was happening only when using 3D calibration modes. - Fixed bug: McalTransformCoordinate() functions in M_LINEAR_INTERPOLATION calibration mode could sometimes be inaccurate or have discontinuities when the calibration grid was irregular. - Fixed bug: McalTransformImage() will no longer ignore M_CORRECT_LENS_DISTORTION_ONLY mode when using a 3D Robotics calibration context. - Fixed bug: McalControl() will no longer accept a value of 0 for M_GRAY_LEVEL_SIZE_Z as documented. 4.04 SureDotOCR速 module - Fixed bug: MdmrRead() will no longer fail to read certain strings because of a wrong internal image cropping (was happening in rare cases). - Fixed bug: MdmrRead() will no longer try to allocate an internal child partially outside the parent buffer. This was happening in rare cases and was resulting in unexpected behavior. - Fixed bug: MdmrRead() will be less likely to read a string at the wrong angle (+- 180 degrees from the expected angle). This was happening in rare cases when most characters to read were reversible (ex.: 6/9, 8, ... ). - Fixed bug: MdmrRead() will no longer return a character that does not respect the font constrained. This was happening in rare cases when using more than one font. 4.05 Edge Finder module - Fixed bug: MedgeStream will no longer change the value of M_RESULT_OUTPUT_UNITS (was happening in rare cases). 4.06 Registration module - Fixed bug: MregCalculate() will no longer invert the polarity for the Local Shape image result (M_DRAW_LOCAL_SHAPE_IMAGE) when light vectors' azimuth were not aligned with the image axis. This was happening in some cases. - Fixed bug: MregCalculate() will no longer invert the polarity for the Mean Curvature image (M_DRAW_MEAN_CURVATURE_IMAGE) when M_LIGHT_VECTOR_TYPE is set to M_CARTESIAN. 4.07 Pattern Matching module - Fixed bug: MpatPreprocess() will no longer ignore the &quot;don't care&quot; mask applied to the model while computing the effective first level when M_FIRST_LEVEL is set to M_AUTO_CONTENT_BASED. - Fixed bug: MpatFind() will no longer return an incorrect high score for some occurrences when searching at angle and when M_SEARCH_ANGLE_ACCURACY is set to a value other than M_DISABLE or M_DEFAULT (was happening in rare cases). - Fixed bug: MpatFind() will no longer return an incorrect position using a context which contains more than one model, with some having a different reference offset. This was happening in some cases when M_SEARCH_MODE was set to M_FIND_ALL_MODELS (or M_DEFAULT) and M_SEARCH_ANGLE_MODE was set to M_DISABLE. - Fixed bug: MpatFind() will no longer lead to results not respecting the M_MIN_SEPARATION_X/Y settings when M_SEARCH_ANGLE_MODE is set to M_DISABLE and M_FIRST_LEVEL is set to 0. - Fixed bug: MpatGetResult() with result M_SUM_I, M_SUM_II, M_SUM_IM, M_SUM_M, M_SUM_MM and M_NUMBER_OF_PIXELS are now available for M_FIND_BEST_MODELS mode when M_SAVE_SUMS is M_ENABLE. 4.08 Model Finder module - Fixed bug: MmodDefineFromFile() will no longer misinterpret the scale of ellipses that are not centered at the origin. - Fixed bug: MmodDefineFromFile() will no longer crash when an entity of the CAD DXF file is completely occluded by other entities, which was happening in rare cases. - Fixed bug: MmodFind() with an M_GEOMETRIC context will no longer miss occurrences when a search region is set and when M_FIRST_LEVEL is set to 1 and M_LAST_LEVEL is set to 0. - Fixed bug: MmodPreprocess() will no longer cause an infinite loop when used with an M_GEOMETRIC context, which was happening in rare cases. - Fixed bug : MmodFind() will no longer lead to non repeatable results when used with M_SHAPE_RECTANGLE context. This was happening in rare cases. 4.09 Metrology module - Fixed bug: MmetControl(M_REGION_ACCURACY_HIGH) will no longer be ignored when set to M_DISABLE (was happening in rare cases). - Fixed bug: MmetCalculate() will no longer lead to wrong measurements when using a child of a calibrated image as a target image. - Fixed bug: MmetCalculate() will no longer ignore the angle of the infinite region for a measured edgel feature. - Fixed bug: MmetCalculate() will now report an error when a calibration with an inverted Y axis is used as this is not supported. - Fixed bug: MmetDraw() will no longer generate a MIL error when drawing an M_DRAW_TOLERANCE for an M_EDGEL feature and using a graphic context with M_INPUT_UNITS control sets to M_WORLD. - Fixed bug: Saving and restoring a context will no longer potentially change the results of MmetCalculate for M_AREA_CONVEX_HULL and M_PERIMETER_CONVEX_HULL tolerances. - Fixed bug: MmetSetRegion() will no longer establish a wrong ring-sector region when the end angle is set to 360. - Fixed bug: M_ANGULARITY tolerance computation between two line features will now take into account the order in which the lines are listed. - Fixed bug: MmetCalculate() will no longer cause an infinite loop when calculating an M_CIRCLE feature using M_OUTER_FIT. This was happening in very rare cases. 4.10 Code Reader module - Fixed bug: McodeWrite() will no longer generate an invalid code while generating an M_GS1_DATABAR code type with M_SUB_TYPE set to M_GS1_DATABAR_EXPANDED or M_GS1_DATABAR_EXPANDED_STACKED. - Fixed bug: In some situations, McodeRead() will no longer fail to decode a 144x144 Data Matrix code. - Fixed bug: McodeGrade() will no longer return certain wrong grades or results if part of the bar code or its quiet zone falls outside of the image or given child. - Fixed bug: McodeRead() will no longer miss code occurrences when decoding 1D bar codes and with M_POSITION_ACCURACY set to M_LOW. - Fixed bug: McodeWrite() will no longer generate wrong Micro QR version: M1 version (11x11 modules) or M3 version (13x13 modules). McodeRead() will no longer incorrectly decode such Micro QR versions. - Fixed bug: McodeGetResult(...M_CELL_NUMBER_X...) will no longer return the number of bars and spaces for linear bar code. It will now return the number of modules, as expected. - Fixed bug: McodeTrain() will no longer incorrectly return M_SQUARE as a result for M_DATAMATRIX_SHAPE when the tolerance on a square shape is not respected. - Fixed bug: McodeControl() will no longer crash when setting the control type to M_DPM_CALIBRATION_RESULTS and the control value to a result buffer Id which is not a result from a McodeGrade() operation. This will now report an error. - Fixed bug: Code positions and angle results will now always follow the same convention when reading a flipped 2D cross row or a 2D matrix code. The convention previously depended on the code type and/or the value of M_DECODE_ALGORITHM used. - Fixed bug: McodeWrite() will no longer return an error if M_CELL_NUMBER_X is M_ANY or M_DEFAULT and M_CELL_NUMBER_Y is set to a valid value or vice versa. - Fixed Bug: McodeWrite() will no longer generate an error when encoding a valid EAN/UPC string with M_ENCODING set to M_ANY and the string to encode does not contain any add-on. - Fixed bug: McodeRead() will no longer return in some situations an incorrect M_CODE_FLIP or M_ANGLE result after reading a mirrored rectangular Data Matrix. - Fixed bug: Calling McodeControl() with M_RESET_FROM_TRAINED_RESULT to fill a context from an M_CODE_TRAIN_RESULT will no longer crash when the context Id and the result Id are not allocated on the same system (using DMIL). Instead, an error will be reported. - Fixed bug: McodeStream() with operation M_SAVE_REPORT will now write &quot;GS1 Databar&quot; instead of &quot;RSS-14&quot; or &quot;RSS&quot; for all encoding types supported with the code type M_GS1_DATABAR. - Fixed bug: McodeGrade() will no longer return different results when grading an M_COMPOSITECODE using a read result (SrcResultCodeId) or directly using the ImageBufId (was happening in rare cases). - Fixed bug: McodeWrite() will no longer return an error while encoding a Maxicode with M_ENCODING set to M_ANY or M_DEFAULT. If M_ENCODING is set to any of those values, a Mode 4 (M_ENC_MODE4) will be encoded. - Fixed bug: McodeWrite() will no longer return an error while encoding a Data Matrix with M_ERROR_CORRECTION set to M_ANY or M_DEFAULT. If M_ERROR_CRRECTION is set to any of those values, an M_ECC_200 will be encoded. - Fixed bug: McodeDraw(M_DRAW_BOX) will no longer include the 1D/2D separator in the 2D box when drawing a composite code with a MicroPDF417 as a 2D part. - Fixed bug: McodeRead() will no longer fail to read deformed 2D matrix code if we provide the exact angle of one direction. - Fixed bug: McodeWrite() will now always generate a barcode image with a black foreground when the control M_FOREGROUND_VALUE is set to M_ANY. Before it was dependent on the M_INITIALIZATION_MODE used. 4.11 String Reader module - Fixed bug: MstrRead() will no longer crash in some rare situations when using a fontless context and reading characters having a thickness close to 1. - Fixed bug: MstrRead() will now update the results when reading using an ROI totally outside the target image. Before, results from the previous read were still available. 4.12 Primitives - Fixed bug: MimBinarizeAdaptive() will no longer crash when M_THRESHOLD_MODE is set to M_NIBLACK or M_LOCAL_MEAN and the source image is smaller than M_LOCAL_DIMENSION. - Fixed bug: MimDistance() will no longer saturate the distance to 32767 when a 16-bit unsigned destination is used; it will saturate the distance to 65535, as it should. - Fixed bug: MimMorphic() will no longer saturate according to the source buffer depth but according to the destination buffer depth, as expected. The bug was only present when using a structuring element containing values others than 0 and M_DONT_CARE and using an M_DILATE, M_ERODE, M_OPEN, M_CLOSE, M_BOTTOM_HAT or M_TOP_HAT operation. - Fixed bug: MimBinarize() will no longer truncate the condition values when using a non float buffer. - Fixed bug: MimConvolve() will no longer overflow when using an IIR filter context, with M_FILTER_RESPONSE_TYPE set to M_STEP and with an M_SIGNED destination buffer of the same depth as the source. - Fixed bug: MimConvolve() with M_SHEN_FILTER and M_DERICHE_FILTER macros have a bias toward bottom and left. Those macros are deprecated and this will no longer happen when using the new M_LINEAR_FILTER_IIR_CONTEXT. - Fixed bug: MimRank() will no longer crash or exhibit an undetermined behavior when the rank is set to a value larger than the structuring element number of valid elements. The rank will now saturate to the structuring element number of valid elements. - Fixed bug: MimArith() will no longer overflow when the operation is set to M_EXP_CONST and when using M_FLOAT images (was happening in rare cases). - Fixed bug: MimConvert()/MbufCopy() BGR24 to YUV16 packed UYVY will no longer access outside the source buffer. This was happening when the source image SizeX was a multiple of 32. - Fixed bug: MimMorphic(...M_THICK/M_THIN...) will no longer prematurely stop and not perform all the operation iterations when used with a structuring element having M_OVERSCAN set to M_TRANSPARENT (was happening in rare cases). - Fixed bug: M_TRANSPARENT overscan will no longer be incorrectly computed when the structuring element is not centered for neighborhood operations (was happening in rare cases). - Fixed bug: MimMorphic(...M_DILATE/M_ERODE...) with structuring element filled with 0, with overscan transparent and when using a non centered structuring element no longer gives an incorrect result on borders, which was happening in rare cases. - Fixed bug: MimMorphic(...M_DILATE/M_ERODE...) with structuring element filled with 0, with overscan transparent will now handle the overscan properly even when the image is smaller than the structuring element size. - Fixed bug: MimMorphic() will now handle the overscan properly even if the structuring element is larger than destination image. The problem was occurring when M_OVERSCAN was set to M_TRANSPARENT in some situations. - Fixed bug: MimInquire() will now permit you to retrieve the image mask information for an M_MATCH_CONTEXT even if the context has not been preprocessed yet. 4.13 Graphics - Fixed bug: When creating an arc interactively using MgraInteractive() with M_ARC_THREE_POINTS, the temporary line between the first two points will now appear, even when the graphics list is empty. - Fixed bug: MgraDot() with coordinates in the half-pixel border around the image will now draw the dot correctly. Fixed bug: The graphic list event M_GRAPHIC_SELECTION_MODIFIED will no longer be ignored when selecting multiple graphics at the same time. - Fixed bug: interactive graphics with M_ROTATABLE and M_RESIZABLE both set to M_DISABLED will no longer be movable using their invisible bounding box. - Fixed bug: MgraDraw() will no longer skip some drawing graphics when a calibration conversion error occurs. 5. Known limitations 5.01 Classification module - MclassPredict(): images with a type different than 8+M_UNSIGNED do not properly support regions (MbufSetRegion). - Applications using MclassTrain() cannot be called in different threads at the same time if they are in the same process. - The first call to MclassTrain() can take a long time to start. 5.02 String Reader module - MstrGetResult(... M_STRING + M_TYPE_TEXT_CHAR, ...) might not work when using different OS in a DMIL configuration. It leads to a MIL error message &quot;Invalid Data Type&quot;. 5.03 3D display - Depending on your local version of Windows and the remote version of Windows, the 3D display may not work properly. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 16 : Differences between MIL X Version 1911 and MIL 10 R2 1. Overview. 2. What's included. 3. Known limitations and issues. 4. Supported versions of Microsoft Visual Studio. 5. Operating system support. 6. Additional information. 1. Overview. MIL X Version 1911 is a re-release of the original MIL 10 with the following enhancements and additions: - A redesigned version of the Matrox Feature Browser. - GenICam 3.1 support for all relevant MIL systems. - Simpler and faster installation. - Updates and engineering fixes since MIL 10 R2 including MIL 10 Processing Pack 3. - A change setup option to add a MIL system to an installation. 2. What's included. MIL X Version 1911 includes the following updates and processing pack. - MIL 10 Update 07 (Matrox RadientPro CL). - MIL 10 Update 34 (GenTL Consumer). - MIL 10 Update 53 (Matrox Indio). - MIL 10 Update 56 (Matrox Supersight). - MIL 10 Update 57 (Matrox Orion HD). - MIL 10 Update 64 (USB3 Vision.) - MIL 10 Update 68 (Industrial Communications). - MIL 10 Update 72 (Matrox Iris GTR). - MIL 10 Update 73 (Matrox Radient eV-CXP). - MIL 10 Update 74 (Matrox Radient eV-CL). - MIL 10 Update 75 (Matrox Rapixo CXP). - MIL 10 Update 76 (Matrox Clarity UHD). - MIL 10 Update 80 (MIL CoPilot). - MIL 10 Update 82 (GigE Vision and Matrox Concord PoE ToE). - MIL 10 Update 86 (Matrox 4sight auxiliary I/Os) - MIL 10 Processing Pack 3 (*** See Section 17 for details ***). MIL X Version 1911 includes engineering fixes for the following: - USB3 Vision (MIL 10 Update 64). - Fix 608. - Fixes issue with firmware updater being blank (although a firmware update is required). - Fix 638. - Fixes issue regarding single grab acquisition. - Matrox Rapixo CXP (MIL 10 Update 75) and Matrox Radient eV-CXP (MIL 10 Update 73) - Fix 649 (only for MIL 10 Update 73). - Fixes issue where the on-board memory size was not reported correctly. - Fix 657. - Increases PowerOverCXP over current grace period during camera power up. - Fix 663. - Fixes issue with Matrox Feature Browser when displaying options for M_GRAB_TRIGGER_OVERLAP. - Fix 672. - Adds support for PFNC formats: Mono8s, Mono10p, Mono10Packed, Mono12p, Mono12Packed, Mono14p, BayerXX10p, BayerXX12p, BayerXX14p (where XX can be 'BG', 'GB', 'GR', or 'RG'). - Matrox Radient eV-CL (MIL 10 Update 74). - Fix 666. - Fixes issue when doing Gain and Offset correction and the width of the buffer was not a factor of 64. - Matrox Clarity UHD (MIL 10 Update 76). - Fix 636. - Fixes issue when grabbing from a 1080i 10bits input into a YUV buffer. - Fix 643. - Fixes issue when a camera is connected after a MdigAlloc. - Fix 645. - Improves HDMI auto-detect to allow grabbing even if a DCF does not exist. - Allows grabbing from a HDMI 2.0 input without the 5V (pin 18) present. - Matrox Orion HD (MIL 10 Update 57). - Fix 667. - Fixes potential crash when shutting down the computer while a grab is in progress. - Fix 605. - Fixes potential computer freeze when auto-detecting video inputs. - Fixes intermittent error message &quot;Maximum data video input is reached&quot; when allocating a specific DCF when no input signal is present. - Fix 603. - Fixes potential crash when grabbing simultaneously from multiple threads. - Fix 585. - Fixes potential crash when allocating Matrox Orion HD from a Microsoft service. - Matrox Morphis (MIL 10). - Fix 606 and 664. - Fixes potential crash while shutting down the PC. - Fix 571. - Fixes issue when grabbing by fields (odd/even) and only one of the fields was updated. - Matrox Morphis QxT (MIL 10). - Fix 558. - Fixes potential issue of driver not starting when using multiple boards. - Fix 601. - Fixes potential crash on a system with more then 32 cores. - Matrox Solios (MIL 10). - Fix 533. - Fixes issue with clallserial.dll where the COM ports were not correctly identified. - Fix 552. - Fixes issue with COM ports when using more then 4 Matrox Solios boards in one PC. - Fix 583. - Adds functionality to enable/disable PoCL. - Fix 594. - Fixes potential crash when opening/closing the COM port in a loop. - Fix 596. - Adds functionality to support analog slow-scan cameras. - Adds MsysInquire (M_COUPLING_MODE), which returns the analog coupling mode M_AC or M_DC. - Fix 620. - Fixes issue with MdigControl(M_CHANNEL), which was always using the default value of the DCF. - Fixes issue that the COM port was not properly freeing after an MdigFree when using CLProtocol. - Fix 627. - Fixes issue with MdigControl(M_TIMER_TRIGGER_SOURCE) when cascading multiple timers. - Fix 630. - Fixes issue where Windows COM &quot;Port settings&quot; tab was not present. - Fix 650. - Fixes issue with PoCL (Power-over CL) when certain cameras need longer startup time. 3. Known limitations and issues. With Windows 10, when uninstalling MIL from the Settings - Apps &amp; features, the name of the program shown in the uninstall program window will be a random string. The first time you run Matrox Feature Browser, a Windows Security Alert dialog might be displayed. You should allow Matrox Feature Browser to open. When using the Recording Mode in Matrox Intellicam (with the Matrox GigE Vision driver, the Matrox USB3 Vision driver, or a Matrox CXP board), you must modify a feature value in Matrox Feature Browser for the value to be recorded. When using the timer selector in Matrox Intellicam (with a Matrox Camera Link board or a Matrox CXP board), value 'Timer 0' maps to the same value as 'Timer 1'. 4. Supported versions of Microsoft Visual Studio. MIL supports the following versions of Microsoft Visual Studio: - Microsoft Visual Studio 2012. - Microsoft Visual Studio 2013. - Microsoft Visual Studio 2015. - Microsoft Visual Studio 2017. - Microsoft Visual Studio 2019. Most MIL examples are provided for the following versions: - Microsoft Visual Studio 2012. - Microsoft Visual Studio 2017. For Microsoft Visual Studio 2013 and 2015, use the 2012 version of the MIL example. For Microsoft Visual Studio 2019, use the 2017 version of the MIL example. 5. Operating system support. - Windows 7 32-bit with Service Pack 1 - Windows 7 64-bit with Service Pack 1 - Windows 10 Version 1607 to 1909 32-bit - Windows 10 Version 1607 to 1909 64-bit 6. Additional information. - Matrox CronosPlus, IEEE 1394 IIDC, Matrox Nexis and Matrox Vio systems are not available for the installation. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 17 : Differences between MIL 10 Processing Pack 3 and Processing Pack 2 with Update 63 Table of Contents for Section 17 1. Overview 2. New functionalities and improvements 2.01 MIL processing specific examples 2.02 Classification module 2.03 Blob module 2.04 Calibration module 2.05 SureDotOCR速 module 2.06 Registration module 2.07 Pattern Matching module 2.08 Model Finder module 2.09 Metrology module 2.10 3dMap module 2.11 Code Reader module 2.12 Measurement module 2.13 String Reader module 2.14 Color module 2.15 Primitives 2.16 Graphics 2.17 General 3. Deprecated functionalities 3.01 OCR module 3.02 Registration module 3.03 Code Reader module 3.04 Blob module 3.05 Graphics 4. Fixed bugs 4.01 Blob module 4.02 Calibration module 4.03 SureDotOCR速 module 4.04 Pattern Matching module 4.05 Model Finder module 4.06 Metrology module 4.07 3dMap module 4.08 Code Reader module 4.09 Measurement module 4.10 Edge Finder module 4.11 Registration module 4.12 String Reader module 4.13 Primitives 4.14 Graphics 4.15 Utilities 5. Known limitations 5.01 Classification module 5.02 Model Finder module ------------------------------------------------------------------------------- 1. Overview - MIL 10 Processing Pack 3 includes all the features of MIL 10 Processing Pack 2 with Update 63. In addition, MIL 10 Processing Pack 3 includes new processing functionalities, performance optimizations, and general improvements such as: . new: Registration photometric stereo context . new: Model Finder rectangle shape finder context . new: Metrology features and tolerances for 3D profile analysis . new: Code Reader 1D code type detection . new: Code Reader training from sample images . new: Classification module . new: Primitives such as edge preserving filters, . and many more to discover! - MIL 10 is the minimum requirement for all upcoming Processing Packs until the next major release. - Note: MIL 10 Processing Pack 3 does not support the MIL GPU system for image processing. - Windows' automatic 8.3 file name creation needs to be enabled in order for the MIL installer to access the temp folder when the user name contains a space. This option allows Windows to create short file/folder name aliases for ones with long names for programs, such as the MIL installer, that don't support spaces in the file/folder names. Alternatively, the MIL installer needs to run from a user account that belongs to the administrators group and has no spaces in it. Note that the same applies for uninstalling MIL. - The required Visual C++ 2017 Redistributable needs the presence of KB2919442 and KB2919355. These will need to be obtained and applied before installing this Processing Pack. - The MIL Processing Pack requires a Windows installation that supports device drivers with SHA-2 digital certificates. Consequently, some Windows 7 installations will require that a Windows Monthly Rollup be applied before the MIL update can be installed. - Building the MIL examples using Visual Studio 2015 or 2017 also requires the presence of Windows SDK version 8.1, which is installed from the Visual Studio setup. 2. New functionalities and improvements 2.01 MIL processing specific examples - New MIL 10 Processing Pack 3 examples! - Note that MIL 10 Update 52 is needed to get the images required for several examples, in particular for the 3D processing examples. 2.02 Classification module - New: a classification module to predict the category of an input image using a restored pre-trained convolutional neural network (CNN). 2.03 Blob module - New: MblobTransform() function to apply operations on an existing blob result object. - New: MblobTransform(M_CONTIGUOUS_LABELS) to perform the relabeling of blobs. - Improvement: MblobFree() has been optimized in speed when calculation has been perform on large images containing lots of runs. - Improvement: the convex hull calculation has been accelerated. - Improvement: MblobGetResult() will no longer return uninitialized values but report an error for non calculated feret features. - Improvement: MblobMerge() has been optimized for speed and memory usage. - Improvement: the M_PRINCIPAL_AXIS_ANGLE numerical stability has been improved for perfect symmetric blobs. - New: M_MAX_LABEL_VALUE can now be retrieved using MblobGetResult(). - New: The M_BLOB_IDENTIFICATION_MODE can now be retrieved using MblobGetResult. 2.04 Calibration module - New: McalTransformCoordinate3dList() supports point cloud containers and 3D reconstruction contexts for world-to-world conversions. - New: McalGrid() now supports regions of interest (ROI). - Improvement: McalList() with M_DISPLACE_CAMERA_COORD or with M_DISPLACE_RELATIVE_COORD will no longer require setting the principal point. In 3d mode and after a successful call to McalGrid(M_FULL_CALIBRATION), it is now no longer required to specify the principal point before a call to McalList(M_DISPLACE_*). - Improvement: the detection of chessboard grids has been improved. 2.05 SureDotOCR速 module - New: DOT_FONT_SEMI_5x9.mdmrf font file has been added following the &quot;SEMI OCR OUTLINES AUX015-1106&quot; specification. - New: MdmrGetResult() has new results to retrieve the bounding box of a read string. - New: MdmrDraw(M_DRAW_STRING_BOX) can draw the string bounding box. 2.06 Registration module - New: Photometric stereo is now supported to compute the albedo and the curvature image from a set of images acquired with light from different directions. 2.07 Pattern Matching module - Improvement: M_SEARCH_ANGLE_ACCURACY and M_SEARCH_ANGLE_TOLERANCE can now be set to values smaller than 0.1 degree. - Improvement: MpatDefine(M_REGULAR_MODEL+M_CIRCULAR_OVERSCAN) now reports a better error message when the model definition is too close from an image's border. - New: M_HAS_DONT_CARE_MASK can now be inquired to retrieve whether a don't care mask is set for a model. 2.08 Model Finder module - New: a rectangle shape finder is now supported! - New: a segment shape finder is now supported! - Improvement: ellipse finder will now return the closest angle to angular mid-value when both the angle and its opposite are valid. - Improvement: MmodFind() with M_SHAPE_CIRCLE and M_SHAPE_ELLIPSE contexts is now optimized for multi-core architectures. - New: M_HAS_TARGET_EDGES_SAVED can now be inquired to retrieve if the target edges have been saved. - New: M_RESULT_TYPE can now be inquired to retrieve the type of the result object (i.e. M_GEOMETRIC, M_GEOMETRIC_CONTROLLED, M_SHAPE_CIRCLE, M_SHAPE_ELLIPSE, or M_SHAPE_RECTANGLE). 2.09 Metrology module - New: two edgel features can be now compared and their differences can be extracted. - Improvement: Radial fit of a segment within a ring sector region has been improved. - New: the ordering of the edgels for an edgel feature can now be specified. - New: the area tolerance between two edgel features can now be calculated. - New: the edgel features can now be resampled. - New: copy of edgel feature can now be done for measured and constructed features. - New: the area under the curve tolerance is now supported. - Improvement: the straightness tolerance has been optimized for speed. - Improvement: the ring sector region definition has been slightly improved. - New: inquires to retrieve the information about an external edgel feature added using MmetPut(). - New: the drawing of labels for both measured and constructed edgels is now supported. - New: the Max of min distance tolerance between two features is now supported. - New: the construction of the closest point to a virtual infinite point at a specific direction is now supported. - New: M_PERIMETER_SIMPLE tolerance is now supported to compute the perimeter of a feature. - New: M_AREA_SIMPLE tolerance is now supported to compute the area of a feature. - New: M_PERIMETER_CONVEX_HULL tolerance is now supported to compute the perimeter of the convex envelope of a feature. - New: M_AREA_CONVEX_HULL tolerance is now supported to compute the area of of the convex envelope of a feature. - Improvement: M_CLOSEST point construction now supports more combinations of features. - Improvement: M_MAX_DISTANCE point construction now supports more combinations of features. - New: the closest point construction now supports an optional reference angle constraint. - New: the distance tolerances now support directional measure by providing an optional reference angle constraint. - Improvement: the bisector between two lines can be controlled to construct the feature according to the largest angular sector, the smallest angular sector, or the feature ordering. - New: measured edgels or edgels during a copy operation can now be post-processed using a median, average, or Gaussian filter. - Improvement: the furthest point between two arc constructions has been optimized for both speed and accuracy. - Improvement: closest/furthest constructed point is now supported from multiple features. - Improvement: new feature, M_WARNING status, is now returned when a feature definition is valid but its construction is not possible. For example a segment constructed from two points, while the two points appear to be identical. - New: the angularity tolerance can now be set between three points. - New: the length tolerance can now be set for an edgel feature. - New: parameterized best fit methods are now proposed for best fitted features. 2.10 3dMap module - New: M3dmapPut() now supports M_APPEND to append points to an existing point cloud. - New: M_ALIGN_COMPLETED status can now be inquired using M3dmapGetResult() to retrieve whether the M3dmapAlign() operation successfully completed. - New: M3dmapExport() function to export a point cloud is now supported. - New: M3dmapSetGeometry() now supports point cloud containers as input when using M_FIT_POINT_CLOUD. - New: M3dmapSetGeometry() supports generating and fitting hemispheres. - New: M3dmapPtCldCalculate() can now calculate the 3d distance between a point cloud and a geometry (plane or sphere center). - New: M3dmapCopy() to copy or to move a source point cloud to a destination point cloud. - New: M3dmapCopyCond() to copy or to move a source point cloud to a destination point cloud based on a given condition. - Improvement: M3dmapArith() and M3dmapStat() now support source depth maps with different calibrations along the Z axis. - New: M3dmapStat() now supports M_DEVIATION_MIN, M_Z_MIN and M_Z_MAX. 2.11 Code Reader module - New: McodeDetect() is now supported to automatically detect codes types in an image. - New: McodeTrain() is now supported to automatically optimize context controls from a set of images. - New: McodeRead() now supports Character set Extended Channel Interpretations (ECIs) for M_DATAMATRIX, M_AZTEC, M_QRCODE, M_MAXICODE, M_PDF417, M_TRUNCATED_PDF417 and M_MICROPDF417. - Improvement :McodeGrade() will no longer rarely exhibit slight result differences between grading directly or from a read result for 1d barcode. - New: McodeGetResult() and McodeGetResultSingle() now supports the result type M_IS_ECI. - Improvement: McodeGetResult() will now return more accurate and stable bounding box corner results for UPC/EAN code types with add-on. - New: results M_TOP_LEFT_X, M_TOP_LEFT_Y, M_TOP_RIGHT_X, M_TOP_RIGHT_Y, M_BOTTOM_LEFT_X, M_BOTTOM_LEFT_Y, M_BOTTOM_RIGHT_X, M_BOTTOM_RIGHT_Y, M_POSITION_X and M_POSITION_Y can now be combined with M_2D_COMPONENT to retrieve positions for the 2D component of a composite code. - New: McodeGetResult() and McodeGetResultSingle() now support the M_TYPE_STRING combination flag. - Improvement: the threshold mode M_ADAPTIVE is now supported with M_4_STATE codes. - Improvement: McodeRead() is more robust reading skewed M_4_STATE codes. - Improvement: McodeRead() is more robust reading aliased M_4_STATE, M_PLANET and M_POSTNET codes. - New: McodeGetResult()/McodeGetResultSingle() now support retrieving the read results after a call to McodeGrade(). - New: M_GRADE_QUIET_ZONE flag can enable/disable grading the quiet zone for M_QRCODE, M_MICROQRCODE, and M_DATAMATRIX. - Improvement: McodeRead() robustness has been improved when M_CHECK_QUIET_ZONE is set to M_DISABLE. - Improvement: McodeRead() will now prioritize codes with valid quiet zone, even when the M_CHECK_QUIET_ZONE is set to M_DISABLE. - Improvement: McodeRead() is now more robust regarding the dimension of the spaces for Industrial-25 codes. - New: M_CELL_NUMBER_X_MIN, M_CELL_NUMBER_X_MAX, M_CELL_NUMBER_Y_MIN, M_CELL_NUMBER_Y_MAX controls are now available for all 2D codes. - New: M_MAXICODE, M_PDF417, M_TRUNCATED_PDF417, M_MICROPDF417 now support the string format M_RAW_DATA. - Improvement: McodeRead() and McodeWrite() now support Version 18 of the GS1 General Specifications. - New: McodeInquire() can now retrieve the list of the supported code types using M_SUPPORTED_CODE_TYPES. - Improvement: McodeRead() has been optimized for speed when reading multiple linear code models. - Improvement: McodeGrade() has been optimized for speed for DataMatrix codes. - Improvement: McodeGrade() robustness has been improved for DataMatrix codes. - New: McodeControl() now supports M_CODE_SEARCH_MODE (M_FAST, M_BEST) to return either the N first decoded code or the N best codes among all found. - Improvement: McodeRead() with M_THRESHOLD_MODE set to M_GLOBAL_SEGMENTATION has been improved for linear code. - Improvement: McodeRead() has been improved for 1d codes in noisy image when M_THRESHOLD_MODE is set to M_ADAPTIVE and the M_MINIMUM_CONTRAST is close or equal to the image contrast. - Improvement: McodeRead() has been improved for linear codes at angle. - Improvement: McodeGrade() robustness has been improved for Code 128 codes as well as for 2D codes. - Improvement: McodeRead() has been improved to reduce the number of false positive solutions when reading M_PHARMACODE codes. - Improvement: The accuracy of the corners of linear codes has been improved in the presence of distortion. - Improvement: McodeRead() and McodeGrade() speed have been improved for QR Code, Micro QR Code or Aztec when M_DECODE_ALGORITHM is set to M_CODE_DEFORMED. - Improvement: McodeRead() robustness has been improved for barcode with poor modulation in blurred images when the M_SCANLINE_HEIGHT is set to a value different than the default value. 2.12 Measurement module - New: the M_SUB_REGIONS_NUMBER_USED result can now be retrieved using MmeasGetResult(). 2.13 String Reader module - Improvement: MstrRead() is now able to read more than one string along the same line. 2.14 Color module - New: McolInquire(M_CONTEXT_TYPE) to distinguish between a M_COLOR_MATCHING context and a M_COLOR_CALIBRATION_RELATIVE context. 2.15 Primitives - New: MimConvolve() with a M_LINEAR_FILTER_IIR_CONTEXT context to perform image filtering using infinite impulse response linear filters such as Deriche or Shen. - Improvement: MimMorphic(), with M_DILATE/M_ERODE and with structuring element filled with 0s, has been optimized for speed. - Improvement: MimDilate() and MimErode() have been optimized further for speed. - Improvement: MimHistogramEqualize() has been optimized further for memory usage with 32-bit sources. - New: MimArith() now supports M_ABS_SUB, M_AVG, M_MAX_ABS, and M_MIN_ABS operations. - New: MimFilterAdaptive() function to perform edge preserving image filtering techniques such as the bilateral filter. - New: MbufBayer() now supports a M_ADAPTIVE_FAST demosaicing operation. - New: MimRemap() function to perform image intensity remapping. - Improvement: the accuracy of MimConvert() HSL conversions has been improved. - New: M_REPLICATE overscan mode for the neighborhood operations is now supported. - Improvement: MimRotate(), with rotations multiple of 90 degrees, has been optimized further for speed. - New: MimConvolve() predefined FIR convolution kernel M_LAPLACIAN_ISO_8 is now supported. - Improvement: MimTranslate() has been improved in accuracy. - New: MimTranslate() now supports the M_NEAREST_NEIGHBOR and the M_BICUBIC interpolation modes. - New: MimConvert() now supports HSV conversions. - New: MimArith() now supports the M_SUB_CONST_ABS operation. - Improvement: Neighborhood operations better support periodic mirror overscan - that is when the neighborhood operation requires an overscan dimension larger than the image dimension. 2.16 Graphics - New: it is now possible to hold the Shift key to restrict the interactive translation along the X and Y axes. - New: interactive translation can now be configured using MgraControlList() with M_MODE_TRANSLATE, M_MODE_TRANSLATE_SHIFT, M_MODE_TRANSLATE_CTRL and M_MODE_TRANSLATE_ALT. - Improvement: MgraRect() and MgraRectFill() will no longer create a rectangle with negative width or height. Rectangle is now defined by its top left position with positive width and height. - New: it is now possible to hold the Alt key to interactively rotate graphics by a multiple of 15 degrees. - New: interactive rotation can now be configured using MgraControlList() with M_MODE_ROTATE, M_MODE_ROTATE_SHIFT, M_MODE_ROTATE_CTRL, M_MODE_ROTATE_ALT and M_ANGLE_SNAPPING_VALUE. - New: it is now possible to hold the Shift key to keep the same aspect ratio while resizing graphics. - New: it is now possible to hold the Ctrl key to interactively resize a graphic with respect to its center. - New: it is now possible to hold the Alt key to force a square aspect ratio while resizing graphics. - New: interactive rotation can now be configured using MgraControlList() with M_MODE_RESIZE, M_MODE_RESIZE_SHIFT, M_MODE_RESIZE_CTRL and M_MODE_RESIZE_ALT. - New: when interactively changing the secondary dimension of a rectangle or ring, it is now possible to hold the Ctrl key to change it on both sides. - New: interactive resize can now be configured to be symmetric using MgraControlList(). - New: interactive secondary dimension control of a graphic can now be configured using MgraControlList() with the M_MODE_RESIZE_SECONDARY_DIMENSION_SHIFT/CTRL/ALT controls. - New: graphics can now be translated interactively using the keyboard. See MgraControlList() with M_ACTION_... controls for more customization. - New: graphics can now be rotated interactively using the keyboard. See MgraControlList() with M_ACTION_... controls for more customization. - New: graphics can now be resized interactively using the keyboard. See MgraControlList() with M_ACTION_... controls for more customization. - New: the corners can now be inquired for most graphics in a graphics list using MgraInquireList() with M_CORNER_... control flags. - New: MgraInteractive() now supports M_ROTATE_AROUND_CORNER flag to create a rectangle with M_POSITION_TYPE set to M_CORNER_AND_DIMENSION. - New: MgraInteractive() now supports the M_ORIENTED_RECT creation mode to create a rectangle at 0 degree using 3 clicks only. - New: MgraInteractive() now supports the M_CIRCLE creation mode to create a circle using a click-and-drag. - New: MgraInteractive() now supports the M_AXIS_ALIGNED_RECT creation mode to create a rectangle at 0 degree using a click-and-drag. - New: MgraInteractive() now supports the M_AXIS_ALIGNED_ELLIPSE creation mode to create an ellipse at 0 degree using a click-and-drag. - New: MgraInteractive() now supports the M_ARC_THREE_POINTS creation mode to create a circular arc using 3 clicks only. - New: M_SAME_LOCATION can now be added to M_POSITION_TYPE to change the reference position of a rectangle in a graphics list without changing its location in the image. - New: M_RESIZE_WIDTH and M_RESIZE_HEIGHT can now be used to change a graphic's dimensions using MgraControlList(). - New: M_MULTIPLE_SELECTION_KEY can now be used to change the combination key for interactive multiple selection using MgraControlList(). - New: M_EASY_SELECTION can now be enabled using MgraControlList() to allow selecting graphics interactively using the entire shape, not only the shape contour. - New: M_CENTER_X and M_CENTER_Y can now be inquired to retrieve the center of most graphics in a graphics list using MgraInquireList(). - New: MgraControlList() with M_ACTION_MODIFIER_SPEED can now be used to specify the combination key to change the speed of interactive edition. - New: MgraControlList() with M_ACTION_KEY_DELETE can now be used to specify the key used to delete the selected graphics. - New: MgraControlList() with M_ACTION_KEY_CANCEL can now be used to specify the key used to cancel the current interactive graphic edition. - New: MgraControlList() with M_ACTION_KEYS can now be used to activate graphic interactive edition with the keyboard. - Improvement: when interactively creating dots, the vertices are now updated until the mouse-up event. - Improvement: when editing a line interactively, the cursor over the end points is now easier to distinguish from the translation cursor. - Improvement: the default value for M_SELECTION_RADIUS has been increased to 8 to ease graphics list interactivity. - Improvement: interactively resizing a graphic with M_CONSTRAIN_ASPECT_RATIO set to 1.0 is more consistent with usual resizing behavior. - New: M_DRAW_DIRECTION specifies the optional arrows to draw for the graphic primitives. - New: MgraVectors() and MgraVectorsGrid() to draw vectors in an image or in a graphics list. MgraVectors() uses provided coordinates and lengths while MgraVectorsGrid() uses provided x/y vector lengths on pixel grid. 2.17 General - New: MobjControl()/MobjInquire() with M_OBJECT_USER_DATA_PTR to associate a user data pointer to a MIL object. - New: MdigInquire() with M_SOURCE_NUMBER_OF_FRAMES to retrieve the number of frames from the grab source (avi, folder,...) - Improvement: MIL error MessageBox will now display all message boxes from several threads, if any. - Improvement: Safetypes now support nullptr in C++: new overloads have been added to support nullptr. - New: MimRotate() is now supported in MIL Lite for 90 degree rotations. - New: In a process using both the managed and unmanaged MIL APIs, the unmanaged MappInquire(M_ERROR) can now return M_THROW_EXCEPTION if this mode has been set by the managed code. - New: MsysInquire(M_DISTRIBUTED_MIL_TYPE) to retrieve how the system has been allocated using Distributed MIL. - New: MsysInquire(M_DISTRIBUTED_MIL_REMOTE_COMPUTER_NAME) to retrieve the name of the computer used with MsysAlloc() for a Distributed MIL allocation. - New: The dongle serial numbers can now be retrieved using MappInquire(M_KEY_SERIAL_NUMBER) . - New: MILweb API extension for publishing MIL object data for access from a browser or another standalone application using the HTML5 WebSocket communication protocol. Refer to the MIL Releases Notes for MILWeb for more information. 3. Deprecated functionalities 3.01 OCR module - MocrControl()/Inquire() M_STRING_SIZE flag is deprecated and replaced by M_STRING_CHAR_NUMBER. 3.02 Registration module - MregInquire() M_NUMBER_OF_ELEMENTS flag is deprecated and replaced by M_NUMBER_OF_REGISTRATION_ELEMENTS. 3.03 Code Reader module - McodeControl()/McodeInquire() M_DISTORTION flag is deprecated and replaced by M_DECODE_ALGORITHM. The control value M_NONE is deprecated and replaced by M_CODE_NOT_DEFORMED. The control values M_UNEVEN_GRID_STEP and M_PERSPECTIVE_UNEVEN_GRID_STEP are deprecated and replaced by M_CODE_DEFORMED. - Renaming an M_STRING_FORMAT control value from M_GS1_RAW_DATA to M_RAW_DATA. - M_NUMBER_OF_SCANS_PER_ROW result flag is deprecated and replaced by M_ROW_NUMBER_OF_SCANS. - The McodeGetResultSingle()/McodeDraw() macro M_GRADE_RESULT_INDEX(...) is deprecated and replaced by M_SCAN_RESULT_INDEX(...) and M_ROW_RESULT_INDEX(...). - M_GRADE_RESULT_INDEX(ScanReflectanceProfileIndex) macro (McodeGetResultSingle and McodeDraw) is deprecated and replaced by M_SCAN_RESULT_INDEX(ScanReflectanceProfileIndex) and M_ROW_RESULT_INDEX(RowIndex). 3.04 Blob module - M_BLOB_IDENTIFICATION control flag is deprecated and replaced by M_BLOB_IDENTIFICATION_MODE. 3.05 Graphics - M_MOVABLE is deprecated and replaced by M_TRANSLATABLE. - M_FORCE_ASPECT_RATIO_1 is deprecated and replaced by M_SQUARE_ASPECT_RATIO. - The interactive M_DEFAULT rectangle creation mode is deprecated and replaced by M_AXIS_ALIGNED_RECT. - The interactive M_DEFAULT ellipse creation mode is deprecated and replaced by M_AXIS_ALIGNED_ELLIPSE. 4. Fixed bugs 4.01 Blob module - Fix: MblobCalculate() will no longer miss recalculating several Feret features when M_SAVE_RUNS is set to M_DISABLE, M_RETURN_PARTIAL_RESULTS is set to M_ENABLE, and M_MAX_BLOBS is set to M_ENABLE. - Fix: MblobGetResult() will no longer potentially run into an infinite loop when retrieving calibrated angle results with a calibration containing invalid regions. - Fix: MblobCalculate(), MblobGetRuns(), MblobDraw(), MblobFill() and MblobLabel() will no longer potentially crash in rare situation after an MblobCalculate() with M_RETURN_PARTIAL_RESULTS and M_MAX_BLOBS and M_TIMEOUT or M_STOP_CALCULATE is enabled. - Fix: MblobGetResult() will no longer generate an error for general results such as M_NUMBER when M_RESULT_OUTPUT_UNITS is set to M_WORLD while the calculated image was not calibrated. - Fix: MblobSelect() will no longer crash when merging blobs while using a sorting key. - Fix: MblobDraw(M_DRAW_HOLES) will no longer crash when holes are not calculated. - Fix: Fixed bug : MblobCalculate() will no longer potentially crash when calculating the M_FERET_AT_PRINCIPAL/SECONDARY_AXIS_ANGLE + M_GRAYSCALE without having set to calculate the M_FERET_AT_PRINCIPAL/ SECONDARY_AXIS_ANGLE + M_BINARY. - MblobGetResult() will no longer crash when the M_NUMBER_OF_FERETS is set to M_INFINITE and M_FERETS is set to M_ENABLE while retrieving other Feret results not explicitly set to M_ENABLE. 4.02 Calibration module - Fix: McalGrid() and McalList() with M_LINEAR_INTERPOLATION mode will no longer fail or result in a crash when using points with very different spacing in X and Y. - Fix: McalFree() will no longer potentially result in a crash when an allocation and a deallocation are performed simultaneously in other threads. 4.03 SureDotOCR速 module - Fix: MdmrGetResult(M_STRING_NUMBER) will no longer return -1, but instead will return 0, when no read has been performed. - Fix: MdmrGetResult(M_STRING_ANGLE) will no longer return an angle value outside the range [0, 360[. - Fix: MdmrControlStringModel() will now work properly in C# and VB.net when using the control type M_ADD_PERMITTED_CHARS_ENTRY with the control value M_CHAR_LIST. - Fix: MdmrGetResult(M_FORMATTED_STRING) will no longer return the wrong result in an ASCII environment. 4.04 Pattern Matching module - Fix: MpatFind() will no longer potentially crash when the source image is not M_READ_PREFETCH_ENABLED and the pattern matching model has a SizeX less than 6 pixels. - Fix: MpatFind() will no longer generate a MIL Error when the models' search regions are different and an ROI is associated to the target image. As documented, the ROI takes precedence. - Fix: M_PAT_MODEL objects are now tagged as internally allocated objects. 4.05 Model Finder module - Fix: MmodDraw() will no longer draw invalid annotations when a calibration context used by MmodFind() has been freed. - Fix: Drawing CAD models will no longer potentially break some edges. - Fix: Circle shape finder will no longer return unexpected circle results when M_FIT_ERROR_WEIGHTING_FACTOR is set to 0. - Fix: Circle finder will no longer potentially crash, with MP enabled, under rare circumstances. - Fix: MmodGetResult(M_ANGLE) will no longer return the angle value in World units when the M_RESULT_OUTPUT_UNITS is set to M_PIXEL for a Geometric or a Geometric Controlled context type. - Fix: MmodFind() with a M_SHAPE_CIRCLE or a M_SHAPE_ELLIPSE context type will now return the best occurrences when, in some rare situation, the M_NUMBER control was set to a fix value and that at least the score of one occurrence was higher than the certainty value. - Fix: MmodDraw(M_DRAW_POSITION) with an M_SHAPE_CIRCLE or M_SHAPE_ELLIPSE context type will no longer draw the wrong direction when used with a calibration and the specified M_RESULT_OUTPUT_UNITS is set to M_PIXEL. - Fix: MmodDefineFromFile() will no longer fail to open a CAD DXF file in some rare situation. 4.06 Metrology module - Fix: The missing MIL.NET overloads for MmetPut() have been added. - Fix: The region will no longer be displayed when its local frame cannot be calculated. - Fix: Tolerance M_VALUE_WARNING_MIN/MAX default values are now equal to M_EQUAL_PASS_MIN/MAX to fix a misleading default behavior. - Fix: Constructing a cloned edgel feature will no longer crash for a very specific derived region while using multi-core acceleration. - Fix: the intersection between two circles will no longer potentially lead to the wrong constructed points. - Fix: the extended intersection between two arcs, or between an arc and a circle, will no longer potentially lead to the wrong constructed points. - Fix: deleting a feature will no longer potentially crash when the feature has dependencies. - Fix: the perpendicularity tolerance will no longer lead to potentially wrong tolerance status when using different minimum and maximum tolerance limits while the verified feature is not an edge feature. - Fix: the parallelism tolerance will no longer lead to potentially wrong tolerance status when using different minimum and maximum tolerance limits while the verified feature is not an edge feature. - Fix: the position tolerance of a single feature relative to the default global frame will no longer be erroneous. - Fix: the bisector construction will no longer potentially return the wrong result regarding the order of the line features. - Fix: feature / tolerance label upper limit is now set to 0x01000000L to prevent unexpected behaviors. - Fix: a circle outer fit could potentially lead to the wrong solution. This is now fixed. - Fix: the start angle of a constructed arc could potentially be wrongly set to 360 degrees. This will no longer be allowed. - Fix: in some rare conditions, associating a reference frame to a feature using its label value was not possible. This is no longer the case. - Fix: the angle constraint of a ring sector will no longer be potentially ignored when calculating a measured feature. - Fix: the region constraints will no longer be ignored when using M_COPY_FEATURE_EDGELS with a constructed edgel and when setting the M_EDGEL_RELATIVE_ANGLE to M_SAME_OR_REVERSE or when setting the M_EDGEL_ANGLE_RANGE to 360 degrees. - Fix: Restoring a context will no longer ignore the angularity tolerance M_ANGLE value, if any. - Fix: the maximum distance between a circle and an arc will no longer be potentially erroneous. - Fix: calculating the bisector between two identical lines will no longer lead to an invalid construction. - Fix: Global result status will no longer return pass if there is at least one warning tolerance status. It will now return a fail status when there is at least a fail status, or a warning status if there is at least a warning status and no fail. - Fix: The ring sector region can now be used to select edgels for the construction of a segment. 4.07 3dMap module - Fix: M3dmapImport() will no longer fail loading M_PLY files with empty 'face' sections. - Fix: M3dmapImport() will no longer crash when reading an M_STL file having no triangles. - Fix: M3dmapImport() will no longer crash when using an existing point cloud label. - Fix: M3dmapStat() with M_DEVIATION_MAX will no longer potentially returns the wrong result for very large depth map image. 4.08 Code Reader module - Fix: McodeWrite() will no longer return an error when rendering a model, and another model of the context has an inconsistent input unit. - Fix: McodeRead() will no longer perform a short read with M_PHARMACODE codes when the M_SEARCH_ANGLE_STEP is enabled. - Fix: McodeRead() will no longer fail to read or return a wrong string when reading an EAN/UPC code specific type of degradation. - Fix: McodeInquire() will no longer return M_DEFAULT when the inquire type is M_DOT_SPACING_MIN + M_DEFAULT or M_DOT_SPACING_MAX + M_DEFAULT. - Fix: McodeRead() will no longer fail decoding 2D code types with a very small cell size (as small as 1 pixel) when setting proper M_CELL_SIZE_MIN/MAX values and setting M_USE_PRESEARCH to M_STAT_BASE. - Fix: McodeRead() will no longer fail reading 1d codes in low contrast synthetic images when M_THRESHOLD_MODE is set to M_ADAPTIVE. - Fix: McodeGetResult() and McodeGetResultSingle() will no longer return wrong values for M_NUMBER_OF_ERRORS and M_NUMBER_OF_ERASURES after reading or grading an M_DATAMATRIX in rare situation while multi-core acceleration is used. - Fix: McodeGetResult() and McodeGetResultSingle() will no longer return M_STATUS_READ_OK or M_STATUS_GRADE_OK when M_NUMBER and M_TOTAL_NUMBER are set to M_ALL and no code is found. - Fix: McodeRead() will no longer potentially erroneously report an error when decoding a MaxiCode with M_FOREGROUND_VALUE set to M_FOREGROUND_ANY. - Fix: McodeRead() and McodeGrade() will no longer ignore the control value M_TOTAL_NUMBER for M_DATAMATRIX codes. - Fix: McodeGrade() will no longer fail grading 2D matrix codes when the dot spacing is not null and M_FOREGROUND_VALUE is set to M_FOREGROUND_ANY. - Fix: McodeRead() will no longer fail reading a Micro QR code version M1 when M_ERROR_CORRECTION is set to M_ECC_L. - Fix: a code 128 that does not respect the EAN14 constraints will no longer be read as an EAN14. - Fix: McodeWrite() will no longer ignore the value of M_CELL_NUMBER_Y when writing a DataMatrix code. - Fix: McodeRead() and McodeGrade() will no longer return an error when the value of M_CELL_NUMBER_X/Y is set to a fixed valid value and M_CELL_NUMBER_Y/X is set to M_DEFAULT or to M_ANY. - Fix: McodeRead() and McodeGrade() will now report an error when an invalid value for M_CELL_NUMBER_X or M_CELL_NUMBER_Y is used while reading an M_QRCODE, M_MICROQRCODE or M_AZTEC code. - Fix: McodeRead() will no longer crash in some rare situation while reading a linear barcode with M_SPEED set to M_VERY_LOW. - Fix: McodeDraw() will no longer report an error when operations are accumulated to render multiple features. - Fix: McodeRead() will no longer fail to read M_GS1_DATABAR stacked code when the user provides an inaccurate angle. - Fix: McodeRead() will no longer fail to decode or return a wrong string for UPC/EAN codes in some rare situation. - Fix: McodeRead() will no more potentially fail to read 2D matrix codes in specific situations when the M_MIN_CELL_SIZE is set to a value less than 3. - Fix: McodeGrade() will no longer potentially crash when reading Code 128 codes, in specific rare situations. - Fix: McodeInquire() with M_ENCODING will no longer return a wrong value for M_MICROQRCODE. - Fix: McodeRead() will no longer cause a heap corruption in very rare situation while decoding an ANSI X12 encoded DataMatrix. - Fix: McodeWrite() will no longer potentially encode the wrong string for M_DATAMATRIX with M_ECC_200. - Fix: McodeRestore()/McodeStream() will no longer crash when restoring a context containing an unknown code type. - Fix: McodeRead() will no longer potentially crash when reading 4-state codes in images containing no 4-state codes. - Fix: McodeRead() will no longer potentially fail reading a DataMatrix when M_DATAMATRIX_SHAPE is set to M_SQUARE. - Fix: McodeRead() will no longer crash when reading a C or N Australian encoded 4-state code while the first decoded character is not valid. - Fix: McodeRead() will no longer potentially return an invalid string when reading linear codes with M_STRING_SIZE_MAX sets to a non-default value and M_ERROR_CORRECTION sets to M_ECC_NONE. - Fix: McodeGetResult() and McodeGetResultSingle() will no longer report an error when the result type is M_NUMBER_OF_DATA_CODEWORDS + M_2D_COMPONENT or M_DATA_CODEWORDS + M_2D_COMPONENT. - Fix: McodeRead() will no longer fail to read 1D codes in some situation while M_FOREGROUND_VALUE is set to M_FOREGROUND_ANY. - Fix: McodeFree() will no longer potentially crash when an allocation and a deallocation are performed simultaneously in different threads. - Fix: McodeRead() will now decode entirely the EAN/UPC code, including its add-on, in every situation when M_ENCODING is set to M_ANY. - Fix: McodeRead() will no longer decode the wrong string for 1D codes in a very rare situation when M_SEARCH_ANGLE_STEP is set to a specific value. - Fix: McodeRead() will no longer return slightly different results whether the multi-processing is enabled or disabled, in rare situation for a M_DATAMATRIX code (did not affect the decoded string). - Fix: McodeGrade(), in some situations for M_DATAMATRIX codes, will no longer return wrong grade values for the M_EXTENDED_AREA_... grading result types when the M_EXTENDED_AREA_REFLECTANCE_CHECK is set to M_ENABLE. - Fix: McodeRead() will no longer fail to read a M_QRCODE or a M_MICROQRCODE when there in presence of a perspective distortion. - Fix: McodeGrade(), for a M_QRCODE or a M_MICROQRCODE, will no longer return a wrong M_GRID_NONUNIFORMITY and M_GRID_NONUNIFORMITY_GRADE in some cases with perspective distortion. - Fix: In rare situations, McodeRead() will no longer detect two occurrences on a same barcode when reading a linear code. - Fix: McodeRead() will no longer return a wrong angle result when grading a GS1 Databar code type. - Fix: For 1D barcode, the returned width will now be more consistent with the true size of the barcode when the search angle mode is enabled. - Fix: In rare situation, McodeGrade() will no longer return an invalid sub-grade of a fixed pattern damage, sub-grade of version and format information, invalid number of codewords, number of data codewords, number of error correction codewords, number of error-corrected and number of erasure when M_GRADING_STANDARD is set to M_AIMDPM_GRADING. - Fix: The CodeReader module will no longer crash when retrieving the M_STRING result (McodeGetResult / McodeGetResultSingle) in DMIL configuration when no code was previously read, graded, trained or detected. 4.09 Measurement module - Fix: MmeasGetResult() will no longer ignore SecondResultArrayPtr when retrieving M_DRAW_PROFILE_SCALE_OFFSET. - Fix: MmeasGetResult() will no longer crash for a M_BOX_EDGEVALUES result type with the SecondResultArrayPtr set to M_NULL. 4.10 Edge Finder module - Fix: MedgeGetResult() of the information of a buffer not available in the result object will no longer lead to a crash. 4.11 Registration module - Fix: MregCalculate() will no longer take a long time but fail quickly when a constant color image is provided to a M_STITCHING context type. 4.12 String Reader module - Fix: MstrSetConstraint() will now validate M_FONT_INDEX(...) properly when using a font-less context. - Fix: MstrInquire() will no longer crash when inquiring the M_CONSTRAINT at a specific index of a remote context allocated using DMIL. 4.13 Primitives - Fix: MimResize() with M_MAX or M_MIN will no longer fetch data outside the source image buffer. - Fix: MimArith() with M_ATAN2 will no longer ignore regions. - Fix: MimRestore()/MimStream(), applied to an M_MATCH_CONTEXT will no longer crash when the saved model was not initialized. - Fix: MimMorphic() with M_MATCH will no longer potentially return the wrong result for 8xY structural elements on a 32-bit OS. - Fix: MimGetResult()/MimGetResult1d() will no longer potentially crash when retrieving M_POSITION_X, M_POSITION_Y, or M_VALUE on an uninitialized M_EVENT_LIST. - Fix: MbufGetLine() will no longer return the wrong result or an error when the line is completely outside of the buffer limits. - Fix: MbufGetLine() will no longer potentially crash when the line is horizontal and completely outside of the buffer limits. - Fix: MbufGetArc() will no longer potentially miss a portion of the arc when the angle range was 360. - Fix: MimResize() will no longer potentially crash when using very large scale values on a 32-bit OS. - Fix: MimLocatePeak1d() will no longer potentially crash in rare situations and after a specific sequence of calls 4.14 Graphics - Fix: MgraArcFill() will no longer potentially write a full row or column when the radius is less than 0.5. - Fix: MbufSetRegion() from a graphics list containing high-level module drawings (MxxxDraw) will no longer crash when a 'rasterizing' option is used. - Fix: the angle of a line graphic will no longer be undefined when its end points are at the same position. - Fix: rotated rectangles in a graphic list will no longer be incorrectly rendered when the display has different X/Y zoom factors. - Fix: moving a vertex of a graphic using MgraControlList() with M_POSITION_X/Y or M_TRANSLATE_X/Y will no longer miss updating the global position of the graphic. - Fix: moving a line end point interactively will no longer forget updating the line position and angle. - Fix: interactively translating a polygon or polyline of size 0 will no longer change a vertex position instead. - Fix: interactively translating a circle or arc of size 0 will no longer change its start or end angle instead. - Fix: interactively resizing a polygon or polyline whose bounding box has a null width or height will no longer inconsistently resize the graphic. - Fix: a rectangle with its top left coordinate at (-0.5, -0.5) will no longer be rendered outside the buffer. - Fix: MmeasDraw() with M_DRAW_EDGES will now generate a graphic that can be selected both in pixel units and world units. - Fix: MgraInteractive() will no longer lead to unexpected behaviors when mouse events occur outside the MIL display. - Fix: MdispControl() with M_REGION_OUTSIDE_SHOW or M_REGION_INSIDE_SHOW will no longer incorrectly display an inherited region of a child buffer. - Fix: M_POSITION_X and M_POSITION_Y will no longer return invalid values when interactively defining a zero-sized line using MgraInteractive(). - Fix: interactively editing the start angle or the end angle of an arc will no longer generate empty arcs. 4.15 Utilities - Fix: Matrox Profiler will no longer potentially crash when the Windows operating system decimal symbol preference is set to &quot;,&quot; instead of &quot;.&quot;. - Fix: Matrox Profiler will no longer crash when moving a thread while running under .NET Framework 4.7 runtime. - Fix: Matrox Profiler will no longer potentially crash when closing it while &quot;Export to Text File&quot; is under execution. 5. Known limitations 5.01 Classification module - MclassPredict() called with image other than 8+M_UNSIGNED won't support regions (MbufSetRegion) properly. 5.02 Model Finder module - When a circle is found using a M_SHAPE_ELLIPSE context and a search region is specified, the angle of the returned circle occurrence can be outside the specified angle search range. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 18 : What's new with MIL 10 Update 63 for Processing Pack 2 Table of Contents for Section 18 1. Overview 2. New functionalities and improvements 2.1 SureDotOCR速 3. Quick reference 3.1 SureDotOCR速: how to set a string angle 3.2 SureDotOCR速: how to set a string italic angle 3.3 SureDotOCR速: how to delete a char entry ------------------------------------------------------------------------------- 1. Overview - MIL 10 Update 63 includes new functionalities, performance optimizations and general improvements for the MIL SureDotOCR速 module. - MIL 10 Update 63 is an update to MIL 10 Processing Pack 2 only. 2. New functionalities and improvements 2.1 SureDotOCR速 - Improvement: the read operation robustness and accuracy has been improved. - Improvement: the read operation now provides better character localization stability. - Improvement: the read operation speed has been greatly improved and specifying the string angle and orientation can provide additional speed improvement. - New: the string italic angle can now be specified using M_ITALIC_ANGLE_MODE and M_ITALIC_ANGLE control flags. - New: the string angle or orientation can now be specified using M_STRING_ANGLE_MODE, M_STRING_ANGLE and M_STRING_ANGLE_INPUT_UNITS control flags. - New : MdmrControlStringModel() with M_DELETE_PERMITTED_CHARS_ENTRY is now supported to delete an entry at a specific index. - New: MdmrDraw() now supports M_DRAW_MIL_FONT_FORMATTED_STRING. 3. Quick reference 3.1 SureDotOCR速: how to set a string angle - MdmrControl() with M_STRING_ANGLE_MODE control flag can be set to: . M_AUTO (M_DEFAULT): the string angle is automatically determined. . M_ANGLE: a fixed angle specified by the M_STRING_ANGLE control is used to read a string from left to right with the characters facing upward. . M_ORIENTATION: a fixed angle specified by the M_STRING_ANGLE control is used to read a string from left to right with the characters facing upward or from right to left with the characters facing downward. - MdmrControl() with M_STRING_ANGLE control flag can be set to a value from 0 to +360 degrees, or to M_DEFAULT (0 degrees) interpreted according to the M_STRING_ANGLE_INPUT_UNITS control. The M_STRING_ANGLE control flag can also be set to M_ACCORDING_TO_REGION to use the angle provided by a rectangular region associated to the target image. - MdmrControl() with M_STRING_ANGLE_INPUT_UNITS control flag can be set to: . M_PIXEL (M_DEFAULT) to use the pixel coordinate system. . M_WORLD to use the coordinate system of a calibrated target image. This control is ignored when M_STRING_ANGLE is set to M_ACCORDING_TO_REGION. 3.2 SureDotOCR速: how to set a string italic angle - MdmrControl() with M_ITALIC_ANGLE_MODE control flag can be set to: . M_AUTO (M_DEFAULT) : the italic angle is automatically determined. . M_ANGLE : a fixed italic angle specified by the M_ITALIC_ANGLE control is used. Note that the M_ITALIC_ANGLE_MODE must be set to M_AUTO (M_DEFAULT) if the M_STRING_ANGLE_MODE is set to M_AUTO (M_DEFAULT). - MdmrControl() with M_ITALIC_ANGLE control flag can be set to a value between -90 degrees and +90 degrees, or to M_DEFAULT (0 degrees). The italic angle value must be provided counter clockwise. Example: |&lt;-15尊&gt;/ / | / / | /------/ / / / / 3.3 SureDotOCR速: how to delete a char entry - MdmrControlStringModel() EntryIndex with M_DELETE_PERMITTED_CHARS_ENTRY can be set to: . a value between 0 and M_NUMBER_OF_PERMITTED_CHARS_ENTRIES-1 to delete a specific entry. . M_ALL (M_DEFAULT) to delete all entries. Example : MdmrControlStringModel(Ctx, M_STRING_LABEL(1), M_POSITION_IN_STRING(2), M_DELETE_PERMITTED_CHARS_ENTRY, 3, M_DEFAULT, M_NULL); ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 19 : Differences between MIL 10 Processing Pack 2 and Processing Pack 1 !!! ATTENTION MATROX DESIGN ASSISTANT 4 USERS !!! The installation of MIL 10, MIL 10 Processing Pack 1, MIL 10 Processing Pack 2 and Matrox Design Assistant 4 may lead to a problematic configuration. The installation of Matrox Design Assistant 4 Service Pack 1 will be required to rectify the configuration issue. Table of Contents for Section 19 1. Overview 2. New functionalities and improvements 2.01 MIL processing specific examples 2.02 Blob module 2.03 Calibration module 2.04 Code Reader module 2.05 Edge Finder module 2.06 Model Finder module 2.07 Registration module 2.08 Metrology module 2.09 Measurement module 2.10 Pattern Matching module 2.11 3dMap module 2.12 String Reader module 2.13 Ocr module 2.14 Dot Matrix module (SureDotOCR速) 2.15 Primitives 2.16 General 2.17 Utilities 2.18 Distributed MIL 2.19 MIL Help 3. Deprecated functionalities 3.01 Calibration module 3.02 Code Reader module 3.03 Pattern Matching module 3.04 Edge Finder module 3.05 Blob module 3.06 Primitives 3.07 General 4. Fixed bugs 4.01 Blob module 4.02 Calibration module 4.03 Code Reader module 4.04 Edge Finder module 4.05 Model Finder module 4.06 Metrology module 4.07 Measurement module 4.08 Pattern Matching module 4.09 Ocr module 4.10 3dMap module 4.11 Color module 4.12 Primitives 4.13 Interactive utilities 4.14 General 5. Known limitations and bugs 5.01 Interactive utilities 5.02 MIL add-on to Microsoft Visual Studio 5.03 MIL Help 5.04 Pattern Matching 5.05 General ------------------------------------------------------------------------------- 1. Overview - MIL 10 Processing Pack 2 includes all the features of MIL 10 Processing Pack 1. In addition, MIL 10 Processing Pack 2 includes new processing functionalities, performance optimizations, and general improvements such as: . new: Calibration support for partial grids, . new: Calibration support for chessboard grids with fiducial, . new: Model Finder dedicated ellipse shape matcher, . new: Registration support for depth from focus, . new: 3D alignment extended to unorganized clouds of points, . new: Dot Matrix reader module, . new: Code Reader default behaviour modes, . new: Primitives such as the integral image and texture statistics, . and many more to discover! - MIL 10 is the minimum requirement for all upcoming Processing Packs until the next major release. 2. New functionalities and improvements 2.01 MIL processing specific examples - New MIL MIL 10 Processing Pack 2 examples! - Note that the MIL 10 Update 37 is needed to get the images required for several examples, in particular for 3D processing examples. 2.02 Blob module - New: the blob module now has a new Context based API! See section 3.05 for more details about the new API. - New: M_BLOB_INDEX can now be used with MblobGetResult() to refer to blobs by index instead of label. - New: M_INDEX_VALUE can now be retrieved using MblobGetResult() to obtain the index corresponding to a blob label. - New: M_INDEX_VALUE can now be used as a criterion with MblobSelect(). - New: M_AVAILABLE can now be used with MblobGetResult() to inquire whether a feature was calculated. - New: MblobGetResult() with M_TOTAL_NUMBER_OF_CHAINED_PIXELS to retrieve the total number of chained pixels. - New: MblobGetResult() with M_TOTAL_NUMBER_OF_CONVEX_HULL_POINTS to retrieve the total number of convex hull points. - New: MblobGetResult() with M_TOTAL_NUMBER_OF_FERETS to retrieve the total number of ferets. - New: MblobGetResult() with M_NUMBER_OF_FERETS to retrieve the number of ferets. - New: MblobGetResult() with M_CALCULATION_TYPE to retrieve whether MblobCalculate() was done, and with which type of sources (binary only, or binary and grayscale). - New: M_BLOB_INDEX can be used with MblobDraw() to refer to blobs by index instead of label. - New: with the new Context based API, it is now possible to save, load and restore a blob context using MblobSave(), MblobRestore() and MblobStream(). - Improvement: MblobSelect() with M_LABEL_VALUE has been accelerated. - Improvement: MblobCalculate() and MblobGetResult() with sorting keys associated to enabled features have been accelerated. 2.03 Calibration module - New: M_GRID_PARTIAL can now be set to M_ENABLE to find calibration grids that partially fall outside the image. - New: M_GRID_SHAPE can be set to M_ANY when searching for partial non-rectangular grids. - New: M_GRID_HINT_ANGLE_X can now be used to specify the grid orientation when searching for partial grids. - New: McalGrid() RowNumber and ColumnNumber parameters can be set to M_UNKNOWN when searching for partial grids. - New: McalDraw() now supports M_DRAW_FIDUCIAL_BOX to draw a box around the grid's fiducial. - McalGrid() now supports chessboard grids with a Datamatrix fiducial. The Datamatrix fiducial encodes information about the grid such as the grid reference point, the orientation as well as the spacing. See McalControl() with M_GRID_FIDUCIAL. - New: McalFixture(M_LEARN_OFFSET, M_MODEL_PAT) now supports the new Pattern Matching API. - New: McalInquire() M_GRID_UNITS and M_GRID_UNIT_SHORT_NAME can now be inquired to retrieve the units encoded in the fiducial, after calling McalGrid() using a chessboard with fiducial. - New: a chessboard grid sample with fiducial is now provide in the Matrox Imaging\\images directory (ChessboardCalibrationGrid_Fiducial_Letter.pdf). - Improvement: the accuracy of the M_LINEAR_INTERPOLATION mode has been improved when the scale difference between the X and the Y coordinates is large. - Improvement: McalGrid() is now more robust when using chessboard cells which contains minor defects. - Improvement: McalGrid() has been accelerated for chessboard grids. - Improvement: McalGrid() is now more robust to very dark or very bright backgrounds. 2.04 Code Reader module - New: the Code Reader tool now supports the M_INITIALIZATION_MODE to change the default behaviour of the module alloc-time or control-time. The default behaviour can be set to a typical reading rate, or to an improved reading rate. The latter considers by default more degrees of freedom: any polarity, presence of distortion and non uniformity, angular position, flipped geometry, etc... - New: McodeControl() M_STRING_FORMAT can now be combined with M_UTF8 to retrieve a string using UTF-8 encoding. - New: The M_FOREGROUND_VALUE can now be set to M_FOREGROUND_ANY for M_DATAMATRIX, M_MAXICODE, M_PDF417, M_TRUNCATED_PDF417, M_GS1_DATABAR, M_COMPOSITECODE, M_PLANET, M_POSTNET, M_4_STATE, and M_PHARMACODE. - New: McodeGrade() now supports ISO 15415 and AIM-DPM grading for Aztec Rune. - New: McodeGrade() now supports grading an Aztec code from a read result. - New: Support the Aztec code detailed segment A and B results for the Fixed Pattern Damage. - M_FIXED_PATTERN_DAMAGE_A_GRADE to retrieve grade from segment A. - M_FIXED_PATTERN_DAMAGE_B_GRADE to retrieve grade from all segments B. - M_NUMBER_OF_FIXED_PATTERN_DAMAGE_B_SEGMENT to retrieve the number of segments B. - M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_A_GRADE to retrieve grade from segment A in the extended area. - M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_B_GRADE to retrieve grade from all segments B in the extended area. - Improvement: McodeRead() robustness to blurred images and to barcodes with poor modulation has been improved. - Improvement: McodeRead(), to read Datamatrix using the - Improvement: McodeRead(), to read Datamatrix using the M_PERSPECTIVE_UNEVEN_GRID_STEP mode or the M_UNEVEN_GRID_STEP mode, is now more robust to aliasing effects. - Improvement: McodeRead() DataMatrix detection in noisy images has been improved when M_DISTORTION is set to M_PERSPECTIVE_UNEVEN_GRID_STEP or M_UNEVEN_GRID_STEP. - Improvement: McodeRead() DataMatrix detection in noisy images has been improved when M_DISTORTION is set to M_PERSPECTIVE_UNEVEN_GRID_STEP and M_THRESHOLD_MODE is set to M_ADAPTIVE. - Improvement: Support read/write of empty string with 2D codes (except mode 2 and 3 Maxicodes and Aztec Rune) and cross-row codes. Datamatrix, QrCode, MicroQrCode, MaxiCode, Aztec, MicroPDF417, truncated PDF417, PDF417 accept 0 as a valid value for M_STRING_SIZE_MIN and M_STRING_SIZE_MAX. - Improvement: McodeRead() and McodeWrite() now supports the application identifiers 7005, 7006, 7007, 7008, 7009 and 7010 as specified in version 15 of the GS1 General Specifications document. - Improvement: McodeRead() robustness has been improved for M_MICROPDF417 when the M_USE_PRESEARCH is set to M_STAT_BASE. - Improvement: McodeRead() will now use the angle range to determine the string to return for M_PLANET and M_POSTNET codes in the rare cases it can be decoded in both directions. - McodeGetResult() now accepts + M_STRING_SIZE as combination value to M_STRING, and M_TEXT to retrieve the size of the corresponding string including the terminating null character (&quot;\\0&quot;). 2.05 Edge Finder module - New: M_CHAIN_APPROXIMATION can now be set to M_WORLD_LINE to perform the line approximation in world units. 2.06 Model Finder module - A new specialized M_SHAPE_ELLIPSE finder is now supported. - New: MmodFind() can now be used with an Edge result target when using M_SHAPE_CIRCLE context. - New: MmodInquire() M_HAS_DONT_CARE_MASK, M_HAS_FLAT_REGIONS_MASK, M_HAS_WEIGHT_REGIONS_MASK inquires to verify if one of the mask has been defined. - New: MmodControl() M_COVERAGE_MAX can now be used to set the expected maximum model coverage for shape (circles and ellipse) finder occurrences. - New: MmodControl() M_FIT_SCORE_MIN can now be used to set the expected minimum fit score for shape (circle and ellipse) finder occurrences. - New: MmodGetResult() M_SCORE_FIT can now be retrieved from a shape finder (circle and ellipse) result. - Improvement: MmodFind() in calibrated targets has been improved for M_SHAPE_CIRCLE context. - Improvement: the restoration of a context from a file has been accelerated. - Improvement: MmodFind() has been improved when matching a very large number of occurrences with an M_GEOMETRIC context. - Improvement: searching a synthetic circle model with an M_GEOMETRIC context has been improved for robustness. - Improvement: MmodFind() with an M_SHAPE_CIRCLE context has been improved when facing edges shaped in spiral. - Improvement: greediness of MmodFind() with an M_SHAPE_CIRCLE context has been dramatically decreased, thus improving the robustness. - Improvement: model size limitation has been increased up to 4K x 4K. 2.07 Registration module - New: MregCalculate can now process a stack of images to compute the corresponding depth from focus index map. 2.08 Metrology module - New: MmetCalculate() now supports M_NULL as a source image to calculate contexts which only contains constructed features. - New: MmetPut() to set external edgels to an M_EXTERNAL_FEATURE constructed edgel feature. - New: MmetControl() with M_ACTIVE to enable/disable a feature for the calculation. The feature and all its dependencies will fail accordingly. - New: A point feature can now be constructed from a measured point feature. For example, the construction of a point from the second point of a measured point feature along a segment region. - New: A local frame can now be constructed from a segment. The local frame is positioned at the centre of the segment and is oriented towards the segment end point. - New: M_FILL_GAP_ANGLE extraction control flag can now be set for measured features using MmetControl(). - New: M_FILL_GAP_DISTANCE extraction control flag can now be set for measured features using MmetControl(). - New: M_CLONE_FEATURE constructed edgel features now support regions. Only the edgels included in the region are cloned. - Improvement: edgels are now drawn as crosses when zoomed for better visual experience. 2.09 Measurement module - Improvement: the MmeasSetMarker(M_DRAW_PROFILE_SCALE_OFFSET) default behaviour is now set to M_AUTO_SCALE_PROFILE and M_AUTO_OFFSET_PROFILE. 2.10 Pattern Matching module - New: the pattern matching module now has a new Context based API! See section 3.03 for more details about the new API. - New: MpatGetResult(M_ANGLE) will no longer be restricted to rotated models, but is available for all model types. - New: MpatGetResult(M_INDEX) (formerly M_MODEL_INDEX) will no longer be restricted to M_FIND_BEST_MODELS results, but is available for all results. - New: In MpatGetResult(), it is now possible to add + M_AVAILABLE to a ResultType to determine whether a result is available. - New: MpatControl(M_NUMBER) with the new API, can now be set to 0 for a specific model in a Context. - New: MpatStream() with M_MEMORY is supported on remote systems. This was not the case for the model based deprecated API. - Improvement: MpatGetResult() can now be cast to a specific data type using + M_TYPE_MIL_... combination flags. - Improvement: MpatFind() with multiple models verifies that all models have the same size and use the same search region in the target image. If not, an error is generated. 2.11 3dMap module - New: M3dmapAlign() no longer has the constraint that the scene point cloud must be of M_LASER_SCAN type. It now supports M_UNORGANIZED scene point cloud. - New: M3dmapAlign now supports the extraction boxes using the following new control flags M_EXTRACTION_BOX_MODEL and M_EXTRACTION_BOX_SCENE set to M_USE. - new: M3dmapAlign() result can now return an M_NO_VALID_POINTS status. - New: M3dmapControl() M_ERROR_MINIMIZATION_METRIC control flag can be set to M_POINT_TO_POINT, M_POINT_TO_PLANE+M_USE_MODEL_NORMALS or M_POINT_TO_PLANE+M_USE_SCENE_NORMALS for an M_PAIRWISE_ALIGNMENT_CONTEXT. - New: M3dmapImport() now supports M_STL (.stl) 3d CAD file format. - New: M3dmapGetResult() has new combination constant M_INSIDE_EXTRACTION_BOX when retrieving the M_NUMBER_OF_3D_POINTS. - New: M3dmapGet() new M_INSIDE_EXTRACTION_BOX combination flag specifies to only return the points that are inside the extraction box defined using M3dmapSetBox(). - New: M3dmapGet() new M_PARTIAL_WRITE combination flag specifies to output into the destination arrays even if they are not large enough to hold all the elements. - New: M3dmapArith() with M_DIST_NN to compute the euclidean distance between two depth maps. - New: M3dmapArith() with M_DIST_NN_SIGNED to compute the signed euclidean distance between two depth maps. - New: M3dmapArith() with M_VALIDITY_MAP to compute the validity map of the pixels from two depth maps. - New: M3dmapInquire() with M_POINT_CLOUD_INDEX_VALUE and M_POINT_CLOUD_LABEL_VALUE now return M_INVALID when using an invalid point cloud label or index. - Improvement: M3dmapArith() has been accelerated for multi-core architecture (MP). 2.12 String Reader module - MstrGetResult() now accepts + M_STRING_SIZE as combination value to M_STRING, M_TEXT, M_FORMATTED_STRING to retrieve the size of the corresponding string including the terminating null character (&quot;\\0&quot;). - MstrInquire() now accepts + M_STRING_SIZE as combination value to M_CONSTRAINT and M_DEFAULT_CONSTRAINT to retrieve the size of the corresponding string including the terminating null character (&quot;\\0&quot;). 2.13 Ocr module - MocrGetResult() now accepts + M_STRING_SIZE as combination value to M_STRING to retrieve the size of the corresponding string including the terminating null character (&quot;\\0&quot;). - MocrInquire() now accepts + M_STRING_SIZE as combination value to M_CONSTRAINT to retrieve the size of the corresponding string including the terminating null character (&quot;\\0&quot;). 2.14 Dot Matrix module (SureDotOCR速) - New: A Dot Matrix Reader module to read a dot matrix string of characters such as expiry dates and lot numbers. The module supports font definitions, string model definitions, and string constraints. 2.15 Primitives - New: MimArith() M_INTEGRAL operation to calculate the integral image of a source buffer. - New: MbufInquire() with M_NUMBER_OF_ELEMENT_VALUES_VALID to retrieve the number of non M_DONT_CARE elements in a structuring element. - New: MimConvolve() predefined M_SOBEL_X, M_SOBEL_Y, M_PREWITT_X and M_PREWITT_Y kernels are now supported. - New: MimProjection() to obtain the sum, minimum, maximum or median projections of a source buffer. - New: MimProjection() now accepts an image as destination. - New: MimStatCalculate() to calculate image statistics, cumulative statistics, windowed statistics, and co-occurrence based statistics. - New: MimStatCalculate() can now returns an M_ORIENTATION_DATA_COHERENCE value associated to the M_ORIENTATION_DATA_MEAN statistics. - New: MimDraw() with M_DRAW_IMAGE_ORIENTATION now supports a graphic list as a destination. - New: MimPolarTransform() can now generate the X/Y LUTs that can be used with MimWarp(M_WARP_LUT). - New: MimTranslate() can now be used to generate the equivalent warp matrix. - New: MimResize() can now be used to generate the equivalent warp matrix. - New: MimRotate() can now be used to generate the equivalent warp matrix. - New: MbufGetLine() can now be used to obtain the coordinates of the pixels. - New: MimWarpList() to warp X, Y arrays of sources positions to X, Y arrays of destination positions. - New: MimConvert() can now be used to convert an sRGB image to/from the CIELab colour space. - New: MimConvert() can now be used to convert an sRGB image to/from the CIELch colour space. - New: McolDistance() now supports the CIE Delta E distance to measure the distance between colours in the perceptually uniform Lab colour space. - New: MimBinarize() auto-threshold modes now supports regions. - New: MbufChildColor now supports M_ALL_BAND to easily create a full sized child. - New: MimDilate() and MimErode() now support M_BINARY_ULTIMATE_ACCUMULATE. - New: MbufGetList() and MbufPutList() functions to set/get pixel values at arbitrary positions. - New: MimProjection() now supports the M_MEAN projection mode. - New: MbufGetArc() now supports returning the arc positions. - Improvement: MimResize(M_NEAREST_NEIGHBOR) has been optimized for binary buffers. - Improvement: MimPolarTransform(M_POLAR_TO_RECTANGULAR) accuracy has been improved for large radii. - Improvement: subpixel annotations are now available for MimLocatePeak1d() results when calling MimDraw() with M_DRAW_PEAKS + M_CROSS. - Improvement: MgraArcFill() and MgraArc() results and speed have been improved. - Improvement: MbufGetLine() and MbufPutLine() now support providing the start and end positions outside the buffer limits. 2.16 General - New: MdigProcess() now supports M_REGION_DELETE_AT_EACH_FRAME to delete any region that could have been associated to the modified buffer in a previous iteration. - New: MfuncAllocScript(M_INTERPRETER_C_PYTHON35) to allocate a script-based user-defined function for Python 3.5. - New: MIL for Python now supports the MIL_FONT_NAME() functionality. - New: MIL for Python now supports the M_PTR_TO_DOUBLE() functionality. - New: MdigProcess() now supports M_REGION_DELETE_AT_EACH_FRAME to force deleting any ROI that could have been associated to the modified buffer in a previous iteration. 2.17 Utilities - The DispD3D DLL utility now offers to: - set the initial 3d view of the scene, - optionally display the point clouds relative coordinate systems, - optionally display a point cloud's extraction box. 2.18 Distributed MIL - Improvement: the default cluster type has been changed from single to multiple clusters, unless Distributed MIL Server Process or Cluster Type settings in MILConfig have been modified prior to this update. 2.19 MIL Help - New: The Filters button displays a Filter Values by dialog box with a list of different possible filters. The Filter Values dialog box can also be opened using the Filters menu item in the grey bar. Choose the filter you want, and then press Apply. The filters only apply to values within tables. Note that filters are not persistent between different pages, or when you change page display settings, such as the MIL Systems settings or the detailed/summarized view. A dialog prompt will appear when a setting change causes your filters to reset. - New: Function descriptions and parameters can now be collapsed. Click on the arrow head to the left of the description or parameter title and it will hide (collapse) everything inside that title. This functionality is similar to clicking on the arrow heads to the left of a parameter name (in a parameter association table) or a value (in a table). - New: Some concepts in the User Guide are now described using animations (for example, fixturing). - Improvement: Constant values listed in the index now jump to their description on their reference page (instead of jumping to the top of the page). - Improvement: The data type of the address to pass to void parameters is now always described near the independent parameter value that establishes the required data type. 3. Deprecated functionalities 3.01 Calibration module - M_GRID_CORNER_HINT_X is deprecated and replaced by M_GRID_HINT_PIXEL_X. - M_GRID_CORNER_HINT_Y is deprecated and replaced by M_GRID_HINT_PIXEL_Y. - McalGrid() combination flags M_Y_AXIS_UP and M_Y_AXIS_DOWN are deprecated and replaced by M_Y_AXIS_COUNTER_CLOCKWISE and M_Y_AXIS_CLOCKWISE. - McalInquire() M_Y_AXIS_UP flag is deprecated and replaced by M_Y_AXIS_DIRECTION. 3.02 Code Reader module - M_DOT_SPACING is deprecated and replaced by the range of spacing values defined by M_DOT_SPACING_MIN and M_DOT_SPACING_MAX. 3.03 Pattern Matching module - The &quot;model based&quot; Pattern Matching API has been deprecated and replaced by the following &quot;context based&quot; Pattern Matching API: - MpatAllocAutoModel() is replaced by MpatAlloc() + MpatDefine(M_AUTO_MODEL). - MpatAllocModel() is replaced by MpatAlloc() + MpatDefine(M_REGULAR_MODEL). - MpatAllocRotatedModel() is replaced by MpatAlloc() + MpatDefine(M_REGULAR_MODEL) with the M_SEARCH_ANGLE_MODE set to a specific value, and the M_SEARCH_ANGLE_DELTA_NEG/POS set to 0. - MpatCopy() is replaced by MpatDraw(). - MpatFindModel() is replaced by MpatFind(). - MpatFindMultipleModel() is replaced by MpatFind() with MpatControl(M_SEARCH_MODE). - MpatPreprocModel() is replaced by MpatPreprocess(). - MpatGetNumber() is replaced by MpatGetResult(M_NUMBER). - MpatSetAcceptance() is replaced by MpatControl(M_ACCEPTANCE). - MpatSetAccuracy() is replaced by MpatControl(M_ACCURACY). - MpatSetAngle() is replaced by MpatControl(). - MpatSetCenter() is replaced by MpatControl() with M_REFERENCE_X and M_REFERENCE_Y flags. - MpatSetCertainty() is replaced by MpatControl(M_CERTAINTY). - MpatSetDontCare() is replaced by MpatMask(). - MpatSetNumber() is replaced by MpatControl(M_NUMBER). - MpatSetPosition() is replaced by MpatControl() with M_SEARCH_OFFSET_X, M_SEARCH_OFFSET_Y, M_SEARCH_SIZE_X and M_SEARCH_SIZE_Y flags. - MpatSetSearchParameter() is replaced by MpatControl(). - MpatSetSpeed() is replaced by MpatControl(M_SPEED). If required, declare the #define M_MIL_WARN_ON_DEPRECATED_MPAT directive set to 0 to discard the compilation warnings associated to the use of the deprecated Mpat... APIs. - Note that the prototypes of MpatSave() and MpatRestore() have been changed for symmetry with other MIL save/restore APIs. While function overloads exist to preserve the compatibility with former versions, we strongly recommend upgrading to the new API. - Note that the prototypes of MpatInquire() and MpatGetResult() have been changed to accommodate a new Index parameter. While function overloads exist to preserve the compatibility with former versions, we strongly recommend upgrading to the new Pattern Matching APIs. - Note to C users: function prototypes for MpatInquire, MpatGetResult, MpatSaveA, MpatRestoreA, MpatSaveW, MpatRestoreW, MpatSave, and MpatRestore have changed. By default, these functions map to the old prototype to preserve backward compatibility. C users must add &quot;#define M_USE_OLD_MPAT_API_IN_C 0&quot; before including &quot;mil.h&quot; to use the new prototypes. - M_ACCEPTANCE_THRESHOLD is deprecated and replaced by M_ACCEPTANCE in MpatInquire(). - M_CERTAINTY_THRESHOLD is deprecated and replaced by M_CERTAINTY in MpatInquire(). - M_CENTER_X is deprecated and replaced by M_REFERENCE_X in MpatInquire(). - M_CENTER_Y is deprecated and replaced by M_REFERENCE_Y in MpatInquire(). - M_POSITION_ACCURACY is deprecated and replaced by M_ACCURACY in MpatInquire(). - M_NUMBER_OF_OCCURRENCES is deprecated and replaced by M_NUMBER in MpatInquire(). - M_MIN_SPACING_X is deprecated and replaced by M_MIN_SEPARATION_X in MpatInquire() and MpatSetSearchParameter(). - M_MIN_SPACING_Y is deprecated and replaced by M_MIN_SEPARATION_Y in MpatInquire() and MpatSetSearchParameter(). - M_POSITION_START_X is deprecated and replaced by M_SEARCH_OFFSET_X in MpatInquire(). - M_POSITION_START_Y is deprecated and replaced by M_SEARCH_OFFSET_Y in MpatInquire(). - M_POSITION_UNCERTAINTY_X is deprecated and replaced by M_SEARCH_SIZE_X in MpatInquire(). - M_POSITION_UNCERTAINTY_Y is deprecated and replaced by M_SEARCH_SIZE_Y in MpatInquire(). - M_MODEL_INDEX is deprecated and replaced by M_INDEX in MpatGetResult(). - MpatAllocResult() NbEntries parameter has been replaced by ControlFlag and must now be set to M_DEFAULT when using the new API. - MpatInquire(M_ALLOC_TYPE) is deprecated in the new API and replaced by MpatInquire(M_CONTEXT_TYPE) and MpatInquire(M_MODEL_TYPE). - Note that an old Pattern Matching model file can be restored into a new Pattern matching context using MpatRestore() with the ControlFlag set to M_PAT_MODEL_TO_CONTEXT. To restore additional model files into a context, use MpatStream(M_LOAD) with the control flag set to M_PAT_MODEL_TO_CONTEXT. Ex: MIL_ID CtxId = MpatRestore(MIL_TEXT(&quot;Old1.mod&quot;), SysId, M_PAT_MODEL_TO_CONTEXT, M_NULL); MpatStream(MIL_TEXT(&quot;Old2.mod&quot;), M_NULL, M_LOAD, M_FILE, M_DEFAULT, M_PAT_MODEL_TO_CONTEXT, &amp;CtxId, M_NULL); MpatStream(MIL_TEXT(&quot;Old3.mod&quot;), M_NULL, M_LOAD, M_FILE, M_DEFAULT, M_PAT_MODEL_TO_CONTEXT, &amp;CtxId, M_NULL); MpatStream(MIL_TEXT(&quot;Old4.mod&quot;), M_NULL, M_LOAD, M_FILE, M_DEFAULT, M_PAT_MODEL_TO_CONTEXT, &amp;CtxId, M_NULL); 3.04 Edge Finder module - M_GENERAL_FERET is now deprecated and replaced by M_FERET_GENERAL. - M_GENERAL_FERET_ANGLE is now deprecated and replaced by M_FERET_GENERAL_ANGLE. - M_DRAW_GENERAL_FERET is now deprecated and replaced by M_DRAW_FERET_GENERAL. 3.05 Blob module - MblobControl() M_LATTICE is deprecated and replaced by M_CONNECTIVITY. - M_GENERAL_FERET is deprecated and replaced by M_FERET_GENERAL. - M_GENERAL_MOMENT is deprecated and replaced by M_MOMENT_GENERAL. - M_ALL_FERETS is deprecated and replaced by M_FERET_DIAMETERS. - The &quot;feature list based&quot; blob API has been deprecated and replaced by the following &quot;context based&quot; blob API: - MblobAllocFeatureList() is replaced by MblobAlloc(). - MblobCalculate() parameters have changed when using a blob context: MblobCalculate(IdentImBufId, GrayImBufId, FeatureListId, ResultId) is now replaced by: MblobCalculate(ContextId, IdentImBufId, GrayImBufId, ResultId) - MblobAllocResult() has new parameters for symmetry with other modules. - MblobGetResult() has a new parameter LabelOrIndex. LabelOrIndex can be set to M_DEFAULT (= M_GENERAL or M_INCLUDED_BLOBS depending on the specified ResultType). - MblobSelectFeature() is replaced by MblobControl() to enable/disable the calculation of blob features. In addition: - MblobSelectFeature(M_XXX + M_FERET_CONTACT_POINTS_XXXX) is now: - MblobControl(M_FERET_CONTACT_POINTS, M_ENABLE) - MblobControl(M_GROUP_WITH_M_XXX, M_ENABLE) - MblobSelectFeature(M_XXX + M_SORTn_DOWN/M_SORTn_UP/M_NO_SORT) is now: - MblobControl(M_SORTn, M_XXX / M_NO_SORT) with - MblobControl(M_SORTn_DIRECTION, M_SORT_UP / M_SORT_DOWN) with M_XXX a sortable ResultType. - MblobSelectFeature(M_AREA) has no MblobControl() since this feature is always calculated. - MblobSelectFeature(M_NO_FEATURES) is replaced by MblobControl(M_ALL_FEATURES, M_DISABLE). - MblobSelectMoment() is replaced by: - MblobControl(M_MOMENT_GENERAL + [M_BINARY / M_GRAYSCALE], M_ENABLE) - MblobControl(M_MOMENT_GENERAL_MODE, M_CENTRAL / M_ORDINARY) - MblobControl(M_MOMENT_GENERAL_ORDER_X) - MblobControl(M_MOMENT_GENERAL_ORDER_Y). - MblobSelectFeret() is replaced by: - MblobControl(M_FERET_GENERAL) and - MblobControl(M_FERET_GENERAL_ANGLE) - MblobGetNumber() is replaced by MblobGetResult(M_NUMBER). - MblobGetResultSingle() is replaced by MblobGetResult() using the M_BLOB_LABEL() macro to specify the LabelOrIndex parameter. - MblobGetRuns() is replaced by MblobGetResult() with M_RUN_X, M_RUN_Y and M_RUN_LENGTH. The size of the array can be retrieved using MblobGetResult(M_TOTAL_NUMBER_OF_RUNS). - MblobFill() is replaced by MblobDraw(M_DRAW_BLOBS). - The ContextGraId is used to specify the value with which to fill the blobs. - Add &quot;M_DRAW_BLOBS_CONTOUR + M_DRAW_HOLES_CONTOUR&quot; to the operation to specify that the blob's borders should be filled (same result as the deprecated MblobFill(+M_CONTOUR) operation). - Note that MblobDraw() does not propagate the calibration. - The following controls, that previously apply to a blob result, are deprecated and now apply to the new &quot;context based&quot; blob, so it can be saved and restored: - M_BLOB_IDENTIFICATION - M_FERET_ANGLE_SEARCH_END - M_FERET_ANGLE_SEARCH_START - M_FOREGROUND_VALUE - M_IDENTIFIER_TYPE - M_CONNECTIVITY (formerly named M_LATTICE) - M_NUMBER_OF_FERETS - M_TIMEOUT - M_PIXEL_ASPECT_RATIO - M_MAX_BLOBS - M_RETURN_PARTIAL_RESULTS - M_SAVE_RUNS Note to C users: function prototypes for MblobAllocResult and MblobGetResult have changed. By default, these functions map to the old prototype to preserve backward compatibility. C users must add &quot;#define M_USE_OLD_MBLOB_API_IN_C 0&quot; before including &quot;mil.h&quot; to use the new prototypes. 3.06 Primitives - MimProject() is deprecated and replaced by MimProjection(). For example, MimProject(SrcId, ProjListOrDestId, M_0_DEGREE) is replaced by MimProjection(SrcId, ProjListOrDestId, M_0_DEGREE, M_SUM, M_NULL) - M_DCT8x8 control value is deprecated and replaced by M_DCT8X8. - MimStat() is deprecated and is replaced by MimStatCalculate(). For example: MimAllocResult( SystemId, M_DEFAULT, M_STAT_LIST, &amp;StatResultId); ... MimStat(ImageId, StatResultId, M_SUM + M_MIN, M_IN_RANGE, 3, 24); MimGetResult(StatResultId, M_SUM, &amp;SumVar); ... MimFree(StatResultId); is deprecated and must be replaced by: MimAlloc( SystemId, M_STATISTICS_CONTEXT, M_DEFAULT, &amp;StatContextId); MimAllocResult( SystemId, M_DEFAULT, M_STATISTICS_RESULT, &amp;StatResultId); MimControl(StatContextId, M_SUM, M_ENABLE); MimControl(StatContextId, M_MIN, M_ENABLE); MimControl(StatContextId, M_CONDITION, M_IN_RANGE); MimControl(StatContextId, M_COND_LOW, 3); MimControl(StatContextId, M_COND_HIGH, 24); ... MimStatCalculate(StatContextId, ImageId, StatResultId, M_DEFAULT); MimGetResult(StatResultId, M_SUM, &amp;SumVar); ... MimFree(StatResultId); MimFree(StatContextId); - MimStatMultiple() is deprecated and replaced by MimStatCalculate. MimAlloc: M_STAT_MULTIPLE_CONTEXT becomes M_STATISTICS_CUMULATIVE_CONTEXT. MimAllocResult: M_STAT_MULTIPLE_RESULT becomes M_STATISTICS_RESULT. - MimResize M_FAST and M_REGULAR control values are now deprecated. 3.07 General - MbufControlNeighborhood() is deprecated and replaced by MbufControl(). - Deprecated MIL functions are not available in the MIL Python Wrapper. - MappControlObject and MappInquireObject are deprecated and replaced by MobjControl and MobjInquire. 4. Fixed bugs 4.01 Blob module - MblobDraw(M_DRAW_CONVEX_HULL) will no longer draw only a single point when the convex hull contains 2 points. - MblobCalculate will no longer potentially crash in rare situations when M_LABELED_TOUCHING is set to M_BLOB_IDENTIFICATION. - MblobMerge() will no longer crash when the SrcResult2 is set to M_NULL. - MblobMerge() will no longer crash when using a result invalidated by a call to MblobControl(). - MblobSelect() with M_BLOB_TOUCHING_IMAGE_BORDERS will no longer lead to invalid results when using M_MERGE. - MblobGetResult(M_BLOB_TOUCHING_IMAGE_BORDERS) will no longer lead to invalid results or potentially crash when some blobs are excluded or deleted. - MblobSelect() with M_BLOB_TOUCHING_IMAGE_BORDERS will no longer result in a crash when M_SAVE_RUNS is set to M_DISABLE. - MblobDraw() will no longer result in a crash when providing an invalid label. - MblobSelect() will no longer crash when using M_MERGE along with sorting keys. - MblobSelect() will no longer miss reporting an error when used on a result which has never been calculated. - The module will no longer miss reporting an error when M_SAVE_RUNS feature is disabled wile required for the calculation of the blob convex hull and for the calculation of the ferets when the number of ferets is set to infinite. - MblobControl() with M_FERET_ANGLE_SEARCH_START and/or M_FERET_ANGLE_SEARCH_END will no longer discard the result when the value remains unchanged. - MblobCalculate() will no longer perform a calculation instead of an expected post-calculation when buffer(s) are allocated on a different system than the system of the blob objects (context/result). 4.02 Calibration module - McalSetCoordinateSystem() will behave correctly when using M_ROTATION_AXIS_ANGLE with a non-unit axis vector. - McalGrid() will no longer crash when using a circle grid with calibration dots that consist of pure black pixels only. - McalFixture(M_LEARN_OFFSET, M_MODEL_MOD) will no longer generate an error when using a circle shape (M_SHAPE_CIRCLE) context. - McalGrid() with a non-null GridOffsetZ will no longer lead to invalid results when transforming coordinates. - McalGrid() and McalList() will no longer potentially crash due to numerical instabilities when using the M_3D_ROBOTICS mode. - McalGrid() will no longer potentially fail calibrating from a square chessboard oriented at about 45 degrees when no user hint point is provided. - McalFixture() with an M_RESULT_PAT will no longer ignore the region angle. - McalUniform() will no longer forget to reset the relative coordinate system. - McalControl() no longer interpret M_DEFAULT as a value for the controls M_PRINCIPAL_POINT_X and M_PRINCIPAL_POINT_Y. 4.03 Code Reader module - McodeRead() will no longer rarely fail to read QrCode Model 2 version 1 and QrCode Model 1 when M_DISTORTION is set to M_UNEVEN_GRID_STEP. - McodeGrade() will no longer rarely fail to grade QrCode Model 2 version 1 and QrCode Model 1 when M_DISTORTION is set to M_UNEVEN_GRID_STEP. - McodeRead() will no longer potentially return an M_STATUS_READ_OK and a wrong position results when a time-out occurs. - McodeGrade() will no longer return several wrong ISO and AIM-DPM grades when grading flipped Datamatrix, Aztec, QrCode or MicroQrCode. - McodeGrade() will no longer potentially return the wrong grade of version information when grading a QrCode. - McodeGrade() will no longer return wrong grades for Datamatrix, Aztec, QrCode or MicroQrCode, when the extended area partly falls outside the image. - McodeRead() will no longer crash when reading a composite code using a small time-out. - McodeRead() will no longer crash when reading M_MAXICODE with an M_DOT_SPACING sets to a non null value. - McodeRead() will no longer return a wrong string when reading a PDF417 or truncated PDF417 while most of the code error detection capacity is used. - McodeGrade() will no longer fail when grading a GS1-128 composite code. - McodeRead() will no longer potentially perform short read of M_PHARMACODE codes when the M_SEARCH_ANGLE_STEP is enabled. - The grading of Interleaved 2 of 5 start and end codes will no longer be wrongly computed. - M_FOREGROUND_VALUE sets to M_FOREGROUND_ANY will now be correctly handled for Aztec, MicroQr and Qr codes when M_DOT_SPACING is set to a non null value. - McodeGrade() will no longer ignore the M_FLIP control flag value when grading 1D code. - McodeGrade() will no longer potentially return a wrong grade for the few farthest top and bottom scan lines when grading very long 1D barcode (~450 pixels and more). - McodeRead() with M_DISTORTION set to M_PERSPECTIVE_UNEVEN_GRID_STEP will no longer potentially crash in images of high complexity. - McodeRead() will no longer try decoding the same region twice when M_USE_PRESEARCH is set to M_STAT_BASE, in some particular situations. - McodeRead() will no longer potentially fail when reading in a green or blue child band buffer with an associated region at angle. - McodeRead() will no longer potentially crash when using a large scan line height with a position accuracy set to high. - McodeRead() will no longer convert Aztec code FNC1 to &lt;GS&gt; when the string format is not set to M_GS1_RAW_DATA. - McodeRead() will no longer return an invalid string when the number of detected errors is greater than the error capacity for an Aztec code. - McodeGrade() for Interleaved 2 of 5 will no longer return an erroneous Decode Grade 'F' for a given scan reflectance profile. - McodeRead() could return a wrong position for M_MICROPDF417. This is no longer the case. - McodeRead() will no longer return an invalid string for M_4_STATE codes when the M_ENCODING is set to M_ENC_US_MAIL. - McodeRead() will no longer ignore the validation of the Delivery Point Suffix (DPS) at the end of a UK Mail string. - McodeRead() will no longer ignore the value of the M_CODE_FLIP control for M_4_STATE, M_PLANET and M_POSTNET codes. - In very rare situations, McodeRead() could return two results for a single linear code. This is no longer the case. - McodeRead() will no longer take into account the value of M_CODE_FLIP for M_PHARMACODE as it can always be read in both direction. McodeRead() will only use the search angle range instead. - McodeRead() and McodeGrade() will no longer terminate with an exception when reading or grading in some rare situations of QR-Code. - McodeVerify() potential minor memory leak has been fixed. - McodeGrade() will no longer potentially return a wrong Datamatrix grades for L1 and L2 segments for the fixed pattern damage. 4.04 Edge Finder module - MedgeCalculate will no longer lead to erroneous edges when using a 16 bit signed source buffer. - The module will no longer return inconsistent calibrated and uncalibrated results after applying a rare combination of selections, including a relational selection. 4.05 Model Finder module - M_SHAPE_CIRCLE occurrences will no longer be retrieved outside the search region when using a reference point different from the default centre point. - M_SHAPE_CIRCLE context will no longer use an erroneous search region when the target is calibrated. - M_SHAPE_CIRCLE context could potentially crash in rare situations. - Generally speaking, a few bug fixes are improving the robustness of an M_SHAPE_CIRCLE context. - MmodFind() will no longer crash when matching an M_GEOMETRIC or an M_GEOMETRIC_CONTROLLED context with an M_SHAPE_CIRCLE result buffer. - When using an M_SHAPE_CIRCLE context, the M_SCALE result and the forward and reverse coefficients will no longer be wrong when returned in pixel units. - The M_POLARITY result will no longer be reversed for an M_SHAPE_CIRCLE context when the Y axis coordinate of the calibration is up. - MmodControl() with a M_SHAPE_CIRCLE result will no longer generated an error when the Index is set to M_DEFAULT. - MmodFind() with an M_SHAPE_CIRCLE context will no longer potentially crash when the time-out setting is disabled. - MmodFind() with an M_SHAPE_CIRCLE context will no longer potentially return an occurrence with a model coverage score greater than 100. - MmodDraw() will no longer sometime let some initialized pixels when drawing a model image. - MmodPreprocess() will no longer potentially crash, in very rare conditions, for a Geometric Controlled context. - Two occurrences will no longer potentially share some same edges when M_SHARED_EDGES is set to M_DISABLE for a M_GEOMETRIC Context. 4.06 Metrology module - Constructed inner fit and outer fit segment will no longer potentially result in erroneous result. - The extremities of a fitted arc will no longer be potentially wrongly determined when the parent frame is rotated. - An extremity of a fitted arc will no longer be potentially wrongly found when its sub-pixel location falls outside the ring sector region. - Constructed fitted features will no longer ignore the region. The feature is now determined using the data included into the region. - The construction of a point derived from circle will no longer lead to invalid results when moving the parent local frame. - Cloning a multiple measured point feature will no longer clone a single point only. - In rare situations, the fit of a segment could lead to an invalid result. This is no longer the case. - MmetStream() will no longer crash when the ObjectIdPtr is set to M_NULL. - The minimum distance tolerance between a segment and an arc will no longer return the wrong value, in a specific configuration of the features. - A constructed intersection point between a circle and another feature, such as an arc, will no longer potentially lead to the wrong constructed point. - The minimum distance between a circle and a segment will no longer return an erroneous result in some configurations of the two geometries. 4.07 Measurement module - MmeasSetMarker(M_DRAW_PROFILE_SCALE_OFFSET) will no longer report an error when set to M_AUTO_SCALE_PROFILE or M_AUTO_OFFSET_PROFILE. 4.08 Pattern Matching module - Calls to MpatFind() (formerly MpatFindModel) will no longer potentially modify the M_RESULT_OUTPUT_UNITS state. - MpatPreprocess() (formerly MpatPreprocModel) will now return an error message when an error occurred during the preprocessing operation and inquiring M_PREPROCESSED will return M_FALSE in this situation. - MpatFind() (formerly MpatFindModel) will no longer potentially find less occurrences than expected when the angular search and the M_SEARCH_ANGLE_ACCURACY are enabled. - MpatRestore()/MpatStream() will no longer crash when loading a corrupted model file. - Improvement: MpatFind() (formerly MpatFindModel) will no longer use a different rounding mode to calculate the score when using the AVX2 instruction set. - In rare situations, MpatFind() (formerly MpatFindModel) could eliminate good occurrences when using a first level greater than 0. This is no longer the case. - In rare situations, MpatFind() (formerly MpatFindModel) could return occurrences with a null score. This is no longer the case. - MpatFind() (formerly MpatFindModel) will no longer fail to find occurrences on the border of the search region. - MpatFind() (formerly MpatFindModel) will no longer potentially find occurrences outside the limits of the search region. - MpatGetResult(M_ANGLE) with M_RESULT_OUTPUT_UNITS result setting set to M_WORLD was not transformed in world coordinates system. This is no longer the case. - The deprecated MpatFindMultipleModel() will no longer return invalid results when using a region with M_SEARCH_ANGLE set to a value other than 0. It will now generate an error. - The deprecated MpatFindMultipleModel(M_FIND_BEST_MODELS) will no longer wrongly return results relative to the region but relative to the target image. - The deprecated MpatSetSearchParameter() with a ControlValue of 1409 will no longer be erroneously converted to -32768 for ControlType M_ALLOC_OFFSET_X, M_ALLOC_OFFSET_Y and M_COARSE_SEARCH_ACCEPTANCE. - The deprecated MpatSetSearchParameter() with a ControlValue of 1409 will no longer erroneously set the control to its default value for ControlType M_LAST_LEVEL, M_FAST_FIND, M_MODEL_STEP, M_MIN_SEPARATION_X, M_MIN_SEPARATION_Y and M_MAX_INITIAL_PEAKS. - In general, the Pattern Matching parameter checking has been improved with the new API and is now more strict. 4.09 Ocr module - MocrGetResult() will no longer crash when retrieving the results with the M_SELECT_STRING control set to M_ALL. - MocrGetResult() will no longer pop an error message when retrieving the result M_STRING + MIL_TEXT_CHAR with the result control M_SELECT_STRING sets to M_ALL. 4.10 3dMap module - M3dmapExtract() will no longer generate incorrect associated calibrations to destination child buffers. - M3dmapPut() now correctly handles invalid points (at least one of the coordinate is set to M_INVALID_POINT). - M3dmapAlign() RMS error M_ALIGN_RMS_ERROR_THRESHOLD and M_ALIGN_RMS_ERROR_RELATIVE_THRESHOLD stop conditions are now tested using '&lt;=' as documented instead of '&lt;'. - M3dmapAlign() will no longer lead to invalid results when using a user defined pre-alignment while the M_PREALIGNMENT_MODE control is set to M_CENTROID. - M3dmapGet() with M_INTENSITY now returns 0 as the intensity when the point is invalid. - M3dmapExtract() with a context allocated on a remote system and image buffers allocated on a local system will now correctly associate a calibration to the image buffers. 4.11 Color module - McolTransform() with a relative color calibration context using the M_COMPUTE_ITEM_STAT method will no longer produce saturated images when using color triplets as references. 4.12 Primitives - MimMorphic(), with M_THICK and M_THIN, will no longer ignore values other than 0, 1 and M_DONT_CARE in a structuring element and will consider it as ones. - The M_ORIENTATION_DATA_MEAN statistics will no longer return an invalid orientation when the whole image is at a multiple of 90 degrees. - MimResize will now properly generate an error when up-scaling an image using M_FILL_DESTINATION with the M_AVERAGE, M_MIN and M_MAX modes. - MimDraw() with M_DRAW_DEAD_PIXELS will now fill the image with 0 and buffer maximum value instead of zeros and ones. - MimLocatePeak1d() will no longer miss finding peaks after a peak with its width exceeding the maximum allowed value was detected. - MimGetResult1d output type will now correctly defaults to MIL_INT when an M_FIND_ORIENTATION_LIST was not allocated with the M_FLOAT attribute. - MimDraw() will no longer erroneously draw an undecimated centered wavelet decomposition result. 4.13 Interactive utilities - Flipped DIB buffers were not properly handled in the module UIs. The copy-paste of a MIL display into a UI will no longer fail. - The CodeReader GUI will no longer pop an error message when drawing a read results after reading twice on a disk sequence, using child buffer, and with the &quot;Do Process All&quot; option enabled. 4.14 General - The MIL display will no longer ignore the mouse events when the displayed buffer has a region of interest, the display has an associated graphics list, and when interactivity is enabled. 5. Known limitations and bugs 5.01 Interactive utilities - In Inspector, the spacing and spacing variation controls are deprecated and should have been grayed-out. 5.02 MIL add-on to Microsoft Visual Studio - If both MIL 32-bits and 64-bits are installed on the same system but only one of the installations is updated using MIL 10 Processing Pack 1, the MIL add-on will nevertheless show up in both cases suggesting the most recent MIL flags. 5.03 MIL Help - CHM based help files does not work properly under the following circumstances: . The operating System is Windows 7 embedded . The latest Windows updates, including IE11, are applied to the system . The user is logged in as a standard user (i.e part of the Users group) A work around is to log in with administrator privileges. 5.04 Pattern Matching - MpatGetResult() with M_SUM_I, M_SUM_II, M_SUM_IM, M_SUM_M, M_SUM_MM and M_NUMBER_OF_PIXELS are not available in M_FIND_BEST_MODELS mode although M_SAVE_SUMS is set to M_ENABLE. 5.05 General - When using MIL MfuncAllocScript() with Python 2.7.11, you must set the following additional environment variable PYTHONHOME to your Python installation path (eg. set PYTHONHOME=c:\\python27). - When using MIL MfuncAllocScript() with Python 3.4.4, you must set the following additional environment variable PYTHONHOME to your Python installation path (eg. set PYTHONHOME=c:\\python34). ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 20 : Differences between MIL 10 R2 and MIL 10 1. Overview. 2. New hardware support. 3. Windows support. 4. Matrox Orion HD support. 5. GigE Vision support. 1. Overview. MIL 10 R2 includes all the improvements made to MIL 10 by Updates and Processing Packs since the initial release and adds support for Windows 10 Version 1511. MIL 10 R2 includes the following updates and Processing Packs: - MIL 10 Processing Pack 1: See Section 21 for a description. - MIL 10 Update 6: Update to MIL 10 Driver for Matrox Orion HD. - MIL 10 Update 10: Revised/additional MIL-based DirectShow filters (i.e., H.264 encode/decode). - MIL 10 Update 11: Update to MIL 10 Driver for Matrox SuperSight. - MIL 10 Update 17: Update to MIL 10 Driver for Matrox Radient eV-CXP. - MIL 10 Update 19: Updated to MIL 10 Driver for USB3 Vision. Includes revised Matrox Capture Assistant utility. - MIL 10 Update 24: Footage for 3D imaging examples. Requires MIL 10 Processing Pack 1. - MIL 10 Update 25: Update to GigE Vision driver. Adds native support for GigE Vision 2 devices and makes use of GenICam 3. - MIL 10 Update 27: Adds MIL 10 Driver for Matrox Radient eV-CL. - MIL 10 Update 41: Update to MIL 10 Driver for Matrox 4Sight. - MIL 10 Fix 536: Fix for Matrox Radient eCL driver not starting or causing crash in some motherboards/PCs like the SuperMicro X9DAE (or any other in the X9 family), HP ProLiant ML350, or possibly any other system with a C600 series chipset. The root cause of the issue is BIOS mapping. - MIL 10 Fix 550: Fix for Matrox Radient eV-CL and RadientPro CL drivers missed frames counter not working when in certain triggered modes and when using M_TRIGGER_FOR_FIRST_GRAB in MdigProcess. - MIL 10 Fix 565: Fix for Camera Link DLL installation issue. - MIL 10 Fix 566: Adds missing file for GigE Vision. - MIL 10 Fix 569: Revised MILConfig for updating CmStick dongle to firmware version 3.01, which addresses a device detection issue. For more information on each update, consult their respective release note. 2. New hardware support. - Integrates support for USB3 Vision and Matrox Radient eV-CL. 3. Operating system support. - Windows XP 32-bit with Service Pack 3 - Windows 7 32-bit with Service Pack 1 - Windows 7 64-bit with Service Pack 1 - Windows 8.1 32-bit - Windows 8.1 64-bit - Windows 10 Version 1511 (OS builds 10586) 32-bit - Windows 10 Version 1511 (OS builds 10586) 64-bit NOTE: MIL 10 R2 does NOT install on the initial release of Windows 10 (OS builds 10240) as an essential driver will prevent the system from booting if Secure Boot is enabled in the BIOS. 4. Matrox Orion HD support. The default Windows 10 display driver for the Matrox Orion HD may prevent the Start button from working. 5. GigE Vision support. Link-Aggregation does not work on Windows 10 by default. To get it to work requires applying Microsoft hot-fixes KB3140745 and KB3140743 as well as installing a new network adaptor driver for the Intel速 I350 or I210 family of ethernet controllers (when available). ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 21 : What's new with MIL 10 Processing Pack 1 !!! ATTENTION MATROX DESIGN ASSISTANT 4 USERS !!! The installation of MIL 10, MIL 10 Processing Pack 1 and Matrox Design Assistant 4 may lead to a problematic configuration. The installation of Matrox Design Assistant 4 Service Pack 1 will be required to rectify the configuration issue. Table of Contents for Section 21 1. Overview 2. New functionalities and improvements 2.01 MIL processing specific examples 2.02 Bead module 2.03 Blob module 2.04 Calibration module 2.05 Code module 2.06 Color module 2.07 Edge Finder module 2.08 Measurement module 2.09 Model Finder module 2.10 Registration module 2.11 String Reader module 2.12 3dmap module 2.13 Regions 2.14 Primitives 2.15 Matrox Profiler 2.16 General 2.17 Interactive utilities 3. Deprecated functionalities 3.01 Measurement module 3.02 Code module 3.03 3dmap module 3.04 Primitives 4. Fixed bugs 4.01 Bead module 4.02 Blob module 4.03 Calibration module 4.04 Code module 4.05 Color module 4.06 Measurement module 4.07 Metrology module 4.08 OCR module 4.09 Registration module 4.10 String Reader module 4.11 3dmap module 4.12 Pattern matching module 4.13 Model Finder module 4.14 Graphic functions 4.15 Primitives 4.16 Interactive utilities 5. Known limitations and bugs 5.01 Code module 5.02 Interactive utilities 5.03 MIL add-on to Microsoft Visual Studio 5.04 MIL Help ------------------------------------------------------------------------------- 1. Overview - MIL 10 Processing Pack 1 includes all the features of MIL 10. In addition, MIL 10 Processing Pack 1 includes new processing functionalities, performance optimizations, and general improvements such as: . new support for Aztec and Industrial 2 of 5 codes, . new color relative calibrations, . new support and calibration for multiple 3D camera-laser systems, . new 3D surface alignment operation, . new extended depth of field operation, . new dedicated circle shape matcher, . support for JIT C#, VB and CPython with MIL, . MIL optimized for AVX2 instructions set, . new versatile example launcher utility, . new extensive wavelet transform operations, . new local segmentation primitive, . new MIL add-on for Microsoft Visual Studio, . and many more to discover! - MIL 10 is the minimum requirement for all upcoming Processing Packs until the next major release. 2. New functionalities and improvements 2.01 MIL processing specific examples - New: a new version of the example launcher with categories, previews, keywords, rich information, and a search utility. - 30+ new MIL examples! - Note that the MIL 10 Update 24 is needed to get the images required for several examples, in particular for 3D processing examples. 2.02 Bead module - New: M_ADD_FROM_GRAPHIC_LIST to add a bead template defined using a graphics list. 2.03 Blob module - New: M_NUMBER_OF_FERETS can be set to M_INFINITE to calculate ferets and feret-based features with a high accuracy. - New: M_CONVEX_HULL_PERIMETER is now supported. - New: M_BLOB_CONTRAST to calculate the difference between the blob min/max pixel grayscale values is now supported. - New: M_FERET_ANGLE_SEARCH_START and M_FERET_ANGLE_SEARCH_END to limit the angular range used to determine the blob's ferets is now supported. - New: M_FERET_CONTACT_POINTS (ex. M_FERET_MAX_DIAMETER + M_FERET_CONTACT_POINTS) is now supported. - New: M_FERET_CONTACT_POINTS_X1,... to retrieve the coordinates of the corresponding contact points are now supported. - New: M_MIN_AREA_BOX is now supported. - New: M_DRAW_MIN_AREA_BOX to draw the M_MIN_AREA_BOX feature is now supported. - New: M_MIN_PERIMETER_BOX is now supported. - New: M_DRAW_MIN_PERIMETER_BOX to draw the M_MIN_PERIMETER_BOX feature is now supported. - New: the minimum area enclosing rectangle feature is now available. 2.04 Calibration module - New: M_CALIBRATION_MODE can now be inquired on any object accepted by McalInquire. - New: M_CALIBRATION_CATEGORY to inquire whether the calibration is an M_2D_CALIBRATION or an M_3D_CALIBRATION. - New: M_DEPTH_MAP to inquire whether the MIL object is a fully corrected depth map or not. - New: M_CALIBRATION_INPUT_DATA to inquire about the type of the data used to perform the calibration (ex. grid). - New: M_POINT_CLOUD_CONTAINER_3DMAP McalFixture location type to use the relative coordinate system of a 3D reconstruction result buffer as a fixture provider. - New: M_LASER_3DMAP McalFixture location type to use the laser line coordinate system of a 3D reconstruction context buffer as a fixture provider. - New: McalSetCoordinateSystem can now be called on 3D reconstruction result buffers to modify the relative coordinate system, which is used to express points in world coordinates in M3dmapGet and which defines the projection orientation in M3dmapExtract. - New: M_LASER_LINE_COORDINATE_SYSTEM is now supported. Its X-axis is parallel to the laser line and its Y-axis is parallel to the scanning direction. - New: McalGetCoordinateSystem can now be called on a 3D reconstruction result buffer to access the relative coordinate system. - New: McalGetCoordinateSystem can now be called on a 3D reconstruction context to access the laser line coordinate system. - New: McalGrid GridOffsetZ can now be used to specify the thickness of the grid when performing a 3D calibration. - Improvement: McalTransformCoordinate/3dList has been optimized for multi-core (MP) architectures. 2.05 Code module - New: reading and grading multiple Data Matrix codes is now supported. - New: M_INDUSTRIAL25 to read Industrial 2 of 5 codes. - New: M_AZTEC to read and to grade Aztec codes. - New: Add-On for EAN-8 code is supported. - New: M_STRING_FORMAT now supports M_GS1_RAW_DATA. - New: QR codes now support GS1 encoding. - New: It is now possible to verify a code from the result of the reading operation using the new McodeGrade function. - New: M_DRAW_QUIET_ZONE to draw the quiet zone around the decoded code. - New: M_QUIET_ZONE_INCLUDED result to determine whether the quiet zone is fully included into the image borders or not. - New: M_QUIET_ZONE_TOP_... to retrieve the position of the quiet zone. - New: verification of the extended quiet zone including Asterisk notation. - New: M_EXTENDED_AREA_REFLECTANCE_CHECK to enable the verification using the extended area. - New: M_DRAW_EXTENDED_AREA to draw the extended area when M_EXTENDED_AREA_REFLECTANCE_CHECK is enabled. - New: M_EXTENDED_AREA_BOTTOM_... and M_EXTENDED_AREA_TOP_... to retrieve the position of the extended area. - New: M_EXTENDED_AREA_QUIET_ZONE_INCLUDED result to determine whether the extended area and quiet zone are fully included into the image borders (ISO/IEC 15415:2011). - New: M_EXTENDED_AREA_CODEWORD_MODULATION to retrieve the modulations for each codeword in the symbol in the extended area. - New: M_EXTENDED_AREA_REFLECTANCE_MINIMUM to retrieve the lowest reflectance (Rmin) of any extended area in a 2D symbol, except Maxicode. - New: M_EXTENDED_AREA_REFLECTANCE_MAXIMUM to retrieves the highest reflectance (Rmax) of any extended area in a 2D symbol, except Maxicode. - New: M_ASTERISK to retrieve if an Asterisk is appended to the overall symbol grade. Valid for all 2D matrix symbol, except Maxicode. - New: M_EXTENDED_AREA_SYMBOL_CONTRAST, M_EXTENDED_AREA_MODULATION_GRADE, M_EXTENDED_AREA_CODEWORD_MODULATION_GRADE, M_EXTENDED_AREA_SYMBOL_CONTRAST_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_L1_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_L2_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_QZL1_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_QZL2_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_CLOCKTRACK_SOLID_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_AVERAGE_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_A1_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_A2_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_A3_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_B1_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_B2_GRADE, M_EXTENDED_AREA_FIXED_PATTERN_DAMAGE_C_GRADE,... extended area verification results. - New: M_FIXED_PATTERN_DAMAGE_L1_GRADE, M_FIXED_PATTERN_DAMAGE_L2_GRADE, M_FIXED_PATTERN_DAMAGE_QZL1_GRADE, M_FIXED_PATTERN_DAMAGE_QZL2_GRADE,... to retrieve the detailed information about the fixed pattern damages per segment, for ISO and AIM-DPM verification. - New: Additional support for the ISO/IEC 15415:2011 verification: M_REFLECTANCE_MARGIN_GRADE, M_CODEWORD_REFLECTANCE_MARGIN, M_CODEWORD_REFLECTANCE_MARGIN_GRADE, M_CONTRAST_UNIFORMITY, and M_CONTRAST_UNIFORMITY_GRADE are now supported. - New: M_CODEWORD_REFLECTANCE_MARGIN, M_CODEWORD_REFLECTANCE_MARGIN_GRADE and M_REFLECTANCE_MARGIN_GRADE verification grade are now supported. - New: M_USE_PRESEARCH now supports M_FINDER_PATTERN_BASE mode for reading Data Matrix. - New: M_FINDER_PATTERN_MINIMUM_LENGTH to set the shortest acceptable length of either &quot;arm&quot; of the finder pattern of a Data Matrix code is now supported. - New: M_FINDER_PATTERN_EXHAUSTIVE_SEARCH is now supported for Data Matrix. - Improvement: improved reading robustness when the M_CELL_NUMBER_X/Y_MIN or M_CELL_NUMBER_X/Y are specified. - Improvement: improved robustness when reading a large 2D barcode with the presearch enabled. - Improvement: AIM-DPM verification accuracy. - Improvement: improved robustness when reading Maxi code and BC412 code. 2.06 Color module - New: a color relative calibration tool which includes three (3) calibration methods. - New: McolTransform can apply the color relative calibration transformation to an image. 2.07 Edge Finder module - Improvement: the module has been optimized for multi-core (MP) architectures. 2.08 Measurement module - New: M_DRAW_PROFILE_SCALE_OFFSET with M_AUTO_OFFSET_PROFILE control value to specify the offset for the profile drawing operations. - New: M_DRAW_PROFILE_SCALE_OFFSET with M_AUTO_SCALE_PROFILE control value to specify the scale for the profile drawing operations. - Improvement: it is no longer required to specify an edge modifier (+M_EDGE_FIRST/SECOND) when calling MmeasGetScore with (M_DISTANCE_FROM_BOX_ORIGIN_SCORE/M_SPACING_SCORE/M_EDGE_INSIDE_SCORE/ M_STRIPE_WIDTH_SCORE + M_RESULT) on a stripe marker. 2.09 Model Finder module - A new specialized circle finder is now supported. - Improvement: robustness of the Geometric controlled context has been improved. - Improvement: the module has been optimized for multi-core (MP) architectures. 2.10 Registration module - New: the module now supports the Extended Depth of Field (EDF) fusion operation from stacked images. 2.11 String Reader module - Improvement: the robustness of the fontless context has been improved. - Improvement: the MstrRead memory exception safety has been improved. - Improvement: MstrRead baseline deviation calculation has been improved when reading a string at angle. 2.12 3dmap module - New: 3D surface-based alignment between a model's point clouds and an organized target's point cloud is now supported. - New: M3dmapImport to import (ASCII and binary) PLY 3D CAD files is now supported. - New: M3dmapClear to clear the contents of a 3D reconstruction result buffer is now supported. - New: M3dmapPut to store world points and their features inside an unorganized point cloud. - New: M3dmapGet to retrieve world point coordinates and their features from one or more point clouds is now supported. - New: adding controls to filter out the 3D points according to the Z-axis during laser scanning process. - New: M_EXTRACTION_RANGE_Z control, used by M3dmapAddScan, to specify the range of valid values along the Z-axis. - New: M3dmapCalibrateMultiple to calibrate multiple 3D reconstruction contexts simultaneously. - New: M3dmapCalibrate accuracy has been improved. - New: M_CALIBRATION_STATUS can now return M_GLOBAL_OPTIMIZATION_ERROR when the convergence of the M3dmapCalibrateMultiple operation fails. - New: M_CALIBRATED_CAMERA_LINEAR_MOTION+M_CAMERA_LABEL/M_LASER_LABEL(value) to specify the camera/laser label for a context. - New: M_CAMERA_LABEL_VALUE and M_LASER_LABEL_VALUE inquires are now supported. - New: the extraction of the depth map (M3dmapExtract) now takes into account the relative coordinate system of the 3D reconstruction result buffer. This allows merging depth maps from two different result buffers, adjusting the depth map according to a fitted plane, or creating slices of an object. - New: M_EXTRACTION_SCALE_MODE can now be set to M_USE_DESTINATION_CALIBRATION to use the correction information and the relative coordinate system associated of the destination image buffer. - New: M_EXTRACTION_OVERLAP to control the behaviour of the depth map generation when two or more 3D points projects onto the same depth map pixel. - New: M_EXTRACTION_SATURATION to set whether or not to saturate Z coordinates that fall outside the region when generating the depth map. - New: M_RESULTS_DISPLACEMENT_MODE and M_RESULTS_DISPLACEMENT_Y to set whether the point coordinates and the extracted depth maps are returned according to the object's initial position (before scanning) or according to any other position, including its current position. - New: M_TOTAL_DISPLACEMENT_Y returns the total conveyor displacement. - New: M_ASSUMED_PERPENDICULAR_TO_MOTION to inquire whether the &quot;vertical&quot; laser plane assumption was assumed during calibration. - New: M3dmapArith() between two depth maps now allows having different relative coordinate systems. - Improvement: improved numerical stability when accumulating scans in continuous mode. - New: M_LOCATE_PEAK_1D_CONTEXT_ID can now be inquired for a 3D reconstruction context to retrieve its internal locate peak 1d context. - New: M_SCAN_LANE_DIRECTION can now be retrieved for a 3D reconstruction result to obtain the scan lane direction using M3dmapGetResult. - New: M3dmapSetBox function to easily define the extraction box to use to generate the depth map using M3dmapExtract. 2.13 Regions - New: the following primitives now support regions: . MimArithMultiple . MimArith . MimHistogramEqualize . MimLocateEvent . MimCountDifference . MimStat . MimProject . MimFindExtreme . MbufClear . MbufClearCond . MimLutMap 2.14 Primitives - New: MbufBayer now supports an M_NULL destination to determine the white balancing coefficients only. - New: MimBinarizeAdaptive to perform a local segmentation operation is now supported. - New: MimArith now supports M_ATAN2. - New: MimHistogramEqualizeAdaptive (CLAHE) is now supported. - New: MimFindOrientation to determine the dominant orientations in an image is now supported. - New: MimStat now supports M_ANGULAR. - New: MimStat now supports M_ORIENTATION_DATA_MEAN. - New: MimConvert now supports conversion from RGB to Normalized RGB. - New: MimHistogram now supports user-defined and automatic binning modes. - New: MbufClone to easily clone a MIL buffer is now supported. - New: M_HORIZONTAL_EDGE_SOBEL and M_VERTICAL_EDGE_SOBEL predefined FIR convolution kernels are now supported. - New: M_HORIZONTAL_EDGE_PREWITT and M_VERTICAL_EDGE_PREWITT predefined FIR convolution kernels are now supported. - New: MimResize now supports M_MAX and M_MIN interpolation modes. - New: MimWaveletDenoise is now supported. - New: MimWaveletTramsform to perform wavelet decomposition and reconstruction is now supported. - New: MimSetWaveletFilter to specify a user-defined wavelet is now supported. - New: the M_FLAT_FIELD_CONTEXT gain constant can be now set to M_AUTOMATIC. - New: M_EFFECTIVE_GAIN_CONST result to retrieve the value of the M_FLAT_FIELD_CONTEXT gain constant when automatically determined by the operation. - New: MgenLutFunction now supports M_COLORMAP_JET, M_COLORMAP_HOT, M_COLORMAP_HUE and M_COLORMAP_SPECTRUM to generate pseudo-color palettes. - Improvement: MgraLine has been specifically optimized for the case of straight vertical and horizontal lines. - Improvement: MimLocatePeak accuracy, robustness, and flexibility have been improved. - Improvement: MimPolarTransform now supports an angle range from -360 to 720 degrees. - Improvement: MimPolarTransform precision has been improved. 2.15 Matrox Profiler - New: traces into circular memory buffer are now supported. - New: extensive global statistics information is now supported. - New: the profiler sessions can now be saved and restored. - New: the MIL constant are now translated into their equivalent names. - New: many new interactivity features and improvements. - More information can be found in the What's New Profiler read-me file! 2.16 General - Improvement: loading .TIFF/.MIM large images files (&gt;4GB) is now supported. - New: MbufChildColor2dClip to allocate a clipped child buffer from one or more specified bands of a previously allocated parent buffer. - New: MbufChildMove M_CLIP control flag to automatically adjust the parameters, if necessary, to make sure the child stays within its parent's buffer limits. - New: M_OWNER_SYSTEM can now be inquired for the result buffers. - New: most primitives and modules have been optimized for SSE4.1 and AVX2 instruction sets. - New: MfuncAllocScript to run MIL code in JIT CPython, C# and VB .NET environments. - New: MIL traces can now be performed into circular memory buffers. - New: MappControl M_TRACE_SAVE_TO_FILE to dump a trace stored in memory into a file. - New: MappTrace(M_TRACE_SET_TAG_INFORMATION) to customize the name and the color associated with a TraceTag is now supported. - New: MappInquire(M_TRACE_ACTIVE) to retrieve whether traces are enabled. - New: MthrAlloc M_TRACE_LOG_DISABLE control flag for M_THREAD object type to disable the log of traces for and at the creation of a thread. - New: New Distributed MIL protocol &quot;dmilshm&quot; which uses shared memory for interprocess communication on a same machine (locahost) and which is intended to replace the use of dmiltcp://localhost. - Improvement: M...GetResult and M...Inquire combination flag M_TYPE_SHORT has been renamed M_TYPE_MIL_INT16. - New: MbufImport(M_MIL+M_WITH_CALIBRATION) can now be used to restore an image associated to M_DEFAULT_UNIFORM_CALIBRATION if the image has a constant pixel size and if the image was previously saved using MbufExport(M_MIL+M_WITH_CALIBRATION). If not, the function will restore an uncalibrated image. 2.17 Interactive utilities - MIL add-on to Microsoft Visual Studio 2012 and up to: . context sensitive help for C++, C# and VB . statement completion for C++, C#, and VB . MIL menu and toolbar - Note that other Microsoft Visual Studio plugins which provide statement completion may interfere with the MIL extension for Visual Studio. 3. Deprecated functionalities 3.01 Measurement module - M_POSITION_IN_MARKER is deprecated and replaced by M_DISTANCE_FROM_BOX_ORIGIN. - ResultType M_FOUND_BOX_ANGLE is deprecated and replaced by M_BOX_ANGLE_FOUND. - ResultType M_TOTAL_SCORE is deprecated and replaced by M_SCORE_TOTAL. - ResultType M_BOX_EDGE_VALUES_NUMBER is deprecated and replaced by M_BOX_EDGEVALUES_NUMBER. - ResultType M_BOX_EDGE_VALUES is deprecated and replaced by M_BOX_EDGEVALUES. - M_TOTAL_SCORE is deprecated and replaced by M_SCORE_TOTAL. - M_FOUND_BOX_ANGLE is deprecated and replaced by M_BOX_ANGLE_FOUND. - M_POSITION_INSIDE_STRIPE is deprecated and replaced by M_INCLUSION_POINT_INSIDE_STRIPE. 3.02 Code module - CodeVerify has been deprecated and replaced by the more flexible McodeGrade function. - M_USE_PRESEARCH M_ENABLE control value is deprecated and replaced by M_STAT_BASE. - M_MINIMUM_LSIDE_LENGTH control flag is deprecated and replaced by M_FINDER_PATTERN_MINIMUM_LENGTH. - M_MAX_GAP control flag is deprecated and replaced by M_FINDER_PATTERN_MAX_GAP. 3.03 3dmap module - M_EXTRACTION_SCALE_MODE M_USE_DESTINATION_SCALES control value is deprecated and replaced by M_USE_DESTINATION_CALIBRATION. - The M_LASER_DATA result object is deprecated, use M_LASER_CALIBRATION_DATA, M_DEPTH_CORRECTED_DATA, or M_POINT_CLOUD_CONTAINER instead. See M3dmapAllocResult documentation. - M3dmapAddScan with M_RESET, M_CLEAR_DATA, or M_REMOVE_LAST_SCAN is deprecated and replaced by M3dmapClear() with M_DELETE, M_CLEAR, and M_REMOVE_LAST_SCAN. - M3dmapGetResult with M_3D_POINTS_X, M_3D_POINTS_Y, M_3D_POINTS_Z, M_3D_POINTS_I is deprecated and replaced by the M3dmapGet function. - M3dmapGetResult with M_DEPTH_CORRECTION_STATE (M_UNCORRECTED, M_PARTIALLY_CORRECTED or M_FULLY_CORRECTED) is deprecated. 3D result objects now have specialized types. Use MappInquireObject() with M_OBJECT_TYPE to inquire the type of object. - M_PEAK_WIDTH is deprecated. Use M_LOCATE_PEAK_1D_CONTEXT_ID to retrieve the internally allocated locate peak 1d context and configure it using MimControl with M_PEAK_WIDTH_NOMINAL and M_PEAK_WIDTH_DELTA. - M_MIN_INTENSITY is deprecated. Use M_LOCATE_PEAK_1D_CONTEXT_ID to retrieve the internally allocated locate peak 1d context and configure it using MimControl with M_MINIMUM_CONTRAST. - M_ORIENTATION is deprecated. Use M_LOCATE_PEAK_1D_CONTEXT_ID to retrieve the internally allocated locate peak 1d context and configure it using MimControl with M_SCAN_LANE_DIRECTION. 3.04 Primitives - MimLocatePeadk1d now supports a new improved peak detection method. Using MimLocatePeadk1d without a context object is now deprecated. - The default overscan for the morphological operations using a custom structural element, in binary mode, is now M_TRANSPARENT. MbufControlNeighborhood(StructElement, M_OVERSCAN, M_DISABLE) must be used to obtain the previous default behaviour. - M_LAPLACIAN_EDGE predefined FIR convolution kernel is deprecated and replaced by M_LAPLACIAN_4. - M_LAPLACIAN_EDGE2 predefined FIR convolution kernel is deprecated and replaced by M_LAPLACIAN_8. - M_SHARPEN predefined FIR convolution kernel is deprecated and replaced by M_SHARPEN_8. - M_SHARPEN2 predefined FIR convolution kernel is deprecated and replaced by M_SHARPEN_4. - M_EDGE_DETECT predefined FIR convolution kernel is deprecated and replaced by M_EDGE_DETECT_SOBEL_FAST. - M_EDGE_DETECT2 predefined FIR convolution kernel is deprecated and replaced by M_EDGE_DETECT_PREWITT_FAST. - M_HORIZ_EDGE predefined FIR convolution kernel is deprecated. - M_VERT_EDGE predefined FIR convolution kernel is deprecated. 4. Fixed bugs 4.01 Bead module - The training operation will no longer crash when providing invalid world positions. 4.02 Blob module - After a call to MblobMerge(M_MOVE), the MblobDraw(M_DRAW_BLOBS_CONTOUR) will no longer draw the contour of the blobs in the first top frame only. - The MblobMerge operation will no longer result in the blob's convex hulls being wrongly offset. - M_CONVEX_HULL_AREA will no longer return an invalid result for a convex hull made of 2 points. - Successive calls to MblobCalculate will no longer result in wrong feret calculations when using multi-core acceleration together with M_WHOLE_IMAGE or M_LABELED_TOUCHING modes. - M_CONVEX_HULL_AREA, M_CONVEX_HULL_COG_X and M_CONVEX_HULL_COG_Y could be wrongly computed under specific circumstances. This is no longer the case. - BlobInquire will no longer crash when inquiring another flag than M_OWNER_SYSTEM. - MblobReconstruct will no longer crash when providing a NULL seed buffer. It will now report an error. 4.03 Calibration module - McalDraw(...+ M_DRAW_..._COORDINATE_SYSTEM) will no longer lead to an infinite loop in the presence of degenerated calibrations. - McalFixture with M_RESULT_PAT will no longer lead to the wrong result when the M_RESULT_OUTPUT_UNITS of the pattern matching result object is manually set to M_WORLD. - McalRestore() will no longer restore a calibration object with a wrong relative coordinate system when restoring from a file containing an image with a constant pixel size and a relative coordinate system that is not coplanar to the absolute coordinate system. It will report an error. Use MbufImport(M_MIL+M_WITH_CALIBRATION). - M_DISPLACE_CAMERA_COORD will no longer ignore the M_CALIBRATION_PLANE. 4.04 Code module - McodeRead will no longer crash when reading in an image smaller than 3 pixels with M_USE_PRESEARCH set to M_ENABLE. - McodeDraw index for M_DRAW_REFLECTANCE_PROFILE will no longer be wrongly validated. - When reading a 1D code, the M_STATUS will no longer be M_STATUS_READ_OK but M_STATUS_NO_RESULT_AVAILABLE when no code has been found. - McodeRead will no longer crash when reading Postnet/Planet code at angle in a very large buffer. - Reading a Data Matrix code will no longer fail when the top right corner of the code falls outside the image, for uneven grid and perspective uneven grid modes. - Data Matrix, QrCode, and MicroQrCode decode algorithm has been fixed when number of error correction was odd. Small 10x10 and 12x12 Data Matrix will no longer be erroneously found within larger codes or textured areas. - McodeRead will no longer fail reading multiple identical overlapped 1D codes. 4.05 Color module - McolDistance will no longer miss propagating the calibration of the source to the destination. - McolProject will no longer miss propagating the calibration of the source to the destination. - Restoring a color context with McolStream(... M_RESTORE ...) in DMIL will no longer lead to a new allocated MIL_ID with an invalid object type. 4.06 Measurement module - MmeasGetResult/Single(M_EDGEVALUE_PEAK_WIDTH / M_EDGE_WIDTH) will now return both edge widths of a stripe marker. - MeasGetResult/Single will no longer crash when trying to retrieve some result types not supported by a measurement result. - MmeasDraw(M_DRAW_LINE) on a measurement result will no longer crash if no result was calculated. - MmeasSaveMarker was not returning immediately after parameter checking detect an error. This is no longer the case. - MmeasSetMarker(M_BOX_ANGLE_REFERENCE) was not validating the value provided by the user. This is no longer the case. - MmeasSetMarker(M_BOX_ANGLE_MODE) was not validating the value provided by the user. This is no longer the case. - MmeasSetMarker(M_BOX_ANGLE_TOLERANCE) was not validating the value provided by the user. This is no longer the case. - MmeasSetMarker(M_SEARCH_REGION_ANGLE_INTERPOLATION_MODE) was not validating the value provided by the user. This is no longer the case. - Under a specific set of conditions, M_EDGE_INSIDE_SCORE will no longer prevent finding a marker. - When a score-offset is used for a given feature, the feature's score was not dropping to zero when the feature was outside the range. It now does. - MmeasGetResult(M_BOX_EDGEVALUES) will no longer crash when the number of submarkers change from &quot;more than one&quot; to &quot;a single one&quot; between successive calls to MmeasFindMarkers. - MmeasSetMarker(M_BOX_SIZE) will no longer accept a null value. The control must be set to a value greater than 0. - The mean angle (for either edges or stripes) returned the M_MEAN combination flag is used will no longer be erroneous. - MIL_TYPE_MIL_ID was not supported for inquiring about MIL_ID's information such as the M_OWNER_SYSTEM. It is now supported. - Calculation of the edge limits has been improved for very small smoothed edges. - MmeasGetResult(M_STRIPE, M_SPACING) will no longer require edge modifiers to get the spacing from its first/second edges while it did not when not there is no calibration involved. - MmeasSetMarker will no longer update the first value when the first value is valid but not the second. 4.07 Metrology module - Drawing an edgel feature will no longer draw all the edgels, but the active ones. - Metrology will no longer wrongly support the orientation of 3D calibration systems. - The calibrated drawing of arc regions will no longer lead to erroneous annotations when using low accuracy annotations. - The parametric angle of a constructed local frame will no longer wrongly follow the global frame, but its local reference frame. - The coverage measure of the fitted features will no longer be wrongly calculated in the presence of image aspect ratio. 4.08 OCR module - A very rare situation of MocrReadString crash has been fixed. - MocrCalibrateFont will no longer fail when changing the ROI or the step value. 4.09 Registration module - MregSetLocation called with parameter type M_COPY_REG_RESULT after a call with M_WARP_4_CORNER, M_WARP_4_CORNER_REVERSE, or M_WARP_POLYNOMIAL, will no longer result in a memory leak. 4.10 String Reader module - String Reader will no longer change the global SPI_SETFONTSMOOTHING system parameter when defining the system font. - M_STRING_ANGLE_DELTA_NEG will no longer control the positive delta value and M_STRING_ANGLE_DELTA_POS will no longer control the negative delta value. - The preprocess step will no longer crash in the presence of large characters in the font images. - A potential out of memory error has been fixed when reading a string using a fontless context. - MstrRead will no longer potentially dilate the user image buffer when using regions at 0 degrees and when the control M_THICKEN_CHAR is used. - MstrInquire will no longer crash when a NULL destination is provided. 4.11 3dmap module - Filling gaps with M_MIN or M_MAX will no longer result in different decisions in the depth map versus the intensity map. - M3dmapGetResult() with M_NUMBER_OF_3D_POINTS on an empty result buffer will no longer return an invalid index error, but 0. 4.12 Pattern matching module - MpatAllocModel call will no longer perform unnecessary computations when M_AUTO_CONTENT_BASED is not used. - MpatAllocModel will no longer crash when one of the provided offset is negative. - In rare situations, MpatFindModel could lead to unstable results when using a search region and the fast find mode. 4.13 Model Finder module - MmodDraw will now give priority to the destination buffer calibration when drawing the edges of a context. 4.14 Graphic functions - MgraRectAngle will no longer ignore the rotation of the relative coordinate system when drawing the shape at 0 degrees in world units with the conversion mode set to M_PRESERVE_SHAPE_AVERAGE. - When calling MbufSetRegion(M_RASTERIZE) with a graphics list that has its interactivity enabled, the interactive handles will no longer wrongly appear in the rasterized region. 4.15 Primitives - MimMorphic(M_DILATE, M_ERODE, M_THICK and M_THIN), in binary mode and with the overscan set to replace min or max, will no longer use the wrong overscan value. This affected only board systems that may perform the operation. - MimResize(M_BILINEAR) accuracy has been fixed for very large buffers. - MimDraw will no longer modify the unchanged pixels of the destination when drawing a stat-multiple result. - MimDraw will no longer crash when drawing the model image or the mask image in a large destination buffer. - MimLocateEvent will no longer return an invalid MIL_INT result when the result ID is M_NULL. - MimCountDifference will no longer return an invalid MIL_INT result when the result ID is M_NULL. - MimEdgeDetect will no longer potentially crash when the source image is a child band of a YUV buffer. - MimPolarTransform(M_POLAR_TO_RECTANGULAR) accuracy of the returned destination sizes have been fixed. - MimRank, in binary mode and with signed destination buffer, will no longer return incorrect results when the rank values of the structuring element are greater than 128 for an 8-bits destination buffer, or greater than 32768 when the destination buffer is 16-bits. - MimResize will no longer access data outside the source buffer for rare specific conditions and specific scale values. 4.16 Interactive utilities - A GDI memory leak has been fixed for the Model Finder, Edge Finder, and String Reader GUIs. - A stability issue has been fixed when using the column ordering in the result table or the module's UIs. - The new Model Finder circle matcher has been added to the Model Finder UI. 5. Known limitations and bugs 5.01 Code module - Grading on read result is not yet supported for newly added Aztec codes. - Grading is not supported for the special 11x11 Aztec code &quot;rune&quot;. 5.02 Interactive utilities - In Inspector, the spacing and spacing variation controls are deprecated and should have been grayed-out. 5.03 MIL add-on to Microsoft Visual Studio - If both MIL 32-bits and 64-bits are installed on the same system but only one of the installation is updated using MIL 10 Processing Pack 1, the MIL add-on will nevertheless show up in both cases suggesting the most recent MIL flags. 5.04 MIL Help - CHM based help files does not work properly under the following circumstances: . The operating System is Windows 7 embedded . The latest Windows updates, including IE11, are applied to the system . The user is logged in as a standard user (i.e part of the Users group) A work around is to log in with administrator privileges. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 22 : What's new in MIL 10 1. API changes in MIL. 2. Matrox Profiler. 3. Licenses. 4. Installation. 5. Distributed MIL. 6. Operating systems information. 1. API changes in MIL. 1.1 Changes in Mapp and Msys functions. All Mapp functions, and MsysAlloc(), have a new ContextAppId parameter to support remote applications in DMIL monitoring mode. This parameter can be set to M_DEFAULT. In C++, C# and VB.Net, overloaded functions with the old prototype are provided to keep backward compatibility. 1.2 Some parameter data types have changed. The data type of certain parameters has changed from MIL_INT to MIL_INT64; this can affect, for example, some MxxxControl and MxxxInquire functions (and others). The changes will be transparent in most cases. 1.3 MappGetHookInfo(M_PARAM_TYPE) has been replaced. M_PARAM_TYPE in MappGetHookInfo() has been replaced with M_PARAM_TYPE_INFO, which now returns more detailed information about the parameter's type. Since the underlying structure has changed, the old inquire (M_PARAM_TYPE) could not be maintained. 1.4 MbufControlRegion() has been renamed to MbufControlArea(). 1.5 Compiler warnings for deprecated defines and functions. Deprecated defines and functions are now tagged as such and will generate a warning when used. These identifiers should no longer be used since they might be removed in a future major MIL release (for example, MIL 11). Most deprecated warnings require a simple replacement. For example, M_SETUP has been deprecated and is now equivalent to M_DEFAULT. From mil.h: #define M_SETUP M_DEFAULT MIL_DEPRECATED(M_SETUP, 1000) For deprecated features, more work can be required (depending on the feature). See the whatsnew_processing release note for more information on deprecated features in the processing modules. As a temporary fix for warnings produced by deprecated defines and functions, it is possible to disable the warnings by defining M_MIL_WARN_ON_DEPRECATED as 0 before including mil.h; for example: #define M_MIL_WARN_ON_DEPRECATED 0 #include &lt;mil.h&gt; Despite this temporary fix, code with deprecated defines and functions might not compile in subsequent major releases of MIL (for example, MIL 11). To turn off compiler warnings for deprecated defines and functions when using MIL with C# or Visual Basic in a .NET managed environment, you must modify the appropriate settings in the environment itself (e.g. disable warnings caused by the Obsolete attribute). For more information, refer to the &quot;Building a .NET application using MIL&quot; section of the &quot;Using MIL with .NET&quot; chapter in the MIL Help. 1.6 MdigLut(), MdigReference() and MdigChannel() are now deprecated. They are replaced by MdigControl(). 1.7 A new I/O API has been developed for Matrox hardware. Any reference to the MIL 9 (old) API will produce compiler deprecated warnings. A conversion table from the old API to the new API is available in the drivers folder of the MIL Release Notes folder of the Contents tab in the MIL help. 1.8 Changes to MIL traces. The trace log file generated is now a Matrox Profiler trace file (.mtrace). Traces can be disabled with M_TRACE_LOG_DISABLE in MappAlloc(). It is now possible to insert custom traces in the trace file using the new MappTrace() function. MappInquire/MappControl(M_TRACE): M_PRINT_DISABLE/M_PRINT_ENABLE have been replaced by M_LOG_DISABLE/M_LOG_ENABLE. MappInquire(M_TRACE) can also return M_DEFAULT. MappControl(M_TRACE) accepts M_DEFAULT. See the MIL Reference for details. 2 Matrox Profiler. A new tool called Matrox Profiler has been developed. It allows you to graphically and interactively analyze MIL traces, including (but not limited to) MIL functions, MIL events, and MIL errors. 3 Licenses. The LicenseManager tool has been integrated into MilConfig. MILConfig now has more pages related to licenses: Status : Shows the list of unlocked packages, in total and per fingerprint. Generate: Generates a Lock Code for software license keys. Activate: Activates software License keys. Upgrade : Upgrades MIL 9 run-time licenses to MIL 10. See the licenses sections in the MIL User Guide for more information. 4 Installation. Under Windows, it is now possible to install the 32-bit version of MIL on a 64-bit OS. This setup only supports the Host system and it is not possible to use frame grabbers. The 32-bit version of MIL can coexist with the 64-bit version of MIL. 5 Distributed MIL. 5.1 Distributed MIL, monitoring mode. This new mode allows an application to publish MIL objects (MIL_IDs). Other applications can then connect across a network and access these objects. The objects can be published in read-only or read-write modes. See the Distributed MIL sections of the MIL User guide for more information. 5.2 Support for mixed cluster: Windows/Linux, 32-bit/64-bit. Distributed MIL now supports connections between Windows and Linux and between 32-bit and 64-bit applications. 5.3 DMIL Cluster Manager. The DMIL Cluster manager is a tool used to arbitrate the allocation of MIL_IDs between different processes. It is mostly useful with the new Monitoring mode where it plays a role similar to a DHCP server on a network by dynamically allocating unique IDs to networked applications upon request. 6. Operating systems information. - MIL 10 supports: Windows: XP 32-bit edition with Service Pack 3 Windows 7 32-bit edition with Service Pack 1 Windows 7 64-bit edition with Service Pack 1 Windows 8 32-bit edition Windows 8 64-bit edition Linux: See the MilLinux release note for a list of supported distributions. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Section 23 : Differences between MIL 10 and MIL 9 with Processing Pack 2 and Update 56 Table of Contents for Section 23 1. Overview 2. New functionalities and improvements 2.01 MIL processing specific examples 2.02 Bead module 2.03 Blob module 2.04 Calibration module 2.05 Code module 2.06 Color module 2.07 Edge Finder module 2.08 Measurement module 2.09 Metrology module 2.10 Model Finder module 2.11 OCR module 2.12 Pattern matching module 2.13 Registration module 2.14 String Reader module 2.15 3dmap module 2.16 Graphic functions 2.17 Regions 2.18 Primitives 2.19 Matrox Profiler 3. Deprecated functionalities 3.01 General 3.02 Bead module 3.03 Calibration module 3.04 Color module 3.05 Measurement module 3.06 Metrology module 3.07 Model Finder 3.08 Edge Finder 3.09 Interactive utilities 4. Fixed bugs 4.01 General 4.02 Bead module 4.03 Blob module 4.04 Calibration module 4.05 Code module 4.06 Color module 4.07 Edge Finder module 4.08 Measurement module 4.09 Metrology module 4.10 Model Finder module 4.11 OCR module 4.12 Pattern matching module 4.13 Registration module 4.14 String Reader module 4.15 3dmap module 4.16 Graphic functions 4.17 Regions 4.18 Primitives 4.19 Interactive utilities 5. Known limitations 5.01 Graphic functions 5.02 Interactive utilities 5.03 Regions 5.04 Metrology 5.05 Matrox Profiler 5.06 Streaming functions ------------------------------------------------------------------------------- 1. Overview - MIL 10 includes all the features of MIL 9 Processing Pack 2. In addition, MIL 10 includes new processing functionalities, performance optimizations and general improvements. - MIL 10 is the minimum requirement for all upcoming Processing Packs until the next major release. 2. New functionalities and improvements 2.01 MIL processing specific examples - The /Processing/ directory includes new MIL processing specific examples (see MIL Control Center -&gt; Directories -&gt; MIL examples): a multiprocessing framework, various product inspections, such as bottle cap and label verification, color analysis for food inspection of product identification, 3D object localization, etc., as well as additional 3D camera interfacing examples. - The MIL Examples have been updated and use the graphics list object to display the result with zoomable subpixel annotations. - A new MIL example has been added which illustrates the benchmarking of processing operations. 2.02 Bead module - New: Support to train and to validate stripe-type bead templates with non-uniform widths. - New: M_BEAD_EDGE bead template type, to train and to validate the presence and position of an edge-type bead along a path. - New: M_NUMBER_FOUND result type to retrieve the number of bead sections found for a given bead template. - New: M_TRAINING_PATH with M_CIRCLE and associated M_TEMPLATE_CIRCLE_... control types to parametrically define a circular bead template. - New: M_TRAINING_PATH with M_SEGMENT and associated M_TEMPLATE_SEGMENT_... control types to parametrically define a line segment bead template. - New: M_INDIVIDUAL_WIDTH_NOMINAL to retrieve the user defined bead section width for a given bead template. - New: M_TRAINED_SIZE, M_TRAINED_POSITION_X, M_TRAINED_POSITION_Y, and M_TRAINED_INDIVIDUAL_WIDTH_NOMINAL to retrieve the trained information for a given bead template. - New: M_INTENSITY_NOMINAL_MODE control type to select whether to train and to validate the color of a stripe-type bead. - New: M_INTENSITY_NOMINAL control type to define the expected nominal color of a given bead template. - New: M_INTENSITY_DELTA_POS and M_INTENSITY_DELTA_NEG control types to set color tolerance of a given bead template. - New: MbeadDraw M_FAIL_INTENSITY_COLOR_MIN and M_FAIL_INTENSITY_COLOR_MAX to display the failed bead sections regarding the color range criterion. - New: M_ANGLE_ACCURACY_MAX_DEVIATION control to help improve the accuracy of the width measure when the bead section deviates from the expected path. - New: MbeadTemplate M_SET_WIDTH_NOMINAL to set a specific width value for each user point in order to define bead templates with non-uniform width. - New: MbeadControl M_WIDTH_NOMINAL_MODE can be set to M_AUTO_UNIFORM or M_AUTO_CONTINUOUS to either train a bead template with a uniform or with a non uniform width. - New: MbeadGetResult M_CLOSURE to retrieve whether a template is closed. - New: MbeadGetResult M_OFFSET_MAX to retrieve the offset value of the maximum offsetted bead section of a template. - New: MbeadGetResult M_OFFSET_MAX_INDEX to retrieve the index of the maximum offsetted bead section of the template. - New: MbeadGetResult M_STATUS_FOUND to retrieve the status to determine if at least one bead section has not been found for a template. - New: MbeadGetResult M_STATUS_OFFSET to retrieve the status to determine if at least one bead section offset is out of the tolerance for a template. - New: MbeadGetResult M_STATUS_WIDTH_MIN to retrieve the status to determine if at least one bead section width is out of the min tolerance for a template. - New: MbeadGetResult M_STATUS_WIDTH_MAX to retrieve the status to determine if at least one bead section width is out of the max tolerance for a template. - New: MbeadGetResult M_STATUS_INTENSITY_COLOR_MIN to retrieve the status to determine if at least one bead section color is out of the min tolerance for a template. - New: MbeadGetResult M_STATUS_INTENSITY_COLOR_MAX to retrieve the status to determine if at least one bead section color is out of the max tolerance for a template. - New: MbeadGetResult M_INTENSITY_MIN to retrieve the minimum bead section color value of a template. - New: MbeadGetResult M_INTENSITY_MAX to retrieve the maximum bead section color value of a template. - New: MbeadGetResult M_INTENSITY_MIN_INDEX to retrieve the index of the bead section with the lowest color value of a template. - New: MbeadGetResult M_INTENSITY_MAX_INDEX to retrieve the index of the bead section with the highest color value of a template. - New: MbeadGetResult M_INTENSITY to retrieve the bead section color values for a bead template. - New: MbeadGetResult M_ANGLE to retrieve the bead section angle values. - New: MbeadGetResult M_TRAINED_INDEX to retrieve the corresponding trained point index in the trained set of points. - New: M_FAIL_WARNING_OFFSET control to increase the search box dimension to find offsetted bead sections beyond the valid offset range. 2.03 Blob module - New: M_CONVEX_HULL_COG_X and M_CONVEX_HULL_COG_Y blob features. - New: M_FERET_PERPENDICULAR_TO_MIN_DIAMETER and M_FERET_PERPENDICULAR_TO_MAX_DIAMETER blob features. - New: M_FERET_MIN_DIAMETER_ELONGATION and M_FERET_MAX_DIAMETER_ELONGATION blob features. - New: M_FERET_AT_PRINCIPAL_AXIS_ANGLE and M_FERET_AT_SECONDARY_AXIS_ANGLE blob features. - New: M_ALL_FERETS to retrieve all the calculated ferets. - New: M_FERET_PRINCIPAL_AXIS_ELONGATION blob feature. - New: M_RECTANGULARITY blob feature. - New: M_BLOB_TOUCHING_IMAGE_BORDERS blob feature. - New: M_BLOB_INCLUSION_STATE result to retrieve whether a specific blob is included or excluded. - New: M_TOTAL_NUMBER_OF_RUNS to retrieve the total number of runs in an image. - Improvement: improved calculation responsiveness and accuracy when limiting the processing time using the M_TIMEOUT control. - Improvement: better use of multiprocessing capabilities. 2.04 Calibration module - New: McalFixture M_SAME_AS_SOURCE location type to move the relative coordinate system to the position of the relative coordinate system of the source. - New: McalWarp function to define the mapping of a calibration context based on another calibration context and an optional warping. - New: McalTransformCoordinate3dList, McalTransformCoordinate, and McalTransformResultAtPosition M_NO_EXTRAPOLATED_POINTS mode to return M_INVALID_POINT for pixels transformed outside a piecewise linear calibrated area. - New: McalTransformCoordinate3dList now supports 2d calibration contexts and depth-map buffers through the M_DEPTH_MAP mode. - New: McalGrid and McalList now work using M_UNIFORM_TRANSFORMATION calibration contexts. - Improvement: McalGrid is now more robust using M_CHESSBOARD_GRID grid type. - Improvement: M_DISPLACE_RELATIVE_COORD now supports a minimum of 4 points for the computation to succeed. - New: McalFixture supports M_RESULT_MET as a location type to fixture from from the global or a local frame result. 2.05 Code module - New: M_SIMPLIFIED_CHINESE, M_JAPANESE, M_LATIN, M_KOREAN for M_STRING_FORMAT. - Improvement: reading PDF417, TruncatedPDF417 codes at low and very low speed is more robust in the presence of local deformation or damaged pattern corners. - Improvement: reading M_ANY foreground MicroPDF417 is more robust. - Improvement: reading 4-State codes in the presence of extra bars and/or uneven spacing is more robust. - New: M_SEARCH_ANGLE_STEP control used for reading 1D barcodes. - Improvement: M_TYPE_MIL_ID combination flag is now supported by McodeInquire. 2.06 Color module - New: M_HISTOGRAM_VOTE matching technique based on the histogram of the image. - New: McolDefine(+M_ADD_COLOR_TO_SAMPLE) to facilitate the definition of a color sample from multiple color patches. - New: M_DRAW_SAMPLE_MOSAIC and M_DRAW_SAMPLE_MOSAIC_DONT_CARE drawing operations for samples defined from multiple color patches. 2.07 Edge Finder module - Improvement: building the edge chains is more efficient in speed and memory usage. 2.08 Measurement module - New: MmeasFindMarker now accepts buffers with regions (MbufSetRegion) to define the search region. - New: M_EDGEVALUE_VAR_MIN control to set the minimum expected prominence of the edge peaks. - New: M_EDGE_CONTRAST result defined by the difference between the intensities measured at the edge's maximum of curvature positions. - New: M_EDGE_CONTRAST_SCORE based on the M_EDGE_CONTRAST result value. - New: MmeasSetMarker M_CIRCLE_INSIDE_SEARCH_REGION control allows to find a circle lying partially outside the search region. - New: M_FIT_ERROR_MAX result is now available for circle markers. - New: MmeasSetMarker M_CIRCLE_ACCURACY control allows the use of a low accuracy but typically faster find algorithm. - New: MmeasSetMarker M_SUBPIXEL_MODE control offers two modes (M_LOCAL and M_GLOBAL) to determine the subpixel edge location. - New: MmeasSetMarker M_SEARCH_REGION_CLIPPING_... controls to select the behavior of the clipping of the search region. - New: M_EDGE_WIDTH result based on maximal curvature locations, contrary to M_EDGEVALUE_PEAK_WIDTH, which is based on the threshold. (see also new M_EDGE_START, M_EDGE_END results). - New: M_DRAW_EDGEVALUE_PEAK_WIDTH_IN_PROFILE to draw the width of the measured marker along the edge profile annotation (edge and stripe markers). - New: M_DRAW_EDGEVALUE_MIN_IN_PROFILE to draw the threshold levels along the edge profile annotation (edge and stripe markers). - New: MmeasDraw with M_RESULT_PER_SUBREGION() macro allows various drawing operations for annotating the subregions (edge and stripe markers). - New: MmeasDraw with M_DRAW_POSITION_IN_PROFILE to draw the position of the edge along the edge profile annotation (edge and stripe markers). - Improvement: MIL_TYPE_MIL_ID combination flag is now supported by MmeasInquire. - New: M_DRAW_INCLUSION_POINT to draw the location of M_INCLUSION_POINT. - Improvement: improved accuracy of the returned angle when measuring in a calibrated source image. 2.09 Metrology module - New: M_DERIVED_GEOMETRY_REGION object and its associated M_REGION_... controls to define regions from other features (e.g. a ring defined from three points). - New: MmetSetRegion(...M_FROM_DERIVED_GEOMETRY_REGION...) to define the region of a feature from an M_DERIVED_GEOMETRY_REGION object. - New: MmetSetRegion M_FROM_GRAPHIC_LIST to define a region from a graphic list object. - New: MmetDraw M_DRAW_FITTED_EDGELS to draw the edgels participating in the final fit of a feature. - New: MmetControl M_EDGEL_TYPE to construct an M_EDGEL feature either the active edgels of a feature, or from the fitted edgels of a feature. - New: MmetControl M_GAIN and M_OFFSET to correct for tolerance bias before validating the result. - New: MmetInquire M_INDEX_FROM_LABEL to retrieve the index of a feature or tolerance. - New: MmetGetResult M_LABEL_VALUE to retrieve the labels of features and tolerances. - New: M_COVERAGE values of fitted features can be retrieved. - New: MmetControl M_REGION_ACCURACY_HIGH can be disabled to allow using faster but lower accuracy region mapping. - Improvement: M_EDGEL_SELECTION_RANK now accepts M_DISABLE, which is the default behavior. - Improvement: MmetCalculate has additional optimizations when calculating measured features from rectangular, ring, ring sector, or 1D regions. - Improvement: has been optimized for multi-core (MP) architectures. 2.10 Model Finder module - New: MmodControl M_ACTIVE_EDGELS to control the percentage of the most relevant edgels from the target image that will be used during the find process, for M_GEOMETRIC contexts. - New: MmodDraw M_DRAW_ACTIVE_EDGELS to visualize selected edgels from the target image used during the find process. - New: M_SEARCH_POSITION_FROM_GRAPHIC_LIST control allows defining the search region from a graphics list object. 2.11 OCR module - New: MocrReadString, MocrVerifyString and MocrCalibrationFont functions now accept buffers with an associated rotated rectangular region (see MbufSetRegion and MocrControl(M_STRING_ANGLE, M_ACCORDING_TO_REGION)) 2.12 Pattern matching module - New: MpatFindModel and MpatFindModelMultiple now accept buffers with an associated rotated rectangular region (see MbufSetRegion). 2.13 Registration module - Improvement: MregTransformCoordinate error message has been clarified when the result is not calculated. 2.14 String Reader module - New: The '~' character is now correctly considered as a punctuation character when added to a font definition. - New: MstrControl now supports M_RESULT_OUTPUT_UNITS to retrieve result values in world units. Note that the default setting for the result output unit is M_ACCORDING_TO_CALIBRATION. Existing calibrated applications may need to explicitly change this setting. - Improvement: MstrRead is more robust with strings and fonts containing punctuation characters. 2.15 3dmap module - New: &quot;3D Setup Helper.xls&quot; Microsoft Excel sheet, located in the &quot;Matrox Imaging/Tools/&quot; directory, to help determine the adequate hardware configuration for a camera-laser setup. - New: M_Y_THEN_X control to select an alternative gap filling direction. - New: M_FILL_THRESHOLD_X and M_FILL_THRESHOLD_Y controls to adjust the gap filling decision of a depth map. - New: M3dmapDraw M_DRAW_CALIBRATION_PEAKS to draw all the extracted laser lines during calibration operation. 2.16 Graphic functions - New: modules can now draw (MmodDraw, MmetDraw...) into a graphics list object to display the result with zoomable subpixel annotations. - New: it is now possible to interactively edit a graphics list (see MdispControl with M_GRAPHIC_LIST_INTERACTIVE and MgraInteractive). - New: MgraArcAngle M_CONTOUR and M_SECTOR control flag values to specify an arc style. - New: MgraControlList M_ARC_STYLE to control the style of an arc in a graphics list. - New: MgraControlList M_GRAPHIC_SELECTED control flag to set whether a given graphic is selected or not. - New: MgraControl and MgraControlList with M_GRAPHIC_SOURCE_CALIBRATION and M_FIXTURE to allow drawing annotations under different fixtures. - New: MgraControl, MgraInquire, MgraControlList, and MgraInquireList, new control flags for managing interactivity: M_SPECIFIC_FEATURES_EDITABLE, M_RESIZABLE, M_ROTATABLE, M_MOVABLE, M_EDITABLE, M_SELECTABLE, M_VISIBLE, M_INTERACTIVE_ANNOTATIONS_COLOR, M_SELECTED_COLOR, M_SELECTION_RADIUS. - New: MgraControl new control flags to draw with a zoom and/or an offset: M_DRAW_OFFSET_X, M_DRAW_OFFSET_Y, M_DRAW_ZOOM_X, M_DRAW_ZOOM_Y. - New: MgraCopy function to copy one or more graphics from a graphics list to another. - New: MgraHookFunction to attach or detach a user function to a graphics list event such as a modification to the graphics list. - New: MgraGetHookInfo function to retrieve the information about a graphics list event. - New: MgraControlList M_GRAPHIC_CONVERSION_MODE control to determine how to perform the conversion between world and pixel units of a graphic. See M_RESHAPE_FROM_POINTS, M_RESHAPE_FOLLOWING_DISTORTION and M_PRESERVE_SHAPE_AVERAGE. - New: MgraLines M_INFINITE_LINES control flag to draw infinite lines from an array of pairs of points. - New: MgraDraw M_NO_INTERACTIVE_ANNOTATION control flag to disable drawing interactive annotations. - New: MgraInquireList M_INTERACTIVE_GRAPHIC_STATE to retrieve the current state of the interactivity of a graphics list (e.g. IDLE, hover handle) - New: MgraControlList M_CONSTRAIN_ASPECT_RATIO control flag to set whether to force the width of objects equal to the height, or not. - New: MgraControlList M_MULTIPLE_SELECTION control flag to set whether to enable interactive selection of multiple graphics using the Ctrl key, or not. 2.17 Regions - New: MbufSetRegion M_FILL_REGION combination flag to interpret all graphics list elements as filled graphics. 2.18 Primitives - New: MbufClearCond function to clear the pixels satisfying a specified condition. - New: MimDilate and MimErode M_BINARY_ULTIMATE mode to perform ultimate morphological dilate and erosion. - New: MimArith operations: M_EXP, M_CONST_EXP, M_LOG, M_LOG_CONST and M_CONST_LOG. - New: MimArith allows many existing operations to be performed interpreting pixels as logical boolean values (see M_LOGICAL). - New: MimArith can now perform operations with constant operand in floating-point accuracy using the M_FLOAT_PROC combination flag. - New: M_POWER function in MgenLutFunction (A. X ^ B + C). - New: the following context types can be streamed with MimSave, MimRestore, and MimStream: M_DEAD_PIXEL_CONTEXT,M_FLAT_FIELD_CONTEXT, M_MATCH_CONTEXT, M_REARRANGE_CONTEXT and M_STAT_MULTIPLE_CONTEXT. - New: buffers allocated with the M_LUT attribute now support calls to MbufControlNeighborhood so that overscan parameters can be set. - New: MimClip now has the M_SATURATION condition to allow clipping to be done according to the minimum and maximum of the destination buffer properties. - New: MimLocateEvent can now receive M_ALL as a condition to consider all pixels. - New: MimLocateEvent has new combination constants: M_LOCAL_MAX_NOT_STRICT, M_LOCAL_MAX_STRICT_MEDIUM, M_LOCAL_MIN_NOT_STRICT and M_LOCAL_MIN_STRICT_MEDIUM. - New: MimConnectMap now supports white overscan. See MbufControlNeighborhood M_OVERSCAN_REPLACE_VALUE control set to M_REPLACE_MAX on the received LUT. - Improvement: the accuracy of the optimized version of MbufBayer with M_AVERAGE_2X2 interpolation has been improved. - Improvement: MbufBayer with M_WHITE_BALANCE_CALCULATE now normalizes coefficients with the maximal average value from the r, g, b bands. - Improvement: MbufBayer white balancing coefficient calculation is improved. - Improvement: the robustness of MimBinarize(...M_TRIANGLE_BISECTION_...) to small changes in the histogram of the image has been improved. - Improvement: MimCountDifference is now optimized for SSE2 CPU and for multiprocessing as well. 2.19 Matrox Profiler - New: Matrox Profiler tool allows to graphically and interactively analyze the MIL traces including the MIL functions, the MIL events, the MIL errors, etc... 3. Deprecated functionalities 3.01 General - Several MIL constant values (e.g. M_TYPE_CHAR, M_TYPE_SHORT, M_TYPE_MIL_INT, M_TYPE_MIL_INT32, M_TYPE_MIL_INT64, M_TYPE_MIL_FLOAT, M_TYPE_DOUBLE, M_TYPE_MIL_ID, M_TYPE_MIL_TEXT, M_AVAILABLE, and M_SUPPORTED) now require a MIL_INT64 variable to store it, if needed. - Queuing results by calling several M..GetResult(), M..GetResult1D(),... with an M_NULL result pointer is now deprecated. - M_DRAW_RELATIVE_ORIGIN_X, M_DRAW_RELATIVE_ORIGIN_Y, M_DRAW_SCALE_X and M_DRAW_SCALE_Y controls are now deprecated. They are replaced by MgraControl on the graphic context with M_DRAW_OFFSET_X, M_DRAW_OFFSET_Y, M_DRAW_ZOOM_X and M_DRAW_ZOOM_Y. - MbufControlRegion is deprecated and replaced by MbufControlArea to remove the ambiguity with the region (MbufSetRegion) functionalities. 3.02 Bead module - M_POSITION_MODE control is deprecated and replaced by M_TRAINING_PATH. - M_USER_DEFINED position mode is deprecated and replaced by M_POLYLINE training path. - M_AUTO position mode is deprecated and replaced by M_POLYLINE_SEED training path. 3.03 Calibration module - McalTransformResult M_ALLOW_INVALID_POINT_OUTPUT combination flag is deprecated. M_INVALID_POINT is returned when the value cannot be transformed. - McalTransformCoordinate, McalTransformCoordinateList, McalTransformCoordinate3dList, and McalTransformResultAtPosition ; M_ALLOW_INVALID_POINT_OUTPUT combination flag is deprecated and replaced by M_NO_POINTS_BEHIND_CAMERA. Note that even if not using M_NO_POINTS_BEHIND_CAMERA, the function may return M_INVALID_POINT when transforming pixels on the horizon line. - McalTransformCoordinate3dList M_PLANE_INTERSECTION mode flag is deprecated ; use M_DEFAULT instead. 3.04 Color module - M_CIEDE94_GRAPHIC_ARTS is deprecated and replaced by M_CIE94_GRAPHIC_ARTS. - M_CIEDE94_TEXTILE is deprecated and replaced by M_CIE94_TEXTILE. 3.05 Measurement module - M_POSITION_MIN edge result type is deprecated and replaced by M_EDGEVALUE_PEAK_POS_MIN. - M_POSITION_MAX edge result type is deprecated and replaced by M_EDGEVALUE_PEAK_POS_MAX. - M_CONTRAST edge result type is deprecated and replaced by M_EDGEVALUE_PEAK_CONTRAST. - M_CONTRAST_SCORE edge score property is deprecated and replaced by M_EDGEVALUE_PEAK_CONTRAST_SCORE. - M_WIDTH edge result type is deprecated and replaced by M_EDGEVALUE_PEAK_WIDTH. - M_WIDTH stripe result type is deprecated and replaced by M_STRIPE_WIDTH. - M_WIDTH_SCORE stripe score characteristic is deprecated and replaced by M_STRIPE_WIDTH_SCORE. - The value M_ENABLE for M_SEARCH_REGION_CLIPPING in MmeasSetMarker is deprecated and replaced by M_MAXIMIZE_AREA. - M_EDGE_THRESHOLD control is deprecated and replaced by M_EDGEVALUE_MIN. - The M_ALL parameter index in MmeasDraw is deprecated and replaced by M_RESULT_ALL_OCCURRENCES. - The deprecated M_WEIGHT_FACTOR is now obsolete and will lead to a MIL error. MmeasSetScore must be used instead. - M_DRAW_ARROW draw type is deprecated and replaced by M_DRAW_SEARCH_DIRECTION. 3.06 Metrology module - MmetInquire M_METHOD control flag is deprecated and replaced by M_OPERATION control flag. - M_CONSTRUCTION_FEATURE_LABEL is deprecated and replaced by M_BASE_FEATURE_LABEL. - M_CONSTRUCTION_FEATURE_INDEX is deprecated and replaced by M_BASE_SUBFEATURE_INDEX. - M_NUMBER_OF_CONSTRUCTION_FEATURE_LABEL is deprecated and replaced by M_BASE_SUBFEATURES_ARRAY_SIZE. - M_NUMBER_OF_CONSTRUCTION_FEATURE_INDEX is deprecated and replaced by M_BASE_FEATURES_ARRAY_SIZE. - M_FILTER_MODE, M_FILTER_WIDTH and M_KERNEL_DEPTH are deprecated. - M_VISIBLE is deprecated and replaced by M_DRAWABLE. 3.07 Model Finder - M_FILTER_MODE, M_FILTER_WIDTH and M_KERNEL_DEPTH are deprecated. 3.08 Edge Finder - M_FILTER_MODE, M_FILTER_WIDTH and M_KERNEL_DEPTH are deprecated. 3.09 Interactive utilities - All M_INTERACTIVE dialogs are deprecated, except for Save, Restore and Stream operations. 4. Fixed bugs 4.01 General - MdigProcess did not propagate its associated calibration to the grabbed images. - The M_PROC buffer attribute was not required by all processing functions including: MedgeMask, MedgeDraw, MblobDraw, MblobFill, MblobLabel, MmeasDraw, MmeasFindMarker, MmetDraw, MocrDraw, MregDraw, MregControl, MstrDraw, MstrExpert, McodeDraw, MpatDraw, MpatAllocModel, MpatCopy, MpatSetDontCare, McolDefine, McolDistance, McolDraw, McolMask, McolMatch, McolProject, M3dmapAddScan, M3dmapArith, M3dmapDraw, M3dmapExtract, M3dmapSetGeometry, M3dmapStat, MbeadDraw, MbeadTrain, MbeadVerify, MmodControl, MmodDefine, MmodDraw, MmodMask, and MmodFind. 4.02 Bead module - MbeadTrain, MbeadVerify and MbeadTemplate functions now validates that only unsigned 8-bit mono buffers are supported. - MbeadGetResult did not work properly on remote systems when using DMIL. - MbeadVerify will no longer lead, under some circumstances, to an exception with an image having no bead. - MbeadDraw will no longer draw the M_DRAW_SEARCH_BOX centered on the found position instead of the trained position. 4.03 Blob module - MblobDraw(...M_DRAW_CONVEX_HULL...) will no longer crash when the necessary features were not previously selected with MblobSelectFeature(). - MblobGetRuns will no longer crash when using the M_LABELED identification mode and calculating the convex hull. - MblobCalculate wrongly accepted binary buffers as the grayscale image, leading to erroneous results. - M_RETURN_PARTIAL_RESULTS will no longer return invalid results for some features such as the general centered moments. - Inquiring the M_RETURN_PARTIAL_RESULTS will no longer return M_YES/M_NO but M_ENBALE/M_DISABL as expected. 4.04 Calibration module - McalTransformCoordinate was not thread-safe. - McalGrid will no longer fail, in some special cases, when the grid had an orientation near 45-degrees combined with very high perspective deformation. - McalGrid will no longer find wrong positions with M_CHESSBOARD_GRID when the image is highly distorted. - McalList did an incorrect parameter check for the minimum number of 3D points needed; it always required 6 points. - McalFixture was not taking into account the relative coordinate system when using a calibration context as a reference (instead of an image). 4.05 Code module - Mix of parity patterns were not properly validated for EAN-13. - McodeDraw will no longer alter the destination buffer associated calibration, if any. - PDF417 and TruncatedPDF417 error correction will no longer fail in rare situations. - PDF417 and TruncatedPDF417 accepted impossible combinations of the numbers of cells in X and Y with X*Y&gt;928, which is greater than the maximum number of codewords allowed. - PDF417 and TruncatedPDF417 will no longer detect the wrong number of columns or rows for some specific codes. - Size of the 2D part of a composite code will no longer be incorrectly estimated. - Under rare circumstances the wrong string will no longer be read with MicroPDF417: codewords 916 and 917 will no longer be incorrectly handled. - Stability of the AIM DPM verification has been fixed for Data Matrix. - Reading a code in a region outside the target image did not refresh the M_STATUS of the results. - McodeRead will no longer fail decoding a degraded QRCode containing the maximum error correction capacity. - McodeRead will no longer potentially crash when reading 2-State and 4-State codes. 4.06 Color module - McolDistance normalization was not working properly for M_BGR32 buffers. - McolMatch with M_HISTOGRAM_MATCHING directly on a sample image will no longer lead to an incorrect M_SCORE_RELEVANCE value over 100%. - McolInquireSafeType (M_MIL_USE_SAFE_TYPE) will no longer lead to false errors in rare circumstances. - McolSetMethod wrongly generated an error when using M_HISTOGRAM_MATCHING with the M_MANHATTAN distance and M_CIELAB color space. 4.07 Edge Finder module - MedgeGetNeighbors with M_GET_EDGELS will no longer lead to an exception under some specific circumstances. 4.08 Measurement module - MmeasSetMarker(...M_RING_RADII..) will no longer lead to an inner radius greater than the outer radius when the outer radius was set to M_DEFAULT. - MmeasDraw(...M_DRAW_SEARCH_REGION...) did not draw anything when the M_BOX_ANGLE control was set to M_ANY. It now draws the box at 0 degree. - MmeasDraw(...M_DRAW_SEARCH_REGION...) did not draw anything when M_BOX_SIZE was set to M_DEFAULT. - MmeasFindMarker stability with circle and stripe markers has been fixed. - The default search region, defining the whole image, will longer results in potential unstable calculations. - The default search region for circle markers was not perfectly at the image subpixel center. - MmeasInquire used with the M_SUPPORTED combination flag will no longer lead to a MIL error. - Calling MmeasGetResult before MmeasFindMarker will no longer cause an exception. - M_CONTRAST result will no longer give negative values when using an M_SHEN or M_PREWITT filter types. - MmeasFindMarker will no longer find circles whose centers are not inside the search region. - MmeasFindMarker will no longer falsely report a &quot;region out of image&quot; error message. - MmeasFindMarker returned inaccurate subedges results if using an aspect ratio. - The subpixel location of an edge will no longer be biased in the presence of very close consecutive edge transitions. - When using multiple sub boxes foe edge and stripe markers, the data of the last sub box will no longer be partially projected. - M_SUB_EDGES_POSITION and M_SUB_EDGES_WEIGHT results will now be ordered similarly to M_SUB_EDGES_MARKER_INDEX results. - A specific sequence of MeasSetScore/MmeasFindMarker/MmeasSetScore/ MmeasGetScore calls will no longer result in a crash. - MmeasDraw with M_DRAW_BOX no longer leads to an incorrect drawing when some box settings are set to M_DEFAULT. - All edge and stripe marker annotations (crosses) are all consistently drawn at the angle of the measurement box. - MmeasStream will no longer generate a small memory leak. - The M_INCLUSION_POINT will no longer ignore the input unit setting. 4.09 Metrology module - When drawing in a calibrated destination, the Y-axis of the local frames was not aligned with the world Y-axis, but orthogonal to the world aligned X axis. - MmetCalculate will no longer skip calculations if only the calibration information of an image changed and not its content. - MmetDraw with M_ACTIVE_EDGELS will no longer draw the fitted edgels instead of the selected ones. - MmetDraw, horizontal and vertical constructed parametric lines could not be drawn. - The arrow of an arc region was not drawn properly when the start angle was greater than the end angle. - MmetDraw of edgels did not properly consider the calibration of the image used by MmetCalculate. - MmetDraw will no longer draw unsuccessful calculated features at (0, 0). It now draws nothing. - MmetDraw will no longer ignore the calibration information of the destination image when drawing tolerances. - The farthest point (M_MAX_DISTANCE_POINT) between a circle and an arc will no longer give the wrong point. - MmetGetResult will no longer return the wrong pixel unit coordinates for measured points when calculating on a calibrated image. - M_RESULT_OUTPUT_FRAME set to M_GLOBAL_FRAME did not return the correct results. - Perpendicularity and parallelism tolerances were not always returning the smallest angular values. - The construction of a perpendicular line, a parallel line, or a line at angle was not properly validating the type of the reference feature. An error message will now pop when the construction is invalid. - MmetCalculate will no longer find edgels outside the measured region when using a calibration with a very distorted pixel to world mapping. 4.10 Model Finder module - MmodFind will no longer generate a run-time exception in very rare configuration with very short extracted edge chains. - Under some circumstances, MmodFind could not find a synthetic rectangular model if M_ACCURACY was set to M_LOW. - MmodRestore(... M_WITH_CALIBRATION ...) will no longer lead to an error in MmodPreprocess. - Robustness fixes with M_GEOMETRIC_CONTROLLED contexts when using the M_LAST_LEVEL control. - MmodDraw M_DRAW_MODEL_IMAGE and M_DRAW_EDGES for synthetic and CAD models did not take into account the graphic context color setting, but forced the color to 255. 4.11 OCR module - M_CHAR_SPACING result returned incorrect values when the read string was at an angle. - MocrDraw ignored the color of the received graphic context. - MocrGetResult with M_CHAR_SPACING, M_CHAR_SIZE_X/Y, M_STRING_ANGLE was not returning results in world units even if the read was performed with a calibrated image. - MocrPreprocess will no longer lead to an exception if M_TARGET_CHAR_SPACING is set lower than 2. - MocrReadString will no longer give unstable results when there are fewer characters in the image than the number of characters to read. - MocrReadString was not working properly when reading characters at angle with a different scale than the font. - MocrReadString will no longer lead to an exception when M_STRING_ANGLE_DELTA_NEG or M_STRING_ANGLE_DELTA_POS are set to 2. - Predefined SEMI font contexts will no longer read with a bad checksum if the number of strings is greater than one. 4.12 Pattern matching module - MpatFindModel was not working perfectly with very large buffers (one pixel size over 65535). - MpatFindModel with circular overscan model will no longer find multiple occurrences at the same position with multiprocessing enabled. - MpatFindModel will no longer have a memory leak with multiprocessing enabled. - MpatFindModel is now able to find a model if the occurrence position is too close to the search region borders. - M_MIN_SPACING_X, M_MIN_SPACING_Y were not working properly when searching for a model at an angle. - M_SAVE_SUMS set to M_ENABLE will no longer lead to incorrect results when the center of the model is also changed. - MpatFindModel will no longer crash when setting an M_MODEL_STEP to an unexpected value. - MpatFindModel is now able to find large models with don't care mask and model step of 2. - In rare cases, MpatFindModel will no longer crash when using very large models. 4.13 Registration module - MregTransformImage erroneously accepted destination buffer formats other than 8+M_UNSIGNED. 4.14 String Reader module - For MstrRead and MstrExpert, a lack of memory will no longer lead to a memory leak in very special circumstances. - MstrRead will no longer be unable to read in an image with an associated region and with the M_THICKEN_CHAR control set to a non-null value. - MstrRead will no longer potentially crash or lead to incorrect results when disabling some characters from a fontless context. 4.15 3dmap module - M3dmapExtract M_FILL_MISSING_DATA_ONLY was not allowed on empty results. - M3dmapExtract with M_USE_DESTINATION_SCALES now works on physically corrected images with a pixel rotation (fixtured buffers). - M3dmapTriangulate now works with DMIL remote systems. - M3dmapArith did not work properly on two source images with different calibration child offsets. It now reports an error. - M3dmapExtract with M_USE_DESTINATION_SCALES did not take into account the calibration child offsets when extracting from a child of the 3d-corrected buffer. - M3dmapExtract with M_USE_DESTINATION_SCALES did not work properly with a physically corrected image destination having a rotated relative coordinate system (fixture). - M3dmapCalibrate in M_CALIBRATED_CAMERA_LINEAR_MOTION mode will no longer ignore the M_Y_AXIS_UP setting of the camera calibration. - M3dmapExtract will no longer ignore to set the relative coordinate system. The relative coordinate system is now correctly set to the 3d reconstruction coordinate system. - M3dmapArith will no longer ignore to set the relative coordinate system. The relative coordinate system is now correctly set to the 3d reconstruction coordinate system. 4.16 Graphic functions - MgraLines did not always render the exact same line when executed on child buffers versus when executed on its ancestor buffer. - MgraArcFill will no longer crash for very large arcs. - MgraInquireList(...M_LAST_LABEL...) will no longer erroneously return a zero label value. - MgraClear will no longer ignore the colors from the received graphic context with on-board allocated buffers. - Mgra functions execution will no longer be abnormally slow on GPU systems. - MgraControlList on M_ALL or M_ALL_SELECTED objects will no longer report an error when the control does not apply to some graphic objects. - MgraControlList did not correctly handle the M_AVAILABLE, M_SUPPORTED, and M_DEFAULT combination flags. - MgraText will now correctly interpret the M_FONT_SIZE setting. - After deleting the last graphic of a graphic list, inquire to M_LAST_LABEL will no longer return an invalid label value but M_NO_LABEL instead. 4.17 Regions - MbufSetRegion function will no longer lead to an exception if function calls to the calibration module are not previously done. 4.18 Primitives - Loading or streaming an image with no associated region into a buffer was deleting its region, if any. The region now remains intact. MbufSetRegion(...M_DELETE...) must be used to remove a region. - MbufBayer applied the gamma correction after the demosaicing operation. - MbufBayer with M_AVERAGE_2X2 will no longer lead to an exception with very small buffers. - MimMorphic with M_BINARY processing mode used uninitialized overscan data when the destination was an 8-bits buffer. - MimMorphic with 0 iterations had inconsistent behaviors. It now copies the source to the destination. - MimMorphic performed all the iterations except the first one in the data type of destination. All iterations are now done and saturated according to the data type of the source buffer, then the result is put to the destination buffer. - MimMorphic was truncating intermediate results when either the source, the destination or the structuring element was a floating-point buffer. - MimThin and MimThick with 0 iterations had inconsistent behaviors regarding MimMorphic. It now copies the source to the destination. - MbufCopyColor2d was allowed for subsampled bands (e.g. U and V bands for subsampled YUV formats). It is now protected. - MimTransform with M_FFT will no longer give inexact results with some images when doing a reverse transform using only the 'real' part of the results. - MimDraw is now working properly on 3-band color buffers. - MimDraw now correctly considers the color set by the M_DEFAULT graphic context. - MimDraw with M_DRAW_PEAKS will no longer give annotations off by half a pixel. - MimDilate, MimErode, MimThin and MimThick functions always perform a buffer copy if the number of iterations is set to 0. - MimPolarTransform will no longer lead to an exception when using a small angle. - MimConvert will no longer give erroneous results with M_BGR32+M_PACKED image buffers when using matrix multiplication with a 4x3 matrix. - MimLocateEvent will no longer lead to an exception when using multiprocessing optimization. - MimMatch will no longer lead to an exception when using very large models. - MimPolarTransform will no longer have inconsistent results when doing a transform and its reverse. - Copying a YUV source image to an RGB destination with a type equal to or greater than 16 bits no longer leads to erroneous values. - MimPolarTransform will no longer leads to erroneous values when the buffer is a child band of a non-regular buffer. - MimThin with M_BINARY2 and a white overscan no longer occasionally leads to a crash. - Under Windows XP, MappInquireMP(M_MEMORY_BANK_AFFINITY_MASK) and MbufAllocColor will no longer be inconsistent. - MbufExport(...M_WITH_CALIBRATION...) will no longer malfunction with compressed buffers. 4.19 Interactive utilities - Code Reader interactive utility will no longer prevent you from properly editing the number of cells in X with PDF417 and MicroPDF418 codes. - Code Reader interactive utility will no longer lead to an exception when reading many code symbols. - OCR Reader interactive utility did not report read, verify of preprocessing errors. - OCR Reader interactive utility did give the focus to an inaccurate window when selecting a result. - Color Analysis interactive utility will no longer display some artifacts when zooming the display of a color sample. - Model Finder interactive utility did not correctly update the preprocess status when modifying the pixel scale of a synthetic model. - Metrology interactive utility will no longer lead to an exception when opening the 'modify' dialog on a tolerance defined with a single feature. - Metrology was not correctly displaying a reference template images when using 32+M_FLOAT format buffer. - The calibration dialog in the interactive utilities erroneously allowed associating an image document to an empty calibration, leading to MIL errors. - Using an interactive utility with a remote Iris system (DMIL) and with no local license prevented the deinterlace and the calibration dialogs from working properly. - Pasting an image in an interactive utility gave an inaccurate error message when no license was present. - Stability fixes in the continuous grab functionality. - Stability fixes in the calibration dialog when using the 'Associate to digitizer' option. - Opening the MIL help will no longer lead to an incorrect section if MIL help was already opened. 5. Known limitations 5.01 Graphic functions - Interactive edition only tracks the region distortion, but not the drawing. The region drawing can track the region distortion when the M_CONVERSION_MODE is set to M_RESHAPE_FOLLOWING_DISTORSION. 5.02 Interactive utilities - The MIL Interactive utilities (e.g. Matrox Inspector) ignore regions of images. - M_DRAW_OFFSET_X/Y and M_DRAW_ZOOM_X/Y controls are currently not used by the interactive edition nor by the processing modules when using M_VECTOR type regions. - Calibration dialog of the specific MIL Interactive utilities (e.g. Model Finder GUI): if a child buffer is selected, the calibration is performed using the child, but associated to the parent. This leads to incoherent results. Selecting a child should be avoided when performing a calibration using a specific MIL Interactive utilities. - Inspector Measurement dialog has been updated to prevent from using the old deprecated scores. 5.03 Regions - The raster version of a MIL 10 image's region is discarded when the image is loaded in an older version of MIL (i.e. MIL 9 PP2 and older). Forcing MbufSetRegion(...M_RASTERIZE...) after loading the image will restore the raster version. 5.04 Metrology - Contexts having features or tolerances with an associated name (MmetSetname) and saved under Windows, cannot be restored on Linux; and vice-versa. Removing the names solves the issue. 5.05 Matrox Profiler - Combining application and thread level activation or deactivation of the trace log can lead to incoherent results when visualized with the Matrox Profiler. 5.06 Streaming functions - Loading a stream (file or memory) containing a different object type when using MxxxStream with an M_LOAD operation will not generate a MIL error as it should. The loaded object could be in an unstable state, particularly on a remote DMIL system. ------------------------------------------------------------------------------- ------------------------------------------------------------------------------- Appendix A : Command Reference for MIL X Update 114 and Update 115 Table of Contents for Appendix A 1. Additions to MclassControl() 2. Additions to MclassInquire() See the PredictEngineSelection example for more information about using the new controls and inquires. ------------------------------------------------------------------------------- 1. Additions to MclassControl() - The following ControlType and corresponding ControlValue parameter settings can be set to one of the following values. In this case, set the ContextOrResultClassId parameter to the identifier of a predefined CNN or segmentation classifier context (M_CLASSIFIER_CNN_PREDEFINED or M_CLASSIFIER_SEG_PREDEFINED), and set the LabelOrIndex parameter to M_DEFAULT (same as M_CONTEXT). - M_PREDICT_ENGINE: Sets the predict engine. M_DEFAULT: Specifies to use the predict engine set during MIL installation or later using the MILConfig utility. 0 &lt;= Value &lt; M_NUMBER_OF_PREDICT_ENGINES: Specifies the predict engine index to use. 2. Additions to MclassInquire() - To inquire about a predict engine setting, set the InquireType parameter to one of the following values. In this case, set the ContextOrResultClassId parameter to the identifier of a predefined CNN or segmentation classifier context (M_CLASSIFIER_CNN_PREDEFINED or M_CLASSIFIER_SEG_PREDEFINED), and set the LabelOrIndex parameter to M_DEFAULT (same as M_CONTEXT). - M_NUMBER_OF_PREDICT_ENGINES: Returns the number of predict engines detected. Returns a value greater than 0. You can inquire the specifications of each predict engine using M_PREDICT_ENGINE_PROVIDER, M_PREDICT_ENGINE_DESCRIPTION and M_PREDICT_ENGINE_PRECISION. - M_PREDICT_ENGINE_USED: Returns the predict engine used by the context. That value should match the value set using M_PREDICT_ENGINE unless the order of predict engine is modified; this can occur when the environment running MIL is modified. When M_DEFAULT is returned, it indicates that the predict engine currently being used is the one selected in the MILConfig utility. When M_INVALID is returned, it indicates the specified predict engine is not found. Otherwise, the index of the used predict engine is returned. - For the following predict engine inquire types, you must set the LabelOrIndex parameter to M_PREDICT_ENGINE_INDEX(MIL_INT PredictEngineIndex). This specifies the predict engine index about which to inquire. You can set the index to: 0 &lt;= PredictEngineIndex &lt; M_NUMBER_OF_PREDICT_ENGINES. For example, to inquire about predict engine 1, specify M_PREDICT_ENGINE_INDEX(1). You can inquire the number of predict engines available using M_NUMBER_OF_PREDICT_ENGINES. - M_PREDICT_ENGINE_PROVIDER: Returns the provider at the given predict engine index. When M_DEFAULT_CPU is returned, it specifies the default predict engine provider, this is available regardless of the hardware present. When M_OPENVINO is returned, it specifies that the predict engine provider is OpenVINO. This is available only when update 114 is installed. When M_CUDA is returned, it specifies that the predict engine provider is CUDA. This is available only when update 115 is installed. - M_PREDICT_ENGINE_DESCRIPTION: Returns a string describing the predict engine at the given index, cast as an array of MIL_TEXT_CHAR or, in C++, a MIL_STRING. The returned text string is a text description of the engine type as seen by the execution provider. - M_PREDICT_ENGINE_PRECISION: Returns the precision of the predict engine at the given index, cast as a MIL_INT. When M_FP32 is returned, it specifies that the precision used by the predict engine is floating point 32-bit. When M_FP16 is returned, it specifies that the precision used by the predict engine is floating point 16-bit. ",
      "wordCount": 59480,
      "subEntries": []
    }
  ]
}]