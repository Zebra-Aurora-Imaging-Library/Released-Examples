[{
  "id": "Readme_LicenseServer",
  "version": "2023100322",
  "title": "LicenseServer",
  "wordCount": 0,
  "subEntries": [
    {
      "id": "Readme_LicenseServer_LicenseServer",
      "title": "LicenseServer",
      "location": "MIL Release Notes",
      "pageURL": "\\LicenseServer\\LicenseServer.htm",
      "text": " -------------------------------------------------------------------------------- Matrox Imaging Library (MIL) X Update 122 Release Notes (NetworkLicenseClientServer) January 2023 (c) Copyright Matrox Electronic Systems Ltd., 1992-2023. -------------------------------------------------------------------------------- This document outlines the functionalities of the MIL network license client-server. MIL X Update 122 is a cumulative update, including all content from MIL 10 Update 4 and 60. Note that MIL X Service Pack 5 and up include the MIL network license client and do not require Update 122 and MIL X 22H1 includes Service Pack 5. -------------------------------------------------------------------------------- Contents 1. Overview 2. Server-side setup 2.1 Central server service installation 2.2 Controlling the service 2.2.1 Changing the port used by the server 2.2.2 Debugging 2.2.3 Enabling logs 3. Client-side setup 3.1 Client-side (MIL X Update 122) installation without Service Pack 5 3.2 Client-side installation with Service Pack 5 3.3 Licensing features 3.4 Administrator feature 4. What's new 4.1 What's new in Update 122 (and Service Pack 5) 4.2 What's new in Update 60 4.2.1 What's new on the server side 4.2.2 What's new on the client side -------------------------------------------------------------------------------- -------------------------------------------------------------------------------- 1. Overview Network licensing employs a client-server architecture to provide licenses to one or more clients from a network license dongle connected to a central server. The central server runs without MIL on a computer reachable over a network by one or more clients where MIL is installed. The central server can also reside on the same computer as one of the clients. -------------------------------------------------------------------------------- 2. Server-side setup 2.1 Central server service Installation To install the central server service, run Windows: CentralServer_Setup.exe. Linux: sudo bash centralserversetup.run Important: Under Linux, MIL and the central server cannot be both installed on the same PC. 2.2 Controlling the service The central server service can be controlled by using the serverctl batch file. Open a command prompt as an administrator and change to the folder where centralserver is installed, which typically is: Windows: C:\\Program Files (x86)\\Matrox Imaging Tools\\centralserver Linux: /opt/matrox_imaging/tools/centralserver Run serverctl without parameters for a complete list of supported commands. 2.2.1 Changing the port used by the server - To change the port used by the server, run the command: Windows: serverctl setport NN Linux: sudo /opt/matrox_imaging/tools/serverctl setport NN where NN must be replaced with a valid port number. Note: if you are not using the default port, every client will have to be configured to use this port. 2.2.2 Debugging - The centralserver executable can be run in a terminal console to view additional debugging information. Before launching the executable in a terminal console, verify that the service has stopped as only one instance of the service can run at a time. To stop the service, use: Windows: serverctl stop Linux: sudo /opt/matrox_imaging/tools/serverctl stop 2.2.3 Enabling logs - It is possible to enable server logs. To do so, run the command: Windows: serverctl enablelog Linux: sudo /opt/matrox_imaging/tools/serverctl enablelog - The log files will be created under : Windows: the %programdata% folder, which typically is C:\\programdata\\Matrox Imaging\\log. Linux: /var/lib/mil. - The log files can become quite large. Don't forget to disable them when they are no longer needed using: Windows: serverctl disablelog Linux: sudo /opt/matrox_imaging/tools/serverctl disablelog - If requested by Matrox technical support, it is possible to generate a dump of the server info to the %TEMP% folder. To do so, use: Windows: serverctl serverinfo Linux: sudo /opt/matrox_imaging/tools/serverctl serverinfo - This command creates a log folder Windows: %TEMP%\\CentralServerDump. Linux: /tmp/CentralServerDump Please zip this folder and send the .zip file to Matrox technical support. -------------------------------------------------------------------------------- 3. Client-side setup 3.1 Client-side (MIL X Update 122) installation without Service Pack 5 (Windows only) On each client PC, run the MIL X Update 122 setup. This update will ask for the network name of the PC where the central server is running and the associated port number. Note that this needs to be set only if the port number was changed during the central server setup. 3.2 Client-side installation with Service Pack 5 Update 122 does not need to be installed if Service Pack 5 or above is present on each client PC. One simply needs to run: Windows: milconfig -activatelicenseserver [servername[:port]] Linux: milconfig --activatelicenseserver [servername[:port]] Note: the port only needs to be specified if a the port number was changed during the central server setup. 3.3 Licensing features The license status of all the MIL modules is listed in the MilConfig utility's Licensing status page. The License Server page has options to perform the following: - Change the name of the central server. - Change the connection port. - Set a description string to help the administrator identify the different clients. - Automatically reserve a license when the client PC boots up to speed up application allocation. 3.4 Administrator feature The MIL License Server Status tool shows information on all connected clients and on available licenses. This tool is available from MilConfig's License Server page. -------------------------------------------------------------------------------- 4. What's new 4.1 What's new in Update 122 (and Service Pack 5) - Added support for new part numbers. 4.2 What's new in Update 60 4.2.1 What's new on the server side - Serverctl.bat was added to simplify the management of the central server. The server will now tolerate that the network license dongle is connected after the server is started. Allow up to 5 minutes before the licenses become available to the clients after the network license dongle is connected. - The server will also now tolerate that the network license dongle is disconnected and reconnected as long as a grace period (typically 30 minutes) is not exceeded. - Fixed a resource leak when no network license dongle is connected and clients keep connecting to the server. - Fixed bug where licenses could be leaked when multiple clients are connecting at the same time particularly when not using &quot;Pre-reserve mode&quot;. 4.2.2 What's new on the client side - Fixed an intermittent update problem in the MIL License Server Status tool. - Fixed intermittent crash in the MIL License Server Status tool. - The status in MILConfig's license server page will now be updated periodically. - The MIL License Server Status tool now shows the approximate time left in the grace period when the network connection is lost. -------------------------------------------------------------------------------- ",
      "wordCount": 1021,
      "subEntries": []
    }
  ]
}]