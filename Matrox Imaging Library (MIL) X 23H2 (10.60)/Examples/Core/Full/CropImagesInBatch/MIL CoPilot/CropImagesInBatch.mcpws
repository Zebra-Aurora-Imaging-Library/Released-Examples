<?xml version="1.0" encoding="utf-8"?>
<Workspace version="26" milversion="1060" DefaultSystem="5" MilLiteCompatible="true" ReadOnly="true" Description="This workspace shows how to crop images from a folder in batch." WorkspaceType="BatchMode">
  <MOperationsManager>
    <CommandLineArgumentHandler UniqueIdentifier="12" Type="AutoGeneratedFunction" GeneratedCodeOnly="true" HiddenOperation="true" EditionRibbon="None" DefaultValue="$I{MILIMAGESDIR}\Classification\Pasta\Products" Offset="1" Required="false" Variable="Argument1" />
    <CommandLineArgumentHandler UniqueIdentifier="38" Type="AutoGeneratedFunction" GeneratedCodeOnly="true" HiddenOperation="true" EditionRibbon="None" DefaultValue="$I{WORKSPACEDIR}\Output" Offset="2" Required="true" Variable="Argument2" />
    <MOperationSingle UniqueIdentifier="2" Type="InternalAlloc" ManagedObject="3" EditionRibbon="None">
      <MFunctionCall FunctionName="MappAlloc">
        <MFunctionCallParam ParamType="IntPtr" Define="M_NULL" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="3" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="6" Type="InternalAlloc" ManagedObject="5" EditionRibbon="None">
      <MFunctionCall FunctionName="MsysAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="String" String="M_SYSTEM_HOST" MString="$I{IMILMAINSYSTEM}" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="14" Type="AutoGeneratedAlloc" ManagedObject="7">
      <MFunctionCall FunctionName="MdigAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Filename" Variable="Argument1" ReadOnly="true" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSortedMultiple UniqueIdentifier="18" Type="PostAllocBlock" ManagedObject="7" EditionRibbon="None" NbFunctions="0" />
    <MOperationDigProcess Digitizer="7" UniqueIdentifier="20" Type="AutoGeneratedFunction" GeneratedCodeOnly="true" CustomName="MdigProcess operation" EditionRibbon="None" EntryPointForContext="2" NbFunctions="1">
      <MFunctionCall FunctionName="MdigProcess">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="IntPtr" Define="M_NULL" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_SEQUENCE+M_COUNT(M_ALL)" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_DIG_HOOK_FUNCTION_PTR" Define="ProcessingFunction" />
        <MFunctionCallParam ParamType="VoidPtr" Define="UserHookData" />
      </MFunctionCall>
    </MOperationDigProcess>
    <MnullOperation UniqueIdentifier="26" Type="InternalAlloc" FunctionContext="2" ManagedObject="9" EditionRibbon="None" IdExternallyManaged="true" />
    <MOperationLoopHeader IsHeader="true" UniqueIdentifier="22" Type="AutoGeneratedFunction" FunctionContext="2" CustomName="Header" HiddenOperation="true" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MobjInquire" BlockUniqueTag="M_OBJECT_FILE_NAME_NO_EXTENSION">
        <MFunctionCallParam ParamType="IMObject" IMObject="9" />
        <MFunctionCallParam ParamType="Int64" Define="M_OBJECT_FILE_NAME_NO_EXTENSION" />
        <MFunctionCallParam ParamType="StringBuilder" Name="FileNameNoExtension" CanBeAutomaticVariable="true" />
      </MFunctionCall>
    </MOperationLoopHeader>
    <MOperationSingle UniqueIdentifier="56" Type="AutoGeneratedAlloc" FunctionContext="2" ManagedObject="45" EditionRibbon="Child">
      <MFunctionCall FunctionName="MbufChildColor2d">
        <MFunctionCallParam ParamType="IMObject" ReadOnly="true" IMObject="9" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ALL_BANDS" />
        <MFunctionCallParam ParamType="MIL_INT" Define="288" />
        <MFunctionCallParam ParamType="MIL_INT" Define="224" />
        <MFunctionCallParam ParamType="MIL_INT" Define="64" />
        <MFunctionCallParam ParamType="MIL_INT" Define="64" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="45" />
      </MFunctionCall>
    </MOperationSingle>
    <ComplexStringOperation UniqueIdentifier="40" Type="AutoGeneratedFunction" FunctionContext="2" EditionRibbon="None" Variable="DestinationImagePath">
      <ComplexString IsAPath="true">
        <ComplexStringVariableToken Variable="Argument2" />
        <ComplexStringStringToken Token="/" />
        <ComplexStringVariableToken Variable="FileNameNoExtension" />
        <ComplexStringStringToken Token=".mim" />
      </ComplexString>
    </ComplexStringOperation>
    <MOperationPrint UniqueIdentifier="44" Type="AutoGeneratedFunction" FunctionContext="2" EditionRibbon="None" PreText="Processing frame " Variable="FrameCount" />
    <MInsertionBar UniqueIdentifier="10" Type="InsertionBar" FunctionContext="2" EditionRibbon="None" />
    <MOperationSpecialSingle UniqueIdentifier="42" Type="AutoGeneratedFunction" FunctionContext="2" GeneratedCodeOnly="true" EditionRibbon="None">
      <MFunctionCall FunctionName="MbufExport">
        <MFunctionCallParam ParamType="Filename" Variable="DestinationImagePath" />
        <MFunctionCallParam ParamType="Int64" Define="M_USE_EXTENSION" />
        <MFunctionCallParam ParamType="IMObject" IMObject="45" />
      </MFunctionCall>
    </MOperationSpecialSingle>
    <MOperationSingle UniqueIdentifier="58" Type="AutoGeneratedFree" FunctionContext="2" ManagedObject="45">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="45" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationLoopHeader IsHeader="false" UniqueIdentifier="24" Type="AutoGeneratedFunction" FunctionContext="2" CustomName="Footer" HiddenOperation="true" EditionRibbon="None" NbFunctions="0" />
    <MnullOperation UniqueIdentifier="28" Type="InternalFree" FunctionContext="2" ManagedObject="9" EditionRibbon="None" IdExternallyManaged="true" />
    <MOperationSingle UniqueIdentifier="16" Type="AutoGeneratedFree" ManagedObject="7">
      <MFunctionCall FunctionName="MdigFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="8" Type="InternalFree" ManagedObject="5">
      <MFunctionCall FunctionName="MsysFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="4" Type="InternalFree" ManagedObject="3">
      <MFunctionCall FunctionName="MappFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
      </MFunctionCall>
    </MOperationSingle>
  </MOperationsManager>
  <MObjectsManager>
    <MApplication UniqueIdentifier="3" IsReadOnly="true" AllocOperation="2" FreeOperation="4" Name="MilApplication" Type="M_APPLICATION" OwnerSystem="0" />
    <MSystem UniqueIdentifier="5" IsReadOnly="true" AllocOperation="6" FreeOperation="8" Name="MilSystem" Type="M_SYSTEM" OwnerSystem="5" />
    <Digitizer UniqueIdentifier="7" AllocOperation="14" FreeOperation="16" PostAllocBlockUniqueID="18" Name="Products" Type="M_DIGITIZER" OwnerSystem="5" GrabBufferBlockUniqueID="9" DigProcess="20" LoopHeader="22" LoopFooter="24" SizeX="DigSizeX" SizeY="DigSizeY" SizeBand="DigSizeBand" DigType="DigType" ImagesHaveSameSize="false" FrameCount="FrameCount" />
    <SingleFrame UniqueIdentifier="9" IsReadOnly="true" IsDigitizerGrabBuffer="true" AllocOperation="26" FreeOperation="28" Name="Active Frame" Type="M_IMAGE" OwnerSystem="5" ParentObject="7" />
    <SingleFrame UniqueIdentifier="45" AllocOperation="56" FreeOperation="58" Name="Child of Active Frame2" Type="M_IMAGE" OwnerSystem="5" ParentObject="9" />
  </MObjectsManager>
  <MFunctionContextManager>
    <MFunctionContext UniqueIdentifier="2" Type="DigHook" LoopHeader="22" LoopFooter="24" />
  </MFunctionContextManager>
  <BatchProcessingManager SourceFolder="$I{MILIMAGESDIR}\Classification\Pasta\Products" DestinationFolder="$I{WORKSPACEDIR}\Output" StringOpForSave="40" SaveOp="42" PrintOp="44" SourceArgHandlerForSave="12" DestArgHandlerForSave="38" SelectedImage="45" />
</Workspace>