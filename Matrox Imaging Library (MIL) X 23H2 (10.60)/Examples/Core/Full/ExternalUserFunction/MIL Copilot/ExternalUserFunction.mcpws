<?xml version="1.0" encoding="utf-8"?>
<Workspace version="26" milversion="1060" DefaultSystem="5" MilLiteCompatible="false" ReadOnly="true" Description="This workspace uses an external user function to move a child buffer to a nut or bolt found using the blob module.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;" UserFunctionPath="$I{WORKSPACEDIR}\MblobChildMove.py" GeneratedSlaveCode="PythonScript">
  <MOperationsManager>
    <MOperationSingle UniqueIdentifier="2" Type="InternalAlloc" ManagedObject="1">
      <MFunctionCall FunctionName="MappAlloc">
        <MFunctionCallParam ParamType="IntPtr" Define="M_NULL" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="6" Type="InternalAlloc" ManagedObject="5" EditionRibbon="None">
      <MFunctionCall FunctionName="MsysAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
        <MFunctionCallParam ParamType="String" String="M_SYSTEM_HOST" MString="$I{IMILMAINSYSTEM}" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="98" Type="AutoGeneratedAlloc" ManagedObject="71">
      <MFunctionCall FunctionName="MdispAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="String" String="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="71" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationMultiple UniqueIdentifier="102" Type="ControlBlock" ManagedObject="71" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MdispControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="71" />
        <MFunctionCallParam ParamType="Int64" Define="M_TITLE" />
        <MFunctionCallParam ParamType="String" String="Blob Patch Display" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSingle UniqueIdentifier="10" Type="AutoGeneratedRestore" ManagedObject="7">
      <MFunctionCall FunctionName="MbufImport">
        <MFunctionCallParam ParamType="Filename" MFilename="$I{MILIMAGESDIR}\BoltsNutsWashers.mim" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_RESTORE+M_NO_GRAB+M_NO_COMPRESS" ReadOnly="true" />
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="14" Type="AutoGeneratedAlloc" ManagedObject="11" FunctionEditor="true">
      <MFunctionCall FunctionName="MbufAllocColor">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="1" />
        <MFunctionCallParam ParamType="MIL_INT" Define="512" />
        <MFunctionCallParam ParamType="MIL_INT" Define="480" />
        <MFunctionCallParam ParamType="MIL_INT" Define="1+M_UNSIGNED" />
        <MFunctionCallParam ParamType="Int64" Define="M_IMAGE+M_PROC+M_DISP" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="11" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="20" Type="AutoGeneratedAlloc" ManagedObject="15" FunctionEditor="true">
      <MFunctionCall FunctionName="MbufClone">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="IMObject" MPseudoObjectType="M_SYSTEM" MPseudoObjectId="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="15" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="26" Type="AutoGeneratedAlloc" ManagedObject="21" FunctionEditor="true">
      <MFunctionCall FunctionName="MbufClone">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="IMObject" MPseudoObjectType="M_SYSTEM" MPseudoObjectId="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="21" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="94" Type="AutoGeneratedAlloc" ManagedObject="63" EditionRibbon="Child">
      <MFunctionCall FunctionName="MbufChildColor2d">
        <MFunctionCallParam ParamType="IMObject" ReadOnly="true" IMObject="7" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ALL_BANDS" />
        <MFunctionCallParam ParamType="MIL_INT" Define="0" />
        <MFunctionCallParam ParamType="MIL_INT" Define="0" />
        <MFunctionCallParam ParamType="MIL_INT" Define="512" />
        <MFunctionCallParam ParamType="MIL_INT" Define="480" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="63" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="32" Type="AutoGeneratedAlloc" ManagedObject="23">
      <MFunctionCall FunctionName="MblobAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="23" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationMultiple UniqueIdentifier="36" Type="ControlBlock" ManagedObject="23" EditionRibbon="None" NbFunctions="2">
      <MFunctionCall FunctionName="MblobControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="23" />
        <MFunctionCallParam ParamType="Int64" Define="M_CENTER_OF_GRAVITY+M_BINARY" />
        <MFunctionCallParam ParamType="Double" Define="M_ENABLE" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MblobControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="23" />
        <MFunctionCallParam ParamType="Int64" Define="M_BOX" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ENABLE" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSingle UniqueIdentifier="40" Type="AutoGeneratedAlloc" ManagedObject="27">
      <MFunctionCall FunctionName="MblobAllocResult">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" ReadOnly="true" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="27" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="18" Type="UserOperation" Description="Binarize the source image." EditionRibbon="MimBinarize">
      <MFunctionCall FunctionName="MimBinarize">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_FIXED+M_GREATER_OR_EQUAL" />
        <MFunctionCallParam ParamType="Double" Define="26" />
        <MFunctionCallParam ParamType="Double" Define="M_NULL" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="24" Type="UserOperation" Description="Remove small particles and then remove small holes." EditionRibbon="BaseMorphologic">
      <MFunctionCall FunctionName="MimOpen">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="MIL_INT" Define="3" />
        <MFunctionCallParam ParamType="Int64" Define="M_BINARY" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="30" Type="UserOperation" EditionRibbon="BaseMorphologic">
      <MFunctionCall FunctionName="MimClose">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="IMObject" IMObject="21" />
        <MFunctionCallParam ParamType="MIL_INT" Define="3" />
        <MFunctionCallParam ParamType="Int64" Define="M_BINARY" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSortedMultiple UniqueIdentifier="38" Type="UserOperation" Description="Calculate selected features for each blob." EditionRibbon="BlobCalculate" NbFunctions="1" MainFunctionOffset="0">
      <MFunctionCall FunctionName="MblobCalculate" BlockUniqueTag="BlobCalculateUniqueKey">
        <MFunctionCallParam ParamType="IMObject" IMObject="23" />
        <MFunctionCallParam ParamType="IMObject" IMObject="21" />
        <MFunctionCallParam ParamType="IMObject" MPseudoObjectType="M_IMAGE" MPseudoObjectId="M_NULL" />
        <MFunctionCallParam ParamType="IMObject" IMObject="27" />
      </MFunctionCall>
    </MOperationSortedMultiple>
    <MOperationPrint UniqueIdentifier="62" Type="UserOperation" EditionRibbon="PrintOperation" PreText="The center of gravity of each blob was calculated." />
    <MOperationSingle UniqueIdentifier="76" Type="UserOperation">
      <MFunctionCall FunctionName="MblobGetResult">
        <MFunctionCallParam ParamType="IMObject" IMObject="27" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_GENERAL" />
        <MFunctionCallParam ParamType="Int64" Define="M_NUMBER+M_TYPE_MIL_INT" />
        <MFunctionCallParam ParamType="MIL_INTReference" Name="NbOfBlobs" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="104" Type="UserOperation">
      <MFunctionCall FunctionName="MdispSelect">
        <MFunctionCallParam ParamType="IMObject" IMObject="71" />
        <MFunctionCallParam ParamType="IMObject" IMObject="63" />
      </MFunctionCall>
    </MOperationSingle>
    <MetaForOperation LoopVariable="i" LimitVariable="NbOfBlobs" UniqueIdentifier="80" Type="UserOperation" EditionRibbon="ForLoopOperation">
      <UserExternalOperation UniqueIdentifier="92" Type="UserOperation" Description="Move the child buffer to the location of the blob" EditionRibbon="UserFunctionEditor" EntryPointForContext="2">
        <UserDefinedParameter ObjectParam="27" />
        <UserDefinedParameter VariableParam="i" />
        <UserDefinedParameter ObjectParam="63" />
      </UserExternalOperation>
      <MOperationPrint UniqueIdentifier="108" Type="UserOperation" EditionRibbon="PrintOperation" PreText="Displaying blob: " Variable="i" />
      <MOperationPrint UniqueIdentifier="106" Type="UserOperation" EditionRibbon="PrintOperation" PreText="Press Enter for Next Image" AddGetchar="true" />
    </MetaForOperation>
    <MInsertionBar UniqueIdentifier="64" Type="InsertionBar" EditionRibbon="None" />
    <MOperationSingle UniqueIdentifier="42" Type="AutoGeneratedFree" ManagedObject="27">
      <MFunctionCall FunctionName="MblobFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="27" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="34" Type="AutoGeneratedFree" ManagedObject="23">
      <MFunctionCall FunctionName="MblobFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="23" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="28" Type="AutoGeneratedFree" ManagedObject="21">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="21" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="22" Type="AutoGeneratedFree" ManagedObject="15">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="16" Type="AutoGeneratedFree" ManagedObject="11">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="96" Type="AutoGeneratedFree" ManagedObject="63">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="63" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="12" Type="AutoGeneratedFree" ManagedObject="7">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="100" Type="AutoGeneratedFree" ManagedObject="71">
      <MFunctionCall FunctionName="MdispFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="71" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="8" Type="InternalFree" ManagedObject="5">
      <MFunctionCall FunctionName="MsysFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="4" Type="InternalFree" ManagedObject="1">
      <MFunctionCall FunctionName="MappFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
  </MOperationsManager>
  <MObjectsManager>
    <MApplication UniqueIdentifier="1" IsReadOnly="true" AllocOperation="2" FreeOperation="4" Name="MilApplication" Type="M_APPLICATION" OwnerSystem="0" />
    <MSystem UniqueIdentifier="5" IsReadOnly="true" AllocOperation="6" FreeOperation="8" Name="MilSystem" Type="M_SYSTEM" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="7" AllocOperation="10" FreeOperation="12" Name="BoltsNutsWashers.mim" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="11" AllocOperation="14" FreeOperation="16" Name="MimBinarize's destination" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="15" AllocOperation="20" FreeOperation="22" Name="MimOpen's destination" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="21" AllocOperation="26" FreeOperation="28" Name="MimClose's destination" Type="M_IMAGE" OwnerSystem="5" />
    <HighlvlObject UniqueIdentifier="23" AllocOperation="32" FreeOperation="34" Name="Blob Context" Type="M_BLOB_CONTEXT" OwnerSystem="5" ControlBlock="36" />
    <BlobResult UniqueIdentifier="27" AllocOperation="40" FreeOperation="42" Name="Blob Result" Type="M_BLOB_RESULT" OwnerSystem="5" ParentObject="23" />
    <SingleFrame UniqueIdentifier="63" AllocOperation="94" FreeOperation="96" Name="Child of BoltsNutsWashers.mim" Type="M_IMAGE" OwnerSystem="5" ParentObject="7" />
    <Display UniqueIdentifier="71" AllocOperation="98" FreeOperation="100" Name="Display" Type="M_DISPLAY" OwnerSystem="5" ControlBlock="102" />
  </MObjectsManager>
  <MFunctionContextManager>
    <MFunctionContext UniqueIdentifier="2" Type="ExternalFunction">
      <UserFunctionPrototype FunctionName="MoveChild" UniqueIdentifier="1" AssociatedFunctionContext="2">
        <UserFunctionPrototypeParameter ParamIndex="0" ParamName="BlobResult" ParamType="MIL_ID" ObjectType="M_BLOB_RESULT" ParamID="2" />
        <UserFunctionPrototypeParameter ParamIndex="1" ParamName="BlobIndex" ParamType="Int64" ParamID="6" />
        <UserFunctionPrototypeParameter ParamIndex="2" ParamName="ChildBuffer" ParamType="MIL_ID" ObjectType="M_IMAGE" ParamID="1" />
      </UserFunctionPrototype>
    </MFunctionContext>
  </MFunctionContextManager>
</Workspace>