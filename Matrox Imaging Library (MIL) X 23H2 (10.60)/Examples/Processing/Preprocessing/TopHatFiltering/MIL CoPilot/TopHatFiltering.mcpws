<?xml version="1.0" encoding="utf-8"?>
<Workspace version="26" milversion="1060" DefaultSystem="5" MilLiteCompatible="true" ReadOnly="true" Description="This workspace demonstrates a top-hat filtering operation.&#xD;&#xA;">
  <MOperationsManager>
    <MOperationSingle UniqueIdentifier="2" Type="InternalAlloc" ManagedObject="1">
      <MFunctionCall FunctionName="MappAlloc">
        <MFunctionCallParam ParamType="IntPtr" Define="M_NULL" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="6" Type="InternalAlloc" ManagedObject="5" EditionRibbon="None">
      <MFunctionCall FunctionName="MsysAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
        <MFunctionCallParam ParamType="String" String="M_SYSTEM_HOST" MString="$I{IMILMAINSYSTEM}" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="40" Type="AutoGeneratedAlloc" ManagedObject="19">
      <MFunctionCall FunctionName="MdispAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="String" String="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="19" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationMultiple UniqueIdentifier="44" Type="ControlBlock" ManagedObject="19" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MdispControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="19" />
        <MFunctionCallParam ParamType="Int64" Define="M_TITLE" />
        <MFunctionCallParam ParamType="String" String="Disp" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSingle UniqueIdentifier="10" Type="AutoGeneratedRestore" ManagedObject="7">
      <MFunctionCall FunctionName="MbufRestore">
        <MFunctionCallParam ParamType="Filename" MFilename="$I{MILIMAGESDIR}\Preprocessing\Dust.tif" />
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="18" Type="AutoGeneratedRestore" ManagedObject="11">
      <MFunctionCall FunctionName="MbufRestore">
        <MFunctionCallParam ParamType="Filename" MFilename="$I{WORKSPACEDIR}\User-defined structuring element.mim" />
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="11" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="22" Type="AutoGeneratedAlloc" ManagedObject="13">
      <MFunctionCall FunctionName="MbufAlloc2d">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="623" />
        <MFunctionCallParam ParamType="MIL_INT" Define="455" />
        <MFunctionCallParam ParamType="MIL_INT" Define="8+M_UNSIGNED" />
        <MFunctionCallParam ParamType="Int64" Define="M_IMAGE+M_PROC+M_DISP" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="13" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="28" Type="AutoGeneratedAlloc" ManagedObject="15">
      <MFunctionCall FunctionName="MbufAlloc2d">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="623" />
        <MFunctionCallParam ParamType="MIL_INT" Define="455" />
        <MFunctionCallParam ParamType="MIL_INT" Define="8+M_UNSIGNED" />
        <MFunctionCallParam ParamType="Int64" Define="M_IMAGE+M_PROC+M_DISP" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="15" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="34" Type="AutoGeneratedAlloc" ManagedObject="17">
      <MFunctionCall FunctionName="MbufAlloc2d">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="623" />
        <MFunctionCallParam ParamType="MIL_INT" Define="455" />
        <MFunctionCallParam ParamType="MIL_INT" Define="8+M_UNSIGNED" />
        <MFunctionCallParam ParamType="Int64" Define="M_IMAGE+M_PROC+M_DISP" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="17" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="26" Type="UserOperation" Description="Apply the top-hat filtering on the restored image." EditionRibbon="Morphic">
      <MFunctionCall FunctionName="MimMorphic">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="IMObject" IMObject="13" />
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_TOP_HAT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="1" />
        <MFunctionCallParam ParamType="Int64" Define="M_GRAYSCALE" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="32" Type="UserOperation" Description="Segment the image." EditionRibbon="MimBinarize">
      <MFunctionCall FunctionName="MimBinarize">
        <MFunctionCallParam ParamType="IMObject" IMObject="13" />
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="Int64" Define="M_PERCENTILE_VALUE+M_GREATER" />
        <MFunctionCallParam ParamType="Double" Define="95" />
        <MFunctionCallParam ParamType="Double" Define="M_NULL" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="38" Type="UserOperation" Description="Remove small binary noise." DisplayOperation="46" EditionRibbon="BaseMorphologic">
      <MFunctionCall FunctionName="MimOpen">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="IMObject" IMObject="17" />
        <MFunctionCallParam ParamType="MIL_INT" Define="1" />
        <MFunctionCallParam ParamType="Int64" Define="M_BINARY" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationAssociatedSelect Display="19" OwnerOperation="38" UniqueIdentifier="46" Type="AutoGeneratedFunction" EditionRibbon="None">
      <MFunctionCall FunctionName="MdispSelect">
        <MFunctionCallParam ParamType="IMObject" IMObject="19" />
        <MFunctionCallParam ParamType="IMObject" IMObject="17" />
      </MFunctionCall>
    </MOperationAssociatedSelect>
    <MOperationPrint UniqueIdentifier="48" Type="UserOperation" EditionRibbon="PrintOperation" PreText="A top-hat filtering operation was performed." />
    <MInsertionBar UniqueIdentifier="50" Type="InsertionBar" EditionRibbon="None" />
    <MOperationSingle UniqueIdentifier="36" Type="AutoGeneratedFree" ManagedObject="17">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="17" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="30" Type="AutoGeneratedFree" ManagedObject="15">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="24" Type="AutoGeneratedFree" ManagedObject="13">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="13" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="20" Type="AutoGeneratedFree" ManagedObject="11">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="12" Type="AutoGeneratedFree" ManagedObject="7">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="42" Type="AutoGeneratedFree" ManagedObject="19">
      <MFunctionCall FunctionName="MdispFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="19" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="8" Type="InternalFree" ManagedObject="5">
      <MFunctionCall FunctionName="MsysFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="4" Type="InternalFree" ManagedObject="1">
      <MFunctionCall FunctionName="MappFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
  </MOperationsManager>
  <MObjectsManager>
    <MApplication UniqueIdentifier="1" IsReadOnly="true" AllocOperation="2" FreeOperation="4" Name="MilApplication" Type="M_APPLICATION" OwnerSystem="0" />
    <MSystem UniqueIdentifier="5" IsReadOnly="true" AllocOperation="6" FreeOperation="8" Name="MilSystem" Type="M_SYSTEM" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="7" AllocOperation="10" FreeOperation="12" Name="Dust.tif" Type="M_IMAGE" OwnerSystem="5" />
    <MBuffer UniqueIdentifier="11" AllocOperation="18" FreeOperation="20" Name="User-defined structuring element.mim" Type="M_STRUCT_ELEMENT" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="13" AllocOperation="22" FreeOperation="24" Name="MimMorphic's destination" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="15" AllocOperation="28" FreeOperation="30" Name="MimBinarize's destination" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="17" AllocOperation="34" FreeOperation="36" Name="DstImageBufId" Type="M_IMAGE" OwnerSystem="5" />
    <Display UniqueIdentifier="19" AllocOperation="40" FreeOperation="42" Name="Disp" Type="M_DISPLAY" OwnerSystem="5" ControlBlock="44" />
  </MObjectsManager>
</Workspace>