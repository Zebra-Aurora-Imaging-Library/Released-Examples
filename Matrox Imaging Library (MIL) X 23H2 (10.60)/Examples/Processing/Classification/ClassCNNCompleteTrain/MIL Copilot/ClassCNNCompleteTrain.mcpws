<?xml version="1.0" encoding="utf-8"?>
<Workspace version="26" milversion="1060" DefaultSystem="5" MilLiteCompatible="false" ReadOnly="true" Description="This workspace is a utility that demonstrates the setup for performing a CNN training. The user must train the classifier context to perform a prediction." WorkspaceType="ImageClassTraining" DefaultClassContext="7" DefaultDataSet="13">
  <MOperationsManager>
    <MOperationSingle UniqueIdentifier="2" Type="InternalAlloc" ManagedObject="3" EditionRibbon="None">
      <MFunctionCall FunctionName="MappAlloc">
        <MFunctionCallParam ParamType="IntPtr" Define="M_NULL" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="3" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="6" Type="InternalAlloc" ManagedObject="5" EditionRibbon="None">
      <MFunctionCall FunctionName="MsysAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="String" String="M_SYSTEM_HOST" MString="$I{IMILMAINSYSTEM}" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="12" Type="AutoGeneratedAlloc" ManagedObject="7">
      <MFunctionCall FunctionName="MclassAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_TRAIN_CNN" ReadOnly="true" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" ReadOnly="true" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSortedMultiple UniqueIdentifier="16" Type="PostAllocBlock" ManagedObject="7" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MclassInquire" BlockUniqueTag="ClassPrepareDataInquire">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_PREPARE_DATA_CONTEXT_ID+M_TYPE_MIL_ID" />
        <MFunctionCallParam ParamType="MIL_IDReference" Name="classPreparedata" AssociatedProxyObject="9" />
      </MFunctionCall>
    </MOperationSortedMultiple>
    <MOperationMultiple UniqueIdentifier="26" Type="ControlBlock" ManagedObject="7" EditionRibbon="None" NbFunctions="3">
      <MFunctionCall FunctionName="MclassControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_INITIAL_LEARNING_RATE" />
        <MFunctionCallParam ParamType="Double" Define="0.001" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MclassControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_MAX_EPOCH" />
        <MFunctionCallParam ParamType="MIL_INT" Define="10" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MclassControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_MINI_BATCH_SIZE" />
        <MFunctionCallParam ParamType="MIL_INT" Define="64" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSortedMultiple UniqueIdentifier="18" Type="PostAllocBlock" ManagedObject="9" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MclassInquire" BlockUniqueTag="augContext">
        <MFunctionCallParam ParamType="IMObject" IMObject="9" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUGMENT_CONTEXT_ID+M_TYPE_MIL_ID" />
        <MFunctionCallParam ParamType="MIL_IDReference" Name="augmentationContext" AssociatedProxyObject="11" />
      </MFunctionCall>
    </MOperationSortedMultiple>
    <MOperationMultiple UniqueIdentifier="42" Type="ControlBlock" ManagedObject="11" EditionRibbon="None" NbFunctions="9">
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_ROTATION_OP" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ENABLE" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_ROTATION_OP_ANGLE_DELTA" />
        <MFunctionCallParam ParamType="Double" Define="5" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_SCALE_OP" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ENABLE" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_SCALE_OP_FACTOR_MAX" />
        <MFunctionCallParam ParamType="Double" Define="1.03" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_SCALE_OP_FACTOR_MIN" />
        <MFunctionCallParam ParamType="Double" Define="0.97" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_TRANSLATION_X_OP" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ENABLE" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_TRANSLATION_X_OP_MAX" />
        <MFunctionCallParam ParamType="Double" Define="2" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_TRANSLATION_Y_OP" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ENABLE" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MimControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_AUG_TRANSLATION_Y_OP_MAX" />
        <MFunctionCallParam ParamType="Double" Define="2" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationMultiple UniqueIdentifier="40" Type="ControlBlock" ManagedObject="9" EditionRibbon="None" NbFunctions="2">
      <MFunctionCall FunctionName="MclassControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="9" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_SEED_MODE" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_USER_DEFINED" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MclassControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="9" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_SEED_VALUE" />
        <MFunctionCallParam ParamType="MIL_INT" Define="42" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSingle UniqueIdentifier="24" Type="AutoGeneratedRestore" ManagedObject="13">
      <MFunctionCall FunctionName="MclassRestore">
        <MFunctionCallParam ParamType="Filename" MFilename="$I{WORKSPACEDIR}\WorkDataset.mclassd" />
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="13" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="32" Type="AutoGeneratedRestore" ManagedObject="45">
      <MFunctionCall FunctionName="MclassRestore">
        <MFunctionCallParam ParamType="Filename" MFilename="$I{WORKSPACEDIR}\TestDataset.mclassd" />
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="45" />
      </MFunctionCall>
    </MOperationSingle>
    <MInsertionBar UniqueIdentifier="10" Type="InsertionBar" EditionRibbon="None" />
    <MOperationSingle UniqueIdentifier="34" Type="AutoGeneratedFree" ManagedObject="45">
      <MFunctionCall FunctionName="MclassFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="45" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="22" Type="AutoGeneratedFree" ManagedObject="13">
      <MFunctionCall FunctionName="MclassFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="13" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="14" Type="AutoGeneratedFree" ManagedObject="7">
      <MFunctionCall FunctionName="MclassFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="8" Type="InternalFree" ManagedObject="5">
      <MFunctionCall FunctionName="MsysFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="4" Type="InternalFree" ManagedObject="3">
      <MFunctionCall FunctionName="MappFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
      </MFunctionCall>
    </MOperationSingle>
  </MOperationsManager>
  <MObjectsManager>
    <MApplication UniqueIdentifier="3" IsReadOnly="true" AllocOperation="2" FreeOperation="4" Name="MilApplication" Type="M_APPLICATION" OwnerSystem="0" />
    <MSystem UniqueIdentifier="5" IsReadOnly="true" AllocOperation="6" FreeOperation="8" Name="MilSystem" Type="M_SYSTEM" OwnerSystem="5" />
    <TrainContextCNN UniqueIdentifier="7" AllocOperation="12" FreeOperation="14" PostAllocBlockUniqueID="16" Name="Train Cnn Context" Type="M_CLASS_TRAIN_CNN_CONTEXT" OwnerSystem="5" ControlBlock="26" ClassPrepareData="9" />
    <ClassPrepareDataCNN UniqueIdentifier="9" InnerVariable="classPreparedata" PostAllocBlockUniqueID="18" Name="ClassPreparedata" Type="M_CLASS_PREPARE_IMAGES_CNN" OwnerSystem="5" ControlBlock="40" ParentObject="7" AugContext="11" />
    <ImContext UniqueIdentifier="11" InnerVariable="augmentationContext" Name="AugmentationContext" Type="M_IM_CONTEXT" OwnerSystem="5" ControlBlock="42" ParentObject="9" />
    <CNNDataSet UniqueIdentifier="13" IsReadOnly="true" AllocOperation="24" FreeOperation="22" Name="WorkDataset" Type="M_CLASS_DATASET_IMAGES" OwnerSystem="5" />
    <CNNDataSet UniqueIdentifier="45" IsReadOnly="true" AllocOperation="32" FreeOperation="34" Name="TestDataset" Type="M_CLASS_DATASET_IMAGES" OwnerSystem="5" />
  </MObjectsManager>
</Workspace>