<?xml version="1.0" encoding="utf-8"?>
<Workspace version="26" milversion="1060" DefaultSystem="5" MilLiteCompatible="false" ReadOnly="true" Description="This workspace uses the Blob module to analyze an image of some nuts and bolts.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;">
  <MOperationsManager>
    <MOperationSingle UniqueIdentifier="2" Type="InternalAlloc" ManagedObject="1">
      <MFunctionCall FunctionName="MappAlloc">
        <MFunctionCallParam ParamType="IntPtr" Define="M_NULL" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="6" Type="InternalAlloc" ManagedObject="5" EditionRibbon="None">
      <MFunctionCall FunctionName="MsysAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
        <MFunctionCallParam ParamType="String" String="M_SYSTEM_HOST" MString="$I{IMILMAINSYSTEM}" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="46" Type="AutoGeneratedAlloc" ManagedObject="33">
      <MFunctionCall FunctionName="MdispAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="String" String="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="33" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationMultiple UniqueIdentifier="50" Type="ControlBlock" ManagedObject="33" EditionRibbon="None" NbFunctions="2">
      <MFunctionCall FunctionName="MdispControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="33" />
        <MFunctionCallParam ParamType="Int64" Define="M_TITLE" />
        <MFunctionCallParam ParamType="String" String="Disp" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MdispControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="33" />
        <MFunctionCallParam ParamType="Int64" Define="M_VIEW_MODE" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_AUTO_SCALE" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSingle UniqueIdentifier="10" Type="AutoGeneratedRestore" ManagedObject="7">
      <MFunctionCall FunctionName="MbufImport">
        <MFunctionCallParam ParamType="Filename" MFilename="$I{MILIMAGESDIR}\BoltsNutsWashers.mim" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_RESTORE+M_NO_GRAB+M_NO_COMPRESS" ReadOnly="true" />
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="14" Type="AutoGeneratedAlloc" ManagedObject="11" FunctionEditor="true">
      <MFunctionCall FunctionName="MbufAllocColor">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="MIL_INT" Define="1" />
        <MFunctionCallParam ParamType="MIL_INT" Define="512" />
        <MFunctionCallParam ParamType="MIL_INT" Define="480" />
        <MFunctionCallParam ParamType="MIL_INT" Define="1+M_UNSIGNED" />
        <MFunctionCallParam ParamType="Int64" Define="M_IMAGE+M_PROC+M_DISP" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="11" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="20" Type="AutoGeneratedAlloc" ManagedObject="15" FunctionEditor="true">
      <MFunctionCall FunctionName="MbufClone">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="IMObject" MPseudoObjectType="M_SYSTEM" MPseudoObjectId="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="15" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="26" Type="AutoGeneratedAlloc" ManagedObject="21" FunctionEditor="true">
      <MFunctionCall FunctionName="MbufClone">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="IMObject" MPseudoObjectType="M_SYSTEM" MPseudoObjectId="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="21" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="68" Type="AutoGeneratedAlloc" ManagedObject="43">
      <MFunctionCall FunctionName="MgraAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="43" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="72" Type="AutoGeneratedAlloc" ManagedObject="45">
      <MFunctionCall FunctionName="MgraAllocList">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="45" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="32" Type="AutoGeneratedAlloc" ManagedObject="23">
      <MFunctionCall FunctionName="MblobAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="23" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationMultiple UniqueIdentifier="36" Type="ControlBlock" ManagedObject="23" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MblobControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="23" />
        <MFunctionCallParam ParamType="Int64" Define="M_CENTER_OF_GRAVITY+M_BINARY" />
        <MFunctionCallParam ParamType="Double" Define="M_ENABLE" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSingle UniqueIdentifier="40" Type="AutoGeneratedAlloc" ManagedObject="27">
      <MFunctionCall FunctionName="MblobAllocResult">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" ReadOnly="true" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="27" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="18" Type="UserOperation" Description="Binarize the source image." EditionRibbon="MimBinarize">
      <MFunctionCall FunctionName="MimBinarize">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="Int64" Define="M_FIXED+M_GREATER_OR_EQUAL" />
        <MFunctionCallParam ParamType="Double" Define="26" />
        <MFunctionCallParam ParamType="Double" Define="M_NULL" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="24" Type="UserOperation" Description="Remove small particles and then remove small holes." EditionRibbon="BaseMorphologic">
      <MFunctionCall FunctionName="MimOpen">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="MIL_INT" Define="3" />
        <MFunctionCallParam ParamType="Int64" Define="M_BINARY" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="30" Type="UserOperation" EditionRibbon="BaseMorphologic">
      <MFunctionCall FunctionName="MimClose">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
        <MFunctionCallParam ParamType="IMObject" IMObject="21" />
        <MFunctionCallParam ParamType="MIL_INT" Define="3" />
        <MFunctionCallParam ParamType="Int64" Define="M_BINARY" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSortedMultiple UniqueIdentifier="38" Type="UserOperation" Description="Calculate selected features for each blob." DisplayOperation="66" EditionRibbon="BlobCalculate" NbFunctions="1" MainFunctionOffset="0">
      <MFunctionCall FunctionName="MblobCalculate" BlockUniqueTag="BlobCalculateUniqueKey">
        <MFunctionCallParam ParamType="IMObject" IMObject="23" />
        <MFunctionCallParam ParamType="IMObject" IMObject="21" />
        <MFunctionCallParam ParamType="IMObject" MPseudoObjectType="M_IMAGE" MPseudoObjectId="M_NULL" />
        <MFunctionCallParam ParamType="IMObject" IMObject="27" />
      </MFunctionCall>
    </MOperationSortedMultiple>
    <MOperationDrawBlock GraphicContext="43" GraphicList="45" Result="27" Display="33" OwnerOperation="38" UniqueIdentifier="66" Type="AutoGeneratedFunction" EditionRibbon="None">
      <MFunctionCall FunctionName="MdispSelect">
        <MFunctionCallParam ParamType="IMObject" IMObject="33" />
        <MFunctionCallParam ParamType="IMObject" IMObject="21" />
      </MFunctionCall>
    </MOperationDrawBlock>
    <MOperationPrint UniqueIdentifier="62" Type="UserOperation" EditionRibbon="PrintOperation" PreText="The center of gravity of each blob was calculated." />
    <MOperationPrint UniqueIdentifier="76" Type="UserOperation" EditionRibbon="PrintOperation" PreText="Press &lt;Enter&gt; to continue." AddGetchar="true" />
    <MOperationSingle UniqueIdentifier="78" Type="UserOperation">
      <MFunctionCall FunctionName="MblobGetResult">
        <MFunctionCallParam ParamType="IMObject" IMObject="27" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_GENERAL" />
        <MFunctionCallParam ParamType="Int64" Define="M_NUMBER+M_TYPE_MIL_INT" />
        <MFunctionCallParam ParamType="MIL_INTReference" Name="NbOfBlobs" />
      </MFunctionCall>
    </MOperationSingle>
    <MetaIfOperation UniqueIdentifier="84" Type="UserOperation" EditionRibbon="IfStatementOperation">
      <SimpleCondition Operator="Gt" First="NbOfBlobs" SecondConst="0" OwnerOperation="84" />
      <MOperationPrint UniqueIdentifier="80" Type="UserOperation" EditionRibbon="PrintOperation" PreText="There are " PostText=" objects and their centers of gravity are:" Variable="NbOfBlobs" />
      <MetaForOperation LoopVariable="i" LimitVariable="NbOfBlobs" UniqueIdentifier="88" Type="UserOperation" EditionRibbon="ForLoopOperation">
        <MOperationSingle UniqueIdentifier="90" Type="UserOperation" FunctionEditor="true">
          <MFunctionCall FunctionName="MblobGetResult">
            <MFunctionCallParam ParamType="IMObject" IMObject="27" />
            <MFunctionCallParam ParamType="MIL_INT" Define="M_BLOB_INDEX($V{i})" IsVariableValue="true" />
            <MFunctionCallParam ParamType="Int64" Define="M_CENTER_OF_GRAVITY_X+M_BINARY" />
            <MFunctionCallParam ParamType="DoubleReference" Name="CenterOfGravityX" />
          </MFunctionCall>
        </MOperationSingle>
        <MOperationSingle UniqueIdentifier="92" Type="UserOperation" FunctionEditor="true">
          <MFunctionCall FunctionName="MblobGetResult">
            <MFunctionCallParam ParamType="IMObject" IMObject="27" />
            <MFunctionCallParam ParamType="MIL_INT" Define="M_BLOB_INDEX($V{i})" IsVariableValue="true" />
            <MFunctionCallParam ParamType="Int64" Define="M_CENTER_OF_GRAVITY_Y+M_BINARY" />
            <MFunctionCallParam ParamType="DoubleReference" Name="CenterOfGravityY" />
          </MFunctionCall>
        </MOperationSingle>
        <MOperationPrint UniqueIdentifier="94" Type="UserOperation" EditionRibbon="PrintOperation" PreText="Blob #" PostText=": " AddReturn="false" Variable="i" />
        <MOperationPrint UniqueIdentifier="96" Type="UserOperation" EditionRibbon="PrintOperation" PreText="X=" PostText=", " AddReturn="false" Variable="CenterOfGravityX" FPPrecision="1" />
        <MOperationPrint UniqueIdentifier="98" Type="UserOperation" EditionRibbon="PrintOperation" PreText="Y=" Variable="CenterOfGravityY" FPPrecision="1" />
      </MetaForOperation>
    </MetaIfOperation>
    <MInsertionBar UniqueIdentifier="64" Type="InsertionBar" EditionRibbon="None" />
    <MOperationSingle UniqueIdentifier="42" Type="AutoGeneratedFree" ManagedObject="27">
      <MFunctionCall FunctionName="MblobFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="27" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="34" Type="AutoGeneratedFree" ManagedObject="23">
      <MFunctionCall FunctionName="MblobFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="23" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="74" Type="AutoGeneratedFree" ManagedObject="45">
      <MFunctionCall FunctionName="MgraFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="45" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="70" Type="AutoGeneratedFree" ManagedObject="43">
      <MFunctionCall FunctionName="MgraFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="43" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="28" Type="AutoGeneratedFree" ManagedObject="21">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="21" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="22" Type="AutoGeneratedFree" ManagedObject="15">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="15" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="16" Type="AutoGeneratedFree" ManagedObject="11">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="11" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="12" Type="AutoGeneratedFree" ManagedObject="7">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="7" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="48" Type="AutoGeneratedFree" ManagedObject="33">
      <MFunctionCall FunctionName="MdispFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="33" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="8" Type="InternalFree" ManagedObject="5">
      <MFunctionCall FunctionName="MsysFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="4" Type="InternalFree" ManagedObject="1">
      <MFunctionCall FunctionName="MappFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
  </MOperationsManager>
  <MObjectsManager>
    <MApplication UniqueIdentifier="1" IsReadOnly="true" AllocOperation="2" FreeOperation="4" Name="MilApplication" Type="M_APPLICATION" OwnerSystem="0" />
    <MSystem UniqueIdentifier="5" IsReadOnly="true" AllocOperation="6" FreeOperation="8" Name="MilSystem" Type="M_SYSTEM" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="7" AllocOperation="10" FreeOperation="12" Name="BoltsNutsWashers.mim" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="11" AllocOperation="14" FreeOperation="16" Name="MimBinarize's destination" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="15" AllocOperation="20" FreeOperation="22" Name="MimOpen's destination" Type="M_IMAGE" OwnerSystem="5" />
    <SingleFrame UniqueIdentifier="21" AllocOperation="26" FreeOperation="28" Name="MimClose's destination" Type="M_IMAGE" OwnerSystem="5" />
    <HighlvlObject UniqueIdentifier="23" AllocOperation="32" FreeOperation="34" Name="Blob Context" Type="M_BLOB_CONTEXT" OwnerSystem="5" ControlBlock="36" />
    <BlobResult UniqueIdentifier="27" AllocOperation="40" FreeOperation="42" Name="Blob Result" Type="M_BLOB_RESULT" OwnerSystem="5" ParentObject="23" />
    <Display UniqueIdentifier="33" AllocOperation="46" FreeOperation="48" Name="Disp" Type="M_DISPLAY" OwnerSystem="5" ControlBlock="50" />
    <MObject UniqueIdentifier="43" IsReadOnly="true" AllocOperation="68" FreeOperation="70" Name="MblobCalculate Block's graphicContext" Type="M_GRAPHIC_CONTEXT" OwnerSystem="5" />
    <GraphicList UniqueIdentifier="45" IsReadOnly="true" AllocOperation="72" FreeOperation="74" Name="MblobCalculate Block's graphicList" Type="M_GRAPHIC_LIST" OwnerSystem="5" />
  </MObjectsManager>
</Workspace>