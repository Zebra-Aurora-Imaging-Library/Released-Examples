<?xml version="1.0" encoding="utf-8"?>
<Workspace version="26" milversion="1060" DefaultSystem="3" MilLiteCompatible="false" ReadOnly="true" Description="This workspace identifies the type of product using a pre-trained classification module.">
  <MVariablesManager>
    <MFunctionCallParam ParamType="Int32" InternalVariable="true" Define="4" Name="NbFrames" IsConst="true" />
    <MFunctionCallParam ParamType="MIL_IDArray" InternalVariable="true" ArraySizeVariable0="NbFrames" Name="GrabBuffers" />
  </MVariablesManager>
  <MOperationsManager>
    <MOperationSingle UniqueIdentifier="48" Type="InternalAlloc" ManagedObject="1">
      <MFunctionCall FunctionName="MappAlloc">
        <MFunctionCallParam ParamType="IntPtr" Define="M_NULL" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="2" Type="InternalAlloc" ManagedObject="3" EditionRibbon="None">
      <MFunctionCall FunctionName="MsysAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
        <MFunctionCallParam ParamType="String" String="M_SYSTEM_HOST" MString="$I{IMILMAINSYSTEM}" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="3" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="42" Type="AutoGeneratedAlloc" ManagedObject="41">
      <MFunctionCall FunctionName="MdispAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="String" String="M_DEFAULT" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="41" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationMultiple UniqueIdentifier="46" Type="ControlBlock" ManagedObject="41" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MdispControl">
        <MFunctionCallParam ParamType="IMObject" IMObject="41" />
        <MFunctionCallParam ParamType="Int64" Define="M_TITLE" />
        <MFunctionCallParam ParamType="String" String="Display" />
      </MFunctionCall>
    </MOperationMultiple>
    <MOperationSingle UniqueIdentifier="14" Type="AutoGeneratedAlloc" ManagedObject="25" FunctionEditor="true">
      <MFunctionCall FunctionName="MdigAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="Filename" MFilename="$I{MILIMAGESDIR}\Classification\Pasta\Products@5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="25" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSortedMultiple UniqueIdentifier="20" Type="PostAllocBlock" ManagedObject="25" EditionRibbon="None" NbFunctions="4">
      <MFunctionCall FunctionName="MdigInquire">
        <MFunctionCallParam ParamType="IMObject" IMObject="25" />
        <MFunctionCallParam ParamType="Int64" Define="M_SIZE_X" />
        <MFunctionCallParam ParamType="MIL_INTReference" Name="DigSizeX" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MdigInquire">
        <MFunctionCallParam ParamType="IMObject" IMObject="25" />
        <MFunctionCallParam ParamType="Int64" Define="M_SIZE_Y" />
        <MFunctionCallParam ParamType="MIL_INTReference" Name="DigSizeY" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MdigInquire">
        <MFunctionCallParam ParamType="IMObject" IMObject="25" />
        <MFunctionCallParam ParamType="Int64" Define="M_SIZE_BAND" />
        <MFunctionCallParam ParamType="MIL_INTReference" Name="DigSizeBand" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MdigInquire">
        <MFunctionCallParam ParamType="IMObject" IMObject="25" />
        <MFunctionCallParam ParamType="Int64" Define="M_TYPE" />
        <MFunctionCallParam ParamType="MIL_INTReference" Name="DigType" />
      </MFunctionCall>
    </MOperationSortedMultiple>
    <MOperationAllocFreeLoop UniqueIdentifier="22" Type="AutoGeneratedAlloc" EditionRibbon="None" Variable="NbFrames" Digitizer="25" IsAllocLoop="true">
      <MFunctionCall FunctionName="MbufAllocColor">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="MIL_INT" Variable="DigSizeBand" />
        <MFunctionCallParam ParamType="MIL_INT" Variable="DigSizeX" />
        <MFunctionCallParam ParamType="MIL_INT" Variable="DigSizeY" />
        <MFunctionCallParam ParamType="MIL_INT" Variable="DigType" />
        <MFunctionCallParam ParamType="Int64" Define="M_IMAGE+M_PROC+M_GRAB+M_DISP" />
        <MFunctionCallParam ParamType="MIL_IDReference" />
      </MFunctionCall>
    </MOperationAllocFreeLoop>
    <MOperationSingle UniqueIdentifier="34" Type="AutoGeneratedAlloc" ManagedObject="39" EditionRibbon="NewBuffer">
      <MFunctionCall FunctionName="MbufAllocColor">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="MIL_INT" Define="1" />
        <MFunctionCallParam ParamType="MIL_INT" Define="131" />
        <MFunctionCallParam ParamType="MIL_INT" Define="131" />
        <MFunctionCallParam ParamType="MIL_INT" Define="8+M_UNSIGNED" />
        <MFunctionCallParam ParamType="Int64" Define="M_IMAGE+M_PROC+M_DISP" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="39" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSortedMultiple UniqueIdentifier="38" Type="PostAllocBlock" ManagedObject="39" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MbufClear" BlockUniqueTag="UniqueKeyForInitialColor">
        <MFunctionCallParam ParamType="IMObject" IMObject="39" />
        <MFunctionCallParam ParamType="Double" Define="0" />
      </MFunctionCall>
    </MOperationSortedMultiple>
    <MOperationSingle UniqueIdentifier="76" Type="AutoGeneratedAlloc" ManagedObject="69">
      <MFunctionCall FunctionName="MgraAlloc">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="69" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="80" Type="AutoGeneratedAlloc" ManagedObject="71">
      <MFunctionCall FunctionName="MgraAllocList">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="71" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="50" Type="AutoGeneratedAlloc" ManagedObject="43">
      <MFunctionCall FunctionName="MclassAllocResult">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="Int64" Define="M_PREDICT_CNN_RESULT" ReadOnly="true" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="43" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationPrint UniqueIdentifier="64" Type="UserOperation" EditionRibbon="PrintOperation" PreText="Restoring the classification context from file." />
    <MOperationSingle UniqueIdentifier="8" Type="AutoGeneratedRestore" ManagedObject="5">
      <MFunctionCall FunctionName="MclassRestore">
        <MFunctionCallParam ParamType="Filename" MFilename="$I{MILIMAGESDIR}\Classification\Pasta\MatroxNet_PastaEx.mclass" />
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="IMObjectReference" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationPrint UniqueIdentifier="66" Type="UserOperation" EditionRibbon="PrintOperation" PreText="The classifier was trained to recognize 5 categories." />
    <MOperationPrint UniqueIdentifier="68" Type="UserOperation" EditionRibbon="PrintOperation" PreText="The classifier was trained for 131x131 source images." />
    <MOperationSingle UniqueIdentifier="12" Type="UserOperation">
      <MFunctionCall FunctionName="MclassPreprocess">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationPrint UniqueIdentifier="70" Type="UserOperation" EditionRibbon="PrintOperation" PreText="The best class for each image is shown." />
    <MOperationDigProcess Digitizer="25" UniqueIdentifier="18" Type="AutoGeneratedFunction" GeneratedCodeOnly="true" CustomName="MdigProcess operation" EditionRibbon="None" EntryPointForContext="2" NbFunctions="2">
      <MFunctionCall FunctionName="MdigProcess">
        <MFunctionCallParam ParamType="IMObject" IMObject="25" />
        <MFunctionCallParam ParamType="MIL_IDArray" Variable="GrabBuffers" />
        <MFunctionCallParam ParamType="MIL_INT" Variable="NbFrames" />
        <MFunctionCallParam ParamType="Int64" Define="M_START" />
        <MFunctionCallParam ParamType="Int64" Define="M_ASYNCHRONOUS+M_REGION_DELETE_AT_EACH_FRAME" />
        <MFunctionCallParam ParamType="MIL_DIG_HOOK_FUNCTION_PTR" Define="ProcessingFunction" />
        <MFunctionCallParam ParamType="VoidPtr" Define="UserHookData" />
      </MFunctionCall>
      <MFunctionCall FunctionName="MdigProcess">
        <MFunctionCallParam ParamType="IMObject" IMObject="25" />
        <MFunctionCallParam ParamType="MIL_IDArray" Variable="GrabBuffers" />
        <MFunctionCallParam ParamType="MIL_INT" Variable="NbFrames" />
        <MFunctionCallParam ParamType="Int64" Define="M_STOP" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
        <MFunctionCallParam ParamType="MIL_DIG_HOOK_FUNCTION_PTR" Define="ProcessingFunction" />
        <MFunctionCallParam ParamType="VoidPtr" Define="UserHookData" />
      </MFunctionCall>
    </MOperationDigProcess>
    <MnullOperation UniqueIdentifier="30" Type="InternalAlloc" FunctionContext="2" ManagedObject="27" EditionRibbon="None" IdExternallyManaged="true" />
    <MOperationLoopHeader IsHeader="true" UniqueIdentifier="26" Type="AutoGeneratedFunction" FunctionContext="2" CustomName="Header" HiddenOperation="true" EditionRibbon="None" NbFunctions="1">
      <MFunctionCall FunctionName="MgraClear" BlockUniqueTag="GraClear_71">
        <MFunctionCallParam ParamType="IMObject" IMObject="69" />
        <MFunctionCallParam ParamType="IMObject" IMObject="71" />
      </MFunctionCall>
    </MOperationLoopHeader>
    <MOperationSingle UniqueIdentifier="40" Type="UserOperation" FunctionContext="2" EditionRibbon="CopyColor2d">
      <MFunctionCall FunctionName="MbufCopyColor2d">
        <MFunctionCallParam ParamType="IMObject" IMObject="27" />
        <MFunctionCallParam ParamType="IMObject" IMObject="39" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ALL_BANDS" />
        <MFunctionCallParam ParamType="MIL_INT" Define="256" />
        <MFunctionCallParam ParamType="MIL_INT" Define="190" />
        <MFunctionCallParam ParamType="MIL_INT" Define="M_ALL_BANDS" />
        <MFunctionCallParam ParamType="MIL_INT" Define="0" />
        <MFunctionCallParam ParamType="MIL_INT" Define="0" />
        <MFunctionCallParam ParamType="MIL_INT" Define="131" />
        <MFunctionCallParam ParamType="MIL_INT" Define="131" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="54" Type="UserOperation" FunctionContext="2" DisplayOperation="74">
      <MFunctionCall FunctionName="MclassPredict">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
        <MFunctionCallParam ParamType="IMObject" IMObject="39" />
        <MFunctionCallParam ParamType="IMObject" ReadOnly="true" IMObject="43" />
        <MFunctionCallParam ParamType="Int64" Define="M_DEFAULT" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationDrawBlock GraphicContext="69" GraphicList="71" Result="43" Display="41" OwnerOperation="54" UniqueIdentifier="74" Type="AutoGeneratedFunction" FunctionContext="2" EditionRibbon="None">
      <MFunctionCall FunctionName="MdispSelect">
        <MFunctionCallParam ParamType="IMObject" IMObject="41" />
        <MFunctionCallParam ParamType="IMObject" IMObject="39" />
      </MFunctionCall>
    </MOperationDrawBlock>
    <MInsertionBar UniqueIdentifier="6" Type="InsertionBar" FunctionContext="2" EditionRibbon="None" />
    <MOperationLoopHeader IsHeader="false" UniqueIdentifier="28" Type="AutoGeneratedFunction" FunctionContext="2" CustomName="Footer" HiddenOperation="true" EditionRibbon="None" NbFunctions="0" />
    <MnullOperation UniqueIdentifier="32" Type="InternalFree" FunctionContext="2" ManagedObject="27" EditionRibbon="None" IdExternallyManaged="true" />
    <MOperationSingle UniqueIdentifier="52" Type="AutoGeneratedFree" ManagedObject="43">
      <MFunctionCall FunctionName="MclassFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="43" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="10" Type="AutoGeneratedFree" ManagedObject="5">
      <MFunctionCall FunctionName="MclassFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="5" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationAllocFreeLoop UniqueIdentifier="24" Type="AutoGeneratedFree" EditionRibbon="None" Variable="NbFrames" Digitizer="25" IsAllocLoop="false">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="MIL_ID" Define="0" />
      </MFunctionCall>
    </MOperationAllocFreeLoop>
    <MOperationSingle UniqueIdentifier="82" Type="AutoGeneratedFree" ManagedObject="71">
      <MFunctionCall FunctionName="MgraFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="71" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="78" Type="AutoGeneratedFree" ManagedObject="69">
      <MFunctionCall FunctionName="MgraFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="69" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="36" Type="AutoGeneratedFree" ManagedObject="39">
      <MFunctionCall FunctionName="MbufFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="39" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="16" Type="AutoGeneratedFree" ManagedObject="25">
      <MFunctionCall FunctionName="MdigFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="25" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="44" Type="AutoGeneratedFree" ManagedObject="41">
      <MFunctionCall FunctionName="MdispFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="41" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="4" Type="InternalFree" ManagedObject="3">
      <MFunctionCall FunctionName="MsysFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="3" />
      </MFunctionCall>
    </MOperationSingle>
    <MOperationSingle UniqueIdentifier="56" Type="InternalFree" ManagedObject="1">
      <MFunctionCall FunctionName="MappFree">
        <MFunctionCallParam ParamType="IMObject" IMObject="1" />
      </MFunctionCall>
    </MOperationSingle>
  </MOperationsManager>
  <MObjectsManager>
    <MApplication UniqueIdentifier="1" IsReadOnly="true" AllocOperation="48" FreeOperation="56" Name="MilApplication" Type="M_APPLICATION" OwnerSystem="0" />
    <MSystem UniqueIdentifier="3" IsReadOnly="true" AllocOperation="2" FreeOperation="4" Name="MilSystem" Type="M_SYSTEM" OwnerSystem="3" />
    <ClassContext UniqueIdentifier="5" AllocOperation="8" FreeOperation="10" Name="MatroxNet_PastaEx" Type="M_CLASS_CLASSIFIER_CNN_PREDEFINED_CONTEXT" OwnerSystem="3" />
    <Digitizer UniqueIdentifier="25" AllocOperation="14" FreeOperation="16" PostAllocBlockUniqueID="20" Name="Products" Type="M_DIGITIZER" OwnerSystem="3" GrabBufferBlockUniqueID="27" DigProcess="18" BufAllocLoop="22" BufFreeLoop="24" LoopHeader="26" LoopFooter="28" SizeX="DigSizeX" SizeY="DigSizeY" SizeBand="DigSizeBand" DigType="DigType" ArrayVariable="GrabBuffers" NbFramesVariable="NbFrames" />
    <SingleFrame UniqueIdentifier="27" IsReadOnly="true" IsDigitizerGrabBuffer="true" AllocOperation="30" FreeOperation="32" Name="Active Frame" Type="M_IMAGE" OwnerSystem="3" ParentObject="25" />
    <SingleFrame UniqueIdentifier="39" AllocOperation="34" FreeOperation="36" PostAllocBlockUniqueID="38" Name="MbufCopyColor2d's destination" Type="M_IMAGE" OwnerSystem="3" />
    <Display UniqueIdentifier="41" AllocOperation="42" FreeOperation="44" Name="Display" Type="M_DISPLAY" OwnerSystem="3" ControlBlock="46" />
    <ResultObject UniqueIdentifier="43" AllocOperation="50" FreeOperation="52" Name="Predict Cnn Result" Type="M_CLASS_PREDICT_CNN_RESULT" OwnerSystem="3" ParentObject="5" />
    <MObject UniqueIdentifier="69" IsReadOnly="true" AllocOperation="76" FreeOperation="78" Name="MclassPredict's graphicContext" Type="M_GRAPHIC_CONTEXT" OwnerSystem="3" />
    <GraphicList UniqueIdentifier="71" IsReadOnly="true" AllocOperation="80" FreeOperation="82" Name="MclassPredict's graphicList" Type="M_GRAPHIC_LIST" OwnerSystem="3" />
  </MObjectsManager>
  <MFunctionContextManager>
    <MFunctionContext UniqueIdentifier="2" Type="DigHook" LoopHeader="26" LoopFooter="28" />
  </MFunctionContextManager>
</Workspace>